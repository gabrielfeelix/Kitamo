import{b as j}from"./useIsMobile-CpoefEyf.js";import{d as S,g as a,n as x,e as s,o as l,c as f,a as w,w as F,i as c,F as _,r as C,j as L,f as B,t as d,b as E}from"./app-gwvRBHRb.js";import{_ as M,g as $}from"./InstitutionAvatar.vue_vue_type_script_setup_true_lang-xLwmYSVf.js";const O=S({__name:"AccountIcon",props:{type:{},icon:{},class:{}},setup(o){const m=o;return(p,i)=>o.type==="wallet"||o.icon==="wallet"?(l(),a("svg",{key:0,class:x(m.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...i[0]||(i[0]=[s("path",{d:"M4 7h16v12H4z"},null,-1),s("path",{d:"M4 7V5h12v2"},null,-1),s("path",{d:"M16 12h4"},null,-1)])],2)):o.type==="credit_card"||o.icon==="credit-card"||o.icon==="credit_card"?(l(),a("svg",{key:1,class:x(m.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...i[1]||(i[1]=[s("rect",{x:"3",y:"5",width:"18",height:"14",rx:"3"},null,-1),s("path",{d:"M3 10h18"},null,-1)])],2)):(l(),a("svg",{key:2,class:x(m.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...i[2]||(i[2]=[s("path",{d:"M3 10h18"},null,-1),s("path",{d:"M5 10V8l7-5 7 5v2"},null,-1),s("path",{d:"M6 10v9"},null,-1),s("path",{d:"M18 10v9"},null,-1)])],2))}}),V={class:"space-y-5 pb-2"},z={key:0},I={class:"mt-2 space-y-3"},P=["onClick"],T={class:"min-w-0 flex-1"},W={class:"truncate text-base font-semibold text-slate-900"},H={class:"mt-0.5 flex flex-wrap items-center gap-x-2 gap-y-1 text-xs font-semibold"},q={key:0,class:"truncate text-slate-400"},G={key:1,class:"text-slate-300"},J={key:2,class:"truncate text-slate-500"},K={key:1},Q={class:"mt-2 space-y-3"},U=["onClick"],X={class:"min-w-0 flex-1"},Y={class:"truncate text-base font-semibold text-slate-900"},Z={class:"mt-0.5 flex flex-wrap items-center gap-x-2 gap-y-1 text-xs font-semibold"},tt={key:0,class:"truncate text-slate-400"},et={key:1,class:"text-slate-300"},st={key:2,class:"truncate text-slate-500"},ot=S({__name:"AccountPickerSheet",props:{open:{type:Boolean},options:{},title:{}},emits:["close","select"],setup(o,{emit:m}){const p=o,i=m,A=e=>e==="purple"?"bg-purple-100 text-purple-600":e==="amber"?"bg-amber-100 text-amber-600":e==="emerald"?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-600",h=e=>e.type==="wallet"||e.icon==="wallet",D=e=>h(e)?null:$(e.label),g=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),N=e=>e.type==="credit_card",u=e=>{if(N(e)){const n=e.available??(e.limit!=null?Number(e.limit)-Number(e.used??0):null);return n==null?"":`Disponível: ${g(Math.max(0,n))}`}return e.balance==null?"":`Saldo: ${g(e.balance)}`},y=f(()=>p.options.filter(e=>e.type!=="credit_card")),b=f(()=>p.options.filter(e=>e.type==="credit_card")),k=e=>String(e??"").trim().toLowerCase(),R=f(()=>{const e=new Map;for(const t of b.value){const r=k(t.label);e.set(r,(e.get(r)??0)+1)}const n=new Map;return b.value.map(t=>{const r=k(t.label);if((e.get(r)??0)<=1)return{opt:t,label:t.label};const v=(n.get(r)??0)+1;return n.set(r,v),{opt:t,label:`${t.label} (${v})`}})});return(e,n)=>(l(),w(j,{open:o.open,title:p.title??"Pagar com",onClose:n[0]||(n[0]=t=>i("close"))},{default:F(()=>[s("div",V,[y.value.length?(l(),a("div",z,[n[2]||(n[2]=s("div",{class:"px-2 text-[10px] font-bold uppercase tracking-wide text-slate-400"},"CONTAS E CARTEIRAS",-1)),s("div",I,[(l(!0),a(_,null,C(y.value,t=>(l(),a("button",{key:t.key,type:"button",class:"flex w-full items-center gap-4 rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70",onClick:r=>i("select",t.key)},[h(t)?(l(),a("span",{key:1,class:x(["flex h-12 w-12 items-center justify-center rounded-full text-lg font-semibold",t.customColor?"":A(t.tone)]),style:L(t.customColor?{backgroundColor:t.customColor,color:"white"}:{})},[B(O,{type:t.type,icon:t.icon,class:"h-6 w-6"},null,8,["type","icon"])],6)):(l(),w(M,{key:0,institution:t.label,"svg-path":D(t),"fallback-icon":"account","container-class":"flex h-12 w-12 items-center justify-center overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/70","img-class":"h-10 w-10 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution","svg-path"])),s("div",T,[s("div",W,d(t.label),1),s("div",H,[t.subtitle?(l(),a("span",q,d(t.subtitle),1)):c("",!0),t.subtitle&&u(t)?(l(),a("span",G,"•")):c("",!0),u(t)?(l(),a("span",J,d(u(t)),1)):c("",!0)])]),n[1]||(n[1]=s("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[s("path",{d:"M9 5l7 7-7 7"})],-1))],8,P))),128))])])):c("",!0),b.value.length?(l(),a("div",K,[n[4]||(n[4]=s("div",{class:"px-2 text-[10px] font-bold uppercase tracking-wide text-slate-400"},"CARTÕES DE CRÉDITO",-1)),s("div",Q,[(l(!0),a(_,null,C(R.value,t=>(l(),a("button",{key:t.opt.key,type:"button",class:"flex w-full items-center gap-4 rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70",onClick:r=>i("select",t.opt.key)},[B(M,{institution:t.opt.label,"svg-path":E($)(t.opt.label),"fallback-icon":"credit-card","container-class":"flex h-12 w-12 items-center justify-center overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/70","img-class":"h-10 w-10 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution","svg-path"]),s("div",X,[s("div",Y,d(t.label),1),s("div",Z,[t.opt.subtitle?(l(),a("span",tt,d(t.opt.subtitle),1)):c("",!0),t.opt.subtitle&&u(t.opt)?(l(),a("span",et,"•")):c("",!0),u(t.opt)?(l(),a("span",st,d(u(t.opt)),1)):c("",!0)])]),n[3]||(n[3]=s("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[s("path",{d:"M9 5l7 7-7 7"})],-1))],8,U))),128))])])):c("",!0)])]),_:1},8,["open","title"]))}});export{O as _,ot as a};

import{r as zn,b as rs}from"./useIsMobile-CpoefEyf.js";import{d as Xe,U as fa,h as F,V as Wa,z as ut,M as xt,O as Ya,p as Ze,c as I,g as _,o as g,f as Be,a as Ae,E as mt,r as Ne,w as De,Q as me,G as st,H as yt,b as v,B as ot,W as kl,q as la,i as W,C as pn,T as jl,n as re,X as ss,Y as Qa,L as os,Z as _l,e as o,A as St,F as Me,j as at,t as Te,_ as is,$ as us,k as Xt,a0 as ds,a1 as cs,a2 as vs,x as Wt,a3 as sn,a4 as on,s as ea,I as un,P as ms}from"./app-gwvRBHRb.js";import{m as ps,p as wa,f as fs,n as hs}from"./inputGuards-BV9ov3X1.js";import{_ as ql}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as An,a as $n}from"./AccountPickerSheet.vue_vue_type_script_setup_true_lang-BNMHZb6i.js";import{_ as xa}from"./InstitutionAvatar.vue_vue_type_script_setup_true_lang-xLwmYSVf.js";const Zv=e=>({kind:e.kind,amount:e.amount,description:e.description,category:e.category,account:e.account,dateKind:e.dateKind,dateOther:e.dateOther,isPaid:e.isPaid,isInstallment:e.isInstallment,installmentCount:e.installmentCount,tags:e.tags??[],remove_receipt:e.removeReceipt??!1,repetir:e.repetir??!1,repetir_vezes:e.repetir?e.repetirVezes??null:null,repetir_meses:e.repetir?e.repetirMeses??null:null,despesa_fixa:e.despesaFixa??!1,editar_escopo:e.editarEscopo??null}),em=e=>!!e.receiptFile,tm=e=>{const t=new FormData;t.set("kind",e.kind),t.set("amount",String(e.amount)),t.set("description",e.description),t.set("category",e.category??""),t.set("account",e.account??""),t.set("dateKind",e.dateKind),e.dateOther&&t.set("dateOther",e.dateOther),t.set("isPaid",e.isPaid?"1":"0"),t.set("isInstallment",e.isInstallment?"1":"0"),t.set("installmentCount",String(e.installmentCount??1)),t.set("repetir",e.repetir?"1":"0"),e.repetir&&e.repetirVezes!=null&&t.set("repetir_vezes",String(e.repetirVezes)),e.repetir&&e.repetirMeses!=null&&t.set("repetir_meses",String(e.repetirMeses)),t.set("despesa_fixa",e.despesaFixa?"1":"0"),e.editarEscopo&&t.set("editar_escopo",e.editarEscopo),t.set("remove_receipt",e.removeReceipt?"1":"0");for(const n of e.tags??[])t.append("tags[]",n);return e.receiptFile&&t.set("receipt",e.receiptFile),t},am=async e=>{const t=(e.transferFrom??"").trim(),n=(e.transferTo??"").trim();if(!t||!n)throw new Error("Conta de origem/destino inválida.");if(t===n)throw new Error("Conta de origem e destino devem ser diferentes.");const a=(e.transferDescription??"").trim()||"Transferência";return zn("/api/transferencias",{method:"POST",body:JSON.stringify({conta_origem:t,conta_destino:n,valor:e.amount,descricao:a})})},Wl=6048e5,ys=864e5,gs=6e4,Ul=36e5,bs=1e3,Ml=Symbol.for("constructDateFrom");function Ee(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Ml in e?e[Ml](t):e instanceof Date?new e.constructor(t):new Date(t)}function ke(e,t){return Ee(t||e,e)}function Tt(e,t,n){const a=ke(e,n?.in);return isNaN(t)?Ee(n?.in||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function Ft(e,t,n){const a=ke(e,n?.in);if(isNaN(t))return Ee(e,NaN);if(!t)return a;const l=a.getDate(),r=Ee(e,a.getTime());r.setMonth(a.getMonth()+t+1,0);const s=r.getDate();return l>=s?r:(a.setFullYear(r.getFullYear(),r.getMonth(),l),a)}function Xl(e,t,n){const{years:a=0,months:l=0,weeks:r=0,days:s=0,hours:p=0,minutes:u=0,seconds:T=0}=t,m=ke(e,n?.in),f=l||a?Ft(m,l+a*12):m,w=s||r?Tt(f,s+r*7):f,P=u+p*60,O=(T+P*60)*1e3;return Ee(e,+w+O)}function ws(e,t,n){return Ee(e,+ke(e)+t)}function xs(e,t,n){return ws(e,t*Ul)}let ks={};function ha(){return ks}function It(e,t){const n=ha(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=ke(e,t?.in),r=l.getDay(),s=(r<a?7:0)+r-a;return l.setDate(l.getDate()-s),l.setHours(0,0,0,0),l}function Ca(e,t){return It(e,{...t,weekStartsOn:1})}function Ql(e,t){const n=ke(e,t?.in),a=n.getFullYear(),l=Ee(n,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const r=Ca(l),s=Ee(n,0);s.setFullYear(a,0,4),s.setHours(0,0,0,0);const p=Ca(s);return n.getTime()>=r.getTime()?a+1:n.getTime()>=p.getTime()?a:a-1}function dn(e){const t=ke(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ka(e,...t){const n=Ee.bind(null,t.find(a=>typeof a=="object"));return t.map(n)}function Tl(e,t){const n=ke(e,t?.in);return n.setHours(0,0,0,0),n}function Kl(e,t,n){const[a,l]=Ka(n?.in,e,t),r=Tl(a),s=Tl(l),p=+r-dn(r),u=+s-dn(s);return Math.round((p-u)/ys)}function _s(e,t){const n=Ql(e,t),a=Ee(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Ca(a)}function Ms(e,t,n){return Ft(e,t*3,n)}function Gn(e,t,n){return Ft(e,t*12,n)}function Dl(e,t){const n=+ke(e)-+ke(t);return n<0?-1:n>0?1:n}function Gl(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ja(e){return!(!Gl(e)&&typeof e!="number"||isNaN(+ke(e)))}function Pl(e,t){const n=ke(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function Ts(e,t,n){const[a,l]=Ka(n?.in,e,t);return a.getFullYear()-l.getFullYear()}function Ds(e,t,n){const[a,l]=Ka(n?.in,e,t),r=Dl(a,l),s=Math.abs(Ts(a,l));a.setFullYear(1584),l.setFullYear(1584);const p=Dl(a,l)===-r,u=r*(s-+p);return u===0?0:u}function Jl(e,t){const[n,a]=Ka(e,t.start,t.end);return{start:n,end:a}}function Zl(e,t){const{start:n,end:a}=Jl(t?.in,e);let l=+n>+a;const r=l?+n:+a,s=l?a:n;s.setHours(0,0,0,0);let p=1;const u=[];for(;+s<=r;)u.push(Ee(n,s)),s.setDate(s.getDate()+p),s.setHours(0,0,0,0);return l?u.reverse():u}function ca(e,t){const n=ke(e,t?.in),a=n.getMonth(),l=a-a%3;return n.setMonth(l,1),n.setHours(0,0,0,0),n}function Ps(e,t){const{start:n,end:a}=Jl(t?.in,e);let l=+n>+a;const r=l?+ca(n):+ca(a);let s=ca(l?a:n),p=1;const u=[];for(;+s<=r;)u.push(Ee(n,s)),s=Ms(s,p);return l?u.reverse():u}function Cs(e,t){const n=ke(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function er(e,t){const n=ke(e,t?.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function Da(e,t){const n=ke(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tr(e,t){const n=ha(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=ke(e,t?.in),r=l.getDay(),s=(r<a?-7:0)+6-(r-a);return l.setDate(l.getDate()+s),l.setHours(23,59,59,999),l}function Cl(e,t){const n=ke(e,t?.in),a=n.getMonth(),l=a-a%3+3;return n.setMonth(l,0),n.setHours(23,59,59,999),n}const As={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$s=(e,t,n)=>{let a;const l=As[e];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function On(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Os={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ss={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rs={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ys={date:On({formats:Os,defaultWidth:"full"}),time:On({formats:Ss,defaultWidth:"full"}),dateTime:On({formats:Rs,defaultWidth:"full"})},Fs={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Is=(e,t,n,a)=>Fs[e];function La(e){return(t,n)=>{const a=n?.context?String(n.context):"standalone";let l;if(a==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,p=n?.width?String(n.width):s;l=e.formattingValues[p]||e.formattingValues[s]}else{const s=e.defaultWidth,p=n?.width?String(n.width):e.defaultWidth;l=e.values[p]||e.values[s]}const r=e.argumentCallback?e.argumentCallback(t):t;return l[r]}}const Bs={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ns={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Es={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vs={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ls={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Hs={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zs=(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},js={ordinalNumber:zs,era:La({values:Bs,defaultWidth:"wide"}),quarter:La({values:Ns,defaultWidth:"wide",argumentCallback:e=>e-1}),month:La({values:Es,defaultWidth:"wide"}),day:La({values:Vs,defaultWidth:"wide"}),dayPeriod:La({values:Ls,defaultWidth:"wide",formattingValues:Hs,defaultFormattingWidth:"wide"})};function Ha(e){return(t,n={})=>{const a=n.width,l=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],r=t.match(l);if(!r)return null;const s=r[0],p=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(p)?Ws(p,f=>f.test(s)):qs(p,f=>f.test(s));let T;T=e.valueCallback?e.valueCallback(u):u,T=n.valueCallback?n.valueCallback(T):T;const m=t.slice(s.length);return{value:T,rest:m}}}function qs(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Ws(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Us(e){return(t,n={})=>{const a=t.match(e.matchPattern);if(!a)return null;const l=a[0],r=t.match(e.parsePattern);if(!r)return null;let s=e.valueCallback?e.valueCallback(r[0]):r[0];s=n.valueCallback?n.valueCallback(s):s;const p=t.slice(l.length);return{value:s,rest:p}}}const Xs=/^(\d+)(th|st|nd|rd)?/i,Qs=/\d+/i,Ks={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gs={any:[/^b/i,/^(a|c)/i]},Js={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Zs={any:[/1/i,/2/i,/3/i,/4/i]},eo={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},to={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ao={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},no={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ro={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},so={ordinalNumber:Us({matchPattern:Xs,parsePattern:Qs,valueCallback:e=>parseInt(e,10)}),era:Ha({matchPatterns:Ks,defaultMatchWidth:"wide",parsePatterns:Gs,defaultParseWidth:"any"}),quarter:Ha({matchPatterns:Js,defaultMatchWidth:"wide",parsePatterns:Zs,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ha({matchPatterns:eo,defaultMatchWidth:"wide",parsePatterns:to,defaultParseWidth:"any"}),day:Ha({matchPatterns:ao,defaultMatchWidth:"wide",parsePatterns:no,defaultParseWidth:"any"}),dayPeriod:Ha({matchPatterns:lo,defaultMatchWidth:"any",parsePatterns:ro,defaultParseWidth:"any"})},ar={code:"en-US",formatDistance:$s,formatLong:Ys,formatRelative:Is,localize:js,match:so,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oo(e,t){const n=ke(e,t?.in);return Kl(n,Da(n))+1}function Jn(e,t){const n=ke(e,t?.in),a=+Ca(n)-+_s(n);return Math.round(a/Wl)+1}function Zn(e,t){const n=ke(e,t?.in),a=n.getFullYear(),l=ha(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,s=Ee(t?.in||e,0);s.setFullYear(a+1,0,r),s.setHours(0,0,0,0);const p=It(s,t),u=Ee(t?.in||e,0);u.setFullYear(a,0,r),u.setHours(0,0,0,0);const T=It(u,t);return+n>=+p?a+1:+n>=+T?a:a-1}function io(e,t){const n=ha(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=Zn(e,t),r=Ee(t?.in||e,0);return r.setFullYear(l,0,a),r.setHours(0,0,0,0),It(r,t)}function el(e,t){const n=ke(e,t?.in),a=+It(n,t)-+io(n,t);return Math.round(a/Wl)+1}function Ie(e,t){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return n+a}const Jt={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return Ie(t==="yy"?a%100:a,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ie(n+1,2)},d(e,t){return Ie(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ie(e.getHours()%12||12,t.length)},H(e,t){return Ie(e.getHours(),t.length)},m(e,t){return Ie(e.getMinutes(),t.length)},s(e,t){return Ie(e.getSeconds(),t.length)},S(e,t){const n=t.length,a=e.getMilliseconds(),l=Math.trunc(a*Math.pow(10,n-3));return Ie(l,t.length)}},ka={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Al={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const a=e.getFullYear(),l=a>0?a:1-a;return n.ordinalNumber(l,{unit:"year"})}return Jt.y(e,t)},Y:function(e,t,n,a){const l=Zn(e,a),r=l>0?l:1-l;if(t==="YY"){const s=r%100;return Ie(s,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):Ie(r,t.length)},R:function(e,t){const n=Ql(e);return Ie(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ie(n,t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Ie(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Ie(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return Jt.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Ie(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const l=el(e,a);return t==="wo"?n.ordinalNumber(l,{unit:"week"}):Ie(l,t.length)},I:function(e,t,n){const a=Jn(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):Ie(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Jt.d(e,t)},D:function(e,t,n){const a=oo(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ie(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const l=e.getDay(),r=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Ie(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const l=e.getDay(),r=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Ie(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),l=a===0?7:a;switch(t){case"i":return String(l);case"ii":return Ie(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let l;switch(a===12?l=ka.noon:a===0?l=ka.midnight:l=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let l;switch(a>=17?l=ka.evening:a>=12?l=ka.afternoon:a>=4?l=ka.morning:l=ka.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Jt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Jt.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ie(a,t.length)},k:function(e,t,n){let a=e.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ie(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Jt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Jt.s(e,t)},S:function(e,t){return Jt.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Ol(a);case"XXXX":case"XX":return da(a);default:return da(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return Ol(a);case"xxxx":case"xx":return da(a);default:return da(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$l(a,":");default:return"GMT"+da(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$l(a,":");default:return"GMT"+da(a,":")}},t:function(e,t,n){const a=Math.trunc(+e/1e3);return Ie(a,t.length)},T:function(e,t,n){return Ie(+e,t.length)}};function $l(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),r=a%60;return r===0?n+String(l):n+String(l)+t+Ie(r,2)}function Ol(e,t){return e%60===0?(e>0?"-":"+")+Ie(Math.abs(e)/60,2):da(e,t)}function da(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),l=Ie(Math.trunc(a/60),2),r=Ie(a%60,2);return n+l+t+r}const Sl=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},nr=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},uo=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],l=n[2];if(!l)return Sl(e,t);let r;switch(a){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",Sl(a,t)).replace("{{time}}",nr(l,t))},jn={p:nr,P:uo},co=/^D+$/,vo=/^Y+$/,mo=["D","DD","YY","YYYY"];function lr(e){return co.test(e)}function rr(e){return vo.test(e)}function qn(e,t,n){const a=po(e,t,n);if(console.warn(a),mo.includes(e))throw new RangeError(a)}function po(e,t,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ho=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yo=/^'([^]*?)'?$/,go=/''/g,bo=/[a-zA-Z]/;function Ht(e,t,n){const a=ha(),l=n?.locale??a.locale??ar,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,p=ke(e,n?.in);if(!ja(p))throw new RangeError("Invalid time value");let u=t.match(ho).map(m=>{const f=m[0];if(f==="p"||f==="P"){const w=jn[f];return w(m,l.formatLong)}return m}).join("").match(fo).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const f=m[0];if(f==="'")return{isToken:!1,value:wo(m)};if(Al[f])return{isToken:!0,value:m};if(f.match(bo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:m}});l.localize.preprocessor&&(u=l.localize.preprocessor(p,u));const T={firstWeekContainsDate:r,weekStartsOn:s,locale:l};return u.map(m=>{if(!m.isToken)return m.value;const f=m.value;(!n?.useAdditionalWeekYearTokens&&rr(f)||!n?.useAdditionalDayOfYearTokens&&lr(f))&&qn(f,t,String(e));const w=Al[f[0]];return w(p,f,l.localize,T)}).join("")}function wo(e){const t=e.match(yo);return t?t[1].replace(go,"'"):e}function xo(e,t){return ke(e,t?.in).getDay()}function ko(e,t){const n=ke(e,t?.in),a=n.getFullYear(),l=n.getMonth(),r=Ee(n,0);return r.setFullYear(a,l+1,0),r.setHours(0,0,0,0),r.getDate()}function _o(){return Object.assign({},ha())}function Qt(e,t){return ke(e,t?.in).getHours()}function Mo(e,t){const n=ke(e,t?.in).getDay();return n===0?7:n}function ra(e,t){return ke(e,t?.in).getMinutes()}function Se(e,t){return ke(e,t?.in).getMonth()}function Aa(e){return ke(e).getSeconds()}function _e(e,t){return ke(e,t?.in).getFullYear()}function pa(e,t){return+ke(e)>+ke(t)}function $a(e,t){return+ke(e)<+ke(t)}function Ta(e,t){return+ke(e)==+ke(t)}function To(e,t){const n=Do(t)?new t(0):Ee(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function Do(e){return typeof e=="function"&&e.prototype?.constructor===e}const Po=10;class sr{subPriority=0;validate(t,n){return!0}}class Co extends sr{constructor(t,n,a,l,r){super(),this.value=t,this.validateValue=n,this.setValue=a,this.priority=l,r&&(this.subPriority=r)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,a){return this.setValue(t,n,this.value,a)}}class Ao extends sr{priority=Po;subPriority=-1;constructor(t,n){super(),this.context=t||(a=>Ee(n,a))}set(t,n){return n.timestampIsSet?t:Ee(t,To(t,this.context))}}class Ye{run(t,n,a,l){const r=this.parse(t,n,a,l);return r?{setter:new Co(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(t,n,a){return!0}}class $o extends Ye{priority=140;parse(t,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,n,a){return n.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Ge={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Vt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Je(e,t){return e&&{value:t(e.value),rest:e.rest}}function qe(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Lt(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const a=n[1]==="+"?1:-1,l=n[2]?parseInt(n[2],10):0,r=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:a*(l*Ul+r*gs+s*bs),rest:t.slice(n[0].length)}}function or(e){return qe(Ge.anyDigitsSigned,e)}function Ue(e,t){switch(e){case 1:return qe(Ge.singleDigit,t);case 2:return qe(Ge.twoDigits,t);case 3:return qe(Ge.threeDigits,t);case 4:return qe(Ge.fourDigits,t);default:return qe(new RegExp("^\\d{1,"+e+"}"),t)}}function cn(e,t){switch(e){case 1:return qe(Ge.singleDigitSigned,t);case 2:return qe(Ge.twoDigitsSigned,t);case 3:return qe(Ge.threeDigitsSigned,t);case 4:return qe(Ge.fourDigitsSigned,t);default:return qe(new RegExp("^-?\\d{1,"+e+"}"),t)}}function tl(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ir(e,t){const n=t>0,a=n?t:1-t;let l;if(a<=50)l=e||100;else{const r=a+50,s=Math.trunc(r/100)*100,p=e>=r%100;l=e+s-(p?100:0)}return n?l:1-l}function ur(e){return e%400===0||e%4===0&&e%100!==0}class Oo extends Ye{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,a){const l=r=>({year:r,isTwoDigitYear:n==="yy"});switch(n){case"y":return Je(Ue(4,t),l);case"yo":return Je(a.ordinalNumber(t,{unit:"year"}),l);default:return Je(Ue(n.length,t),l)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a){const l=t.getFullYear();if(a.isTwoDigitYear){const s=ir(a.year,l);return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}const r=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class So extends Ye{priority=130;parse(t,n,a){const l=r=>({year:r,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Je(Ue(4,t),l);case"Yo":return Je(a.ordinalNumber(t,{unit:"year"}),l);default:return Je(Ue(n.length,t),l)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a,l){const r=Zn(t,l);if(a.isTwoDigitYear){const p=ir(a.year,r);return t.setFullYear(p,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),It(t,l)}const s=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(s,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),It(t,l)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Ro extends Ye{priority=130;parse(t,n){return cn(n==="R"?4:n.length,t)}set(t,n,a){const l=Ee(t,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),Ca(l)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Yo extends Ye{priority=130;parse(t,n){return cn(n==="u"?4:n.length,t)}set(t,n,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Fo extends Ye{priority=120;parse(t,n,a){switch(n){case"Q":case"QQ":return Ue(n.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Io extends Ye{priority=120;parse(t,n,a){switch(n){case"q":case"qq":return Ue(n.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Bo extends Ye{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,a){const l=r=>r-1;switch(n){case"M":return Je(qe(Ge.month,t),l);case"MM":return Je(Ue(2,t),l);case"Mo":return Je(a.ordinalNumber(t,{unit:"month"}),l);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class No extends Ye{priority=110;parse(t,n,a){const l=r=>r-1;switch(n){case"L":return Je(qe(Ge.month,t),l);case"LL":return Je(Ue(2,t),l);case"Lo":return Je(a.ordinalNumber(t,{unit:"month"}),l);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Eo(e,t,n){const a=ke(e,n?.in),l=el(a,n)-t;return a.setDate(a.getDate()-l*7),ke(a,n?.in)}class Vo extends Ye{priority=100;parse(t,n,a){switch(n){case"w":return qe(Ge.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return Ue(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a,l){return It(Eo(t,a,l),l)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Lo(e,t,n){const a=ke(e,n?.in),l=Jn(a,n)-t;return a.setDate(a.getDate()-l*7),a}class Ho extends Ye{priority=100;parse(t,n,a){switch(n){case"I":return qe(Ge.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return Ue(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a){return Ca(Lo(t,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const zo=[31,28,31,30,31,30,31,31,30,31,30,31],jo=[31,29,31,30,31,30,31,31,30,31,30,31];class qo extends Ye{priority=90;subPriority=1;parse(t,n,a){switch(n){case"d":return qe(Ge.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return Ue(n.length,t)}}validate(t,n){const a=t.getFullYear(),l=ur(a),r=t.getMonth();return l?n>=1&&n<=jo[r]:n>=1&&n<=zo[r]}set(t,n,a){return t.setDate(a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Wo extends Ye{priority=90;subpriority=1;parse(t,n,a){switch(n){case"D":case"DD":return qe(Ge.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return Ue(n.length,t)}}validate(t,n){const a=t.getFullYear();return ur(a)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function al(e,t,n){const a=ha(),l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,r=ke(e,n?.in),s=r.getDay(),u=(t%7+7)%7,T=7-l,m=t<0||t>6?t-(s+T)%7:(u+T)%7-(s+T)%7;return Tt(r,m,n)}class Uo extends Ye{priority=90;parse(t,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,l){return t=al(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class Xo extends Ye{priority=90;parse(t,n,a,l){const r=s=>{const p=Math.floor((s-1)/7)*7;return(s+l.weekStartsOn+6)%7+p};switch(n){case"e":case"ee":return Je(Ue(n.length,t),r);case"eo":return Je(a.ordinalNumber(t,{unit:"day"}),r);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,l){return t=al(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Qo extends Ye{priority=90;parse(t,n,a,l){const r=s=>{const p=Math.floor((s-1)/7)*7;return(s+l.weekStartsOn+6)%7+p};switch(n){case"c":case"cc":return Je(Ue(n.length,t),r);case"co":return Je(a.ordinalNumber(t,{unit:"day"}),r);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,l){return t=al(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Ko(e,t,n){const a=ke(e,n?.in),l=Mo(a,n),r=t-l;return Tt(a,r,n)}class Go extends Ye{priority=90;parse(t,n,a){const l=r=>r===0?7:r;switch(n){case"i":case"ii":return Ue(n.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return Je(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return Je(a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Je(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);default:return Je(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,n){return n>=1&&n<=7}set(t,n,a){return t=Ko(t,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Jo extends Ye{priority=80;parse(t,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(tl(a),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class Zo extends Ye{priority=80;parse(t,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(tl(a),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class ei extends Ye{priority=80;parse(t,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(tl(a),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class ti extends Ye{priority=70;parse(t,n,a){switch(n){case"h":return qe(Ge.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return Ue(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,a){const l=t.getHours()>=12;return l&&a<12?t.setHours(a+12,0,0,0):!l&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class ai extends Ye{priority=70;parse(t,n,a){switch(n){case"H":return qe(Ge.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return Ue(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,a){return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class ni extends Ye{priority=70;parse(t,n,a){switch(n){case"K":return qe(Ge.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return Ue(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class li extends Ye{priority=70;parse(t,n,a){switch(n){case"k":return qe(Ge.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return Ue(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,a){const l=a<=24?a%24:a;return t.setHours(l,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class ri extends Ye{priority=60;parse(t,n,a){switch(n){case"m":return qe(Ge.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return Ue(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setMinutes(a,0,0),t}incompatibleTokens=["t","T"]}class si extends Ye{priority=50;parse(t,n,a){switch(n){case"s":return qe(Ge.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return Ue(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setSeconds(a,0),t}incompatibleTokens=["t","T"]}class oi extends Ye{priority=30;parse(t,n){const a=l=>Math.trunc(l*Math.pow(10,-n.length+3));return Je(Ue(n.length,t),a)}set(t,n,a){return t.setMilliseconds(a),t}incompatibleTokens=["t","T"]}class ii extends Ye{priority=10;parse(t,n){switch(n){case"X":return Lt(Vt.basicOptionalMinutes,t);case"XX":return Lt(Vt.basic,t);case"XXXX":return Lt(Vt.basicOptionalSeconds,t);case"XXXXX":return Lt(Vt.extendedOptionalSeconds,t);default:return Lt(Vt.extended,t)}}set(t,n,a){return n.timestampIsSet?t:Ee(t,t.getTime()-dn(t)-a)}incompatibleTokens=["t","T","x"]}class ui extends Ye{priority=10;parse(t,n){switch(n){case"x":return Lt(Vt.basicOptionalMinutes,t);case"xx":return Lt(Vt.basic,t);case"xxxx":return Lt(Vt.basicOptionalSeconds,t);case"xxxxx":return Lt(Vt.extendedOptionalSeconds,t);default:return Lt(Vt.extended,t)}}set(t,n,a){return n.timestampIsSet?t:Ee(t,t.getTime()-dn(t)-a)}incompatibleTokens=["t","T","X"]}class di extends Ye{priority=40;parse(t){return or(t)}set(t,n,a){return[Ee(t,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class ci extends Ye{priority=20;parse(t){return or(t)}set(t,n,a){return[Ee(t,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const vi={G:new $o,y:new Oo,Y:new So,R:new Ro,u:new Yo,Q:new Fo,q:new Io,M:new Bo,L:new No,w:new Vo,I:new Ho,d:new qo,D:new Wo,E:new Uo,e:new Xo,c:new Qo,i:new Go,a:new Jo,b:new Zo,B:new ei,h:new ti,H:new ai,K:new ni,k:new li,m:new ri,s:new si,S:new oi,X:new ii,x:new ui,t:new di,T:new ci},mi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fi=/^'([^]*?)'?$/,hi=/''/g,yi=/\S/,gi=/[a-zA-Z]/;function Wn(e,t,n,a){const l=()=>Ee(a?.in||n,NaN),r=_o(),s=a?.locale??r.locale??ar,p=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(!t)return e?l():ke(n,a?.in);const T={firstWeekContainsDate:p,weekStartsOn:u,locale:s},m=[new Ao(a?.in,n)],f=t.match(pi).map(R=>{const B=R[0];if(B in jn){const L=jn[B];return L(R,s.formatLong)}return R}).join("").match(mi),w=[];for(let R of f){!a?.useAdditionalWeekYearTokens&&rr(R)&&qn(R,t,e),!a?.useAdditionalDayOfYearTokens&&lr(R)&&qn(R,t,e);const B=R[0],L=vi[B];if(L){const{incompatibleTokens:$}=L;if(Array.isArray($)){const J=w.find(Y=>$.includes(Y.token)||Y.token===B);if(J)throw new RangeError(`The format string mustn't contain \`${J.fullToken}\` and \`${R}\` at the same time`)}else if(L.incompatibleTokens==="*"&&w.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);w.push({token:B,fullToken:R});const U=L.run(e,R,s.match,T);if(!U)return l();m.push(U.setter),e=U.rest}else{if(B.match(gi))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");if(R==="''"?R="'":B==="'"&&(R=bi(R)),e.indexOf(R)===0)e=e.slice(R.length);else return l()}}if(e.length>0&&yi.test(e))return l();const P=m.map(R=>R.priority).sort((R,B)=>B-R).filter((R,B,L)=>L.indexOf(R)===B).map(R=>m.filter(B=>B.priority===R).sort((B,L)=>L.subPriority-B.subPriority)).map(R=>R[0]);let M=ke(n,a?.in);if(isNaN(+M))return l();const O={};for(const R of P){if(!R.validate(M,T))return l();const B=R.set(M,O,T);Array.isArray(B)?(M=B[0],Object.assign(O,B[1])):M=B}return M}function bi(e){return e.match(fi)[1].replace(hi,"'")}function Rl(e,t,n){const[a,l]=Ka(n?.in,e,t);return+ca(a)==+ca(l)}function dr(e,t,n){return Tt(e,-t,n)}function cr(e,t,n){const a=ke(e,n?.in),l=a.getFullYear(),r=a.getDate(),s=Ee(e,0);s.setFullYear(l,t,15),s.setHours(0,0,0,0);const p=ko(s);return a.setMonth(t,Math.min(r,p)),a}function Ve(e,t,n){let a=ke(e,n?.in);return isNaN(+a)?Ee(e,NaN):(t.year!=null&&a.setFullYear(t.year),t.month!=null&&(a=cr(a,t.month)),t.date!=null&&a.setDate(t.date),t.hours!=null&&a.setHours(t.hours),t.minutes!=null&&a.setMinutes(t.minutes),t.seconds!=null&&a.setSeconds(t.seconds),t.milliseconds!=null&&a.setMilliseconds(t.milliseconds),a)}function wi(e,t,n){const a=ke(e,n?.in);return a.setHours(t),a}function vr(e,t,n){const a=ke(e,n?.in);return a.setMilliseconds(t),a}function xi(e,t,n){const a=ke(e,n?.in);return a.setMinutes(t),a}function mr(e,t,n){const a=ke(e,n?.in);return a.setSeconds(t),a}function Rt(e,t,n){const a=ke(e,n?.in);return isNaN(+a)?Ee(e,NaN):(a.setFullYear(t),a)}function Oa(e,t,n){return Ft(e,-t,n)}function ki(e,t,n){const{years:a=0,months:l=0,weeks:r=0,days:s=0,hours:p=0,minutes:u=0,seconds:T=0}=t,m=Oa(e,l+a*12,n),f=dr(m,s+r*7,n),w=u+p*60,M=(T+w*60)*1e3;return Ee(e,+f-M)}function pr(e,t,n){return Gn(e,-t,n)}function Fa(){const e=us();return g(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[o("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),o("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),o("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),o("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Fa.compatConfig={MODE:3};function fr(){return g(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),o("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}fr.compatConfig={MODE:3};function nl(){return g(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}nl.compatConfig={MODE:3};function ll(){return g(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}ll.compatConfig={MODE:3};function rl(){return g(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),o("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}rl.compatConfig={MODE:3};function sl(){return g(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}sl.compatConfig={MODE:3};function ol(){return g(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ol.compatConfig={MODE:3};const gt=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),il=(e,t,n)=>Un(e,t,n)||G(),_i=(e,t,n)=>{const a=t.dateInTz?gt(new Date(e),t.dateInTz):G(e);return n?nt(a,!0):a},Un=(e,t,n)=>{if(!e)return null;const a=n?nt(G(e),!0):G(e);return t?t.exactMatch?_i(e,t,n):gt(a,t.timezone):a},Mi=e=>{const t=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<t},Ti=(e,t)=>{if(!e)return 0;const n=new Date,a=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),l=new Date(n.toLocaleString("en-US",{timeZone:e})),r=(Mi(t??l)?l:t??l).getTimezoneOffset()/60;return(+a-+l)/(1e3*60*60)-r};var $t=(e=>(e.month="month",e.year="year",e))($t||{}),Ot=(e=>(e.top="top",e.bottom="bottom",e))(Ot||{}),va=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(va||{}),vt=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(vt||{});const Di=["timestamp","date","iso"];var pt=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(pt||{}),He=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(He||{}),Pa=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(Pa||{});function Yl(e){return t=>{const n=new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`));return e==="ar"?n.slice(2,5):n.slice(0,2)}}function Pi(e){return t=>Ht(gt(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const Ci=(e,t,n)=>{const a=[1,2,3,4,5,6,7];let l;if(e!==null)try{l=a.map(Pi(e))}catch{l=a.map(Yl(t))}else l=a.map(Yl(t));const r=l.slice(0,n),s=l.slice(n+1,l.length);return[l[n]].concat(...s).concat(...r)},ul=(e,t,n)=>{const a=[];for(let l=+e[0];l<=+e[1];l++)a.push({value:+l,text:cl(l,t)});return n?a.reverse():a},hr=(e,t,n)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(r=>{const s=r<10?`0${r}`:r;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(e!==null)try{const r=n==="long"?"LLLL":"LLL";return a.map((s,p)=>{const u=Ht(gt(s,"UTC"),r,{locale:e});return{text:u.charAt(0).toUpperCase()+u.substring(1),value:p}})}catch{}const l=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return a.map((r,s)=>{const p=l.format(r);return{text:p.charAt(0).toUpperCase()+p.substring(1),value:s}})},Ai=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],et=e=>{const t=v(e);return t?.$el?t?.$el:t},$i=e=>({type:"dot",...e??{}}),yr=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,dl={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},rt=e=>e,Fl=e=>e===0?e:!e||isNaN(+e)?null:+e,Il=e=>e===null,gr=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},Oi=e=>{const t=[],n=a=>a.filter(l=>l);for(let a=0;a<e.length;a+=3){const l=[e[a],e[a+1],e[a+2]];t.push(n(l))}return t},Ua=(e,t,n)=>{const a=n!=null,l=t!=null;if(!a&&!l)return!1;const r=+n,s=+t;return a&&l?+e>r||+e<s:a?+e>r:l?+e<s:!1},Sa=(e,t)=>Oi(e).map(n=>n.map(a=>{const{active:l,disabled:r,isBetween:s,highlighted:p}=t(a);return{...a,active:l,disabled:r,className:{dp__overlay_cell_active:l,dp__overlay_cell:!l,dp__overlay_cell_disabled:r,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:r&&l,dp__cell_in_between:s,"dp--highlighted":p}}})),aa=(e,t,n=!1)=>{e&&t.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},Si=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Ri(e,t){let n=[...document.querySelectorAll(Si())];n=n.filter(l=>!e.contains(l)||l.hasAttribute("data-datepicker-instance"));const a=n.indexOf(e);if(a>=0&&(t?a-1>=0:a+1<=n.length))return n[a+(t?-1:1)]}const Xn=(e,t)=>e?.querySelector(`[data-dp-element="${t}"]`),cl=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),vl=(e,t)=>Ht(e,t??Pa.DATE),Sn=e=>Array.isArray(e),vn=(e,t,n)=>t.get(vl(e,n)),Yi=(e,t)=>e?t?t instanceof Map?!!vn(e,t):t(G(e)):!1:!0,ft=(e,t,n=!1,a)=>{if(e.key===He.enter||e.key===He.space)return n&&e.preventDefault(),t();if(a)return a(e)},Fi=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,br=(e,t)=>e?Pa.MONTH_AND_YEAR:t?Pa.YEAR:Pa.DATE,wr=e=>e<10?`0${e}`:e,Bl=(e,t,n,a,l,r)=>{const s=Wn(e,t.slice(0,e.length),new Date,{locale:r});return ja(s)&&Gl(s)?a||l?s:Ve(s,{hours:+n.hours,minutes:+n?.minutes,seconds:+n?.seconds,milliseconds:0}):null},Ii=(e,t,n,a,l,r)=>{const s=Array.isArray(n)?n[0]:n;if(typeof t=="string")return Bl(e,t,s,a,l,r);if(Array.isArray(t)){let p=null;for(const u of t)if(p=Bl(e,u,s,a,l,r),p)break;return p}return typeof t=="function"?t(e):null},G=e=>e?new Date(e):new Date,Bi=(e,t,n)=>{if(t){const l=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),p=e.getMinutes().toString().padStart(2,"0"),u=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${l}-${r}T${s}:${p}:${u}.000Z`}const a=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(a).toISOString()},nt=(e,t)=>{const n=G(JSON.parse(JSON.stringify(e))),a=Ve(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?Cs(a):a},na=(e,t,n,a)=>{let l=e?G(e):G();return(t||t===0)&&(l=wi(l,+t)),(n||n===0)&&(l=xi(l,+n)),(a||a===0)&&(l=mr(l,+a)),vr(l,0)},We=(e,t)=>!e||!t?!1:$a(nt(e),nt(t)),Re=(e,t)=>!e||!t?!1:Ta(nt(e),nt(t)),Ke=(e,t)=>!e||!t?!1:pa(nt(e),nt(t)),Xa=(e,t,n)=>e?.[0]&&e?.[1]?Ke(n,e[0])&&We(n,e[1]):e?.[0]&&t?Ke(n,e[0])&&We(n,t)||We(n,e[0])&&Ke(n,t):!1,Yt=e=>{const t=Ve(new Date(e),{date:1});return nt(t)},Rn=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===t?[a,n]:[a,isNaN(+e[a])?void 0:+e[a]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},ma=e=>({hours:Qt(e),minutes:ra(e),seconds:Aa(e)}),xr=(e,t)=>{if(t){const n=_e(G(t));if(n>e)return 12;if(n===e)return Se(G(t))}},kr=(e,t)=>{if(t){const n=_e(G(t));return n<e?-1:n===e?Se(G(t)):void 0}},Ra=e=>{if(e)return _e(G(e))},_r=(e,t)=>{const n=Ke(e,t)?t:e,a=Ke(t,e)?t:e;return Zl({start:n,end:a})},Ni=e=>{const t=Ft(e,1);return{month:Se(t),year:_e(t)}},qt=(e,t)=>{const n=It(e,{weekStartsOn:+t}),a=tr(e,{weekStartsOn:+t});return[n,a]},Mr=(e,t)=>{const n={hours:Qt(G()),minutes:ra(G()),seconds:t?Aa(G()):0};return Object.assign(n,e)},ta=(e,t,n)=>[Ve(G(e),{date:1}),Ve(G(),{month:t,year:n,date:1})],Ut=(e,t,n)=>{let a=e?G(e):G();return(t||t===0)&&(a=cr(a,t)),n&&(a=Rt(a,n)),a},Tr=(e,t,n,a,l)=>{if(!a||l&&!t||!l&&!n)return!1;const r=l?Ft(e,1):Oa(e,1),s=[Se(r),_e(r)];return l?!Vi(...s,t):!Ei(...s,n)},Ei=(e,t,n)=>We(...ta(n,e,t))||Re(...ta(n,e,t)),Vi=(e,t,n)=>Ke(...ta(n,e,t))||Re(...ta(n,e,t)),Dr=(e,t,n,a,l,r,s)=>{if(typeof t=="function"&&!s)return t(e);const p=n?{locale:n}:void 0;return Array.isArray(e)?`${Ht(e[0],r,p)}${l&&!e[1]?"":a}${e[1]?Ht(e[1],r,p):""}`:Ht(e,r,p)},_a=e=>{if(e)return null;throw new Error(dl.prop("partial-range"))},ln=(e,t)=>{if(t)return e();throw new Error(dl.prop("range"))},Qn=e=>Array.isArray(e)?ja(e[0])&&(e[1]?ja(e[1]):!0):e?ja(e):!1,Li=(e,t)=>Ve(t??G(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),Yn=(e,t,n,a)=>{if(!e)return!0;if(a){const l=n==="max"?$a(e,t):pa(e,t),r={seconds:0,milliseconds:0};return l||Ta(Ve(e,r),Ve(t,r))}return n==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},Fn=(e,t,n)=>e?Li(e,t):G(n??t),Nl=(e,t,n,a,l)=>{if(Array.isArray(a)){const s=Fn(e,a[0],t),p=Fn(e,a[1],t);return Yn(a[0],s,n,!!t)&&Yn(a[1],p,n,!!t)&&l}const r=Fn(e,a,t);return Yn(a,r,n,!!t)&&l},In=e=>Ve(G(),ma(e)),Hi=(e,t,n)=>{if(e instanceof Map){const a=`${wr(n+1)}-${t}`;return e.size?e.has(a):!1}return typeof e=="function"?e(nt(Ve(G(),{month:n,year:t}),!0)):!1},zi=(e,t,n)=>{if(e instanceof Map){const a=`${wr(n+1)}-${t}`;return e.size?e.has(a):!0}return!0},Pr=(e,t,n)=>typeof e=="function"?e({month:t,year:n}):!!e.months.find(a=>a.month===t&&a.year===n),ml=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),Kn=e=>`dp-${Ht(e,"yyyy-MM-dd")}`,El=(e,t)=>{const n=dr(nt(t),e),a=Tt(nt(t),e);return{before:n,after:a}},Cr=(e,t)=>t<+e[0]||t>+e[1],za=Qa({menuFocused:!1,shiftKeyInMenu:!1}),Ar=()=>{const e=n=>{za.menuFocused=n},t=n=>{za.shiftKeyInMenu!==n&&(za.shiftKeyInMenu=n)};return{control:I(()=>({shiftKeyInMenu:za.shiftKeyInMenu,menuFocused:za.menuFocused})),setMenuFocused:e,setShiftKey:t}},Le=Qa({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Bn=F(null),rn=F(!1),Nn=F(!1),En=F(!1),Vn=F(!1),ct=F(0),Qe=F(0),sa=()=>{const e=I(()=>rn.value?[...Le.selectionGrid,Le.actionRow].filter(f=>f.length):Nn.value?[...Le.timePicker[0],...Le.timePicker[1],Vn.value?[]:[Bn.value],Le.actionRow].filter(f=>f.length):En.value?[...Le.monthPicker,Le.actionRow]:[Le.monthYear,...Le.calendar,Le.time,Le.actionRow].filter(f=>f.length)),t=f=>{ct.value=f?ct.value+1:ct.value-1;let w=null;e.value[Qe.value]&&(w=e.value[Qe.value][ct.value]),!w&&e.value[Qe.value+(f?1:-1)]?(Qe.value=Qe.value+(f?1:-1),ct.value=f?0:e.value[Qe.value].length-1):w||(ct.value=f?ct.value-1:ct.value+1)},n=f=>{Qe.value===0&&!f||Qe.value===e.value.length&&f||(Qe.value=f?Qe.value+1:Qe.value-1,e.value[Qe.value]?e.value[Qe.value]&&!e.value[Qe.value][ct.value]&&ct.value!==0&&(ct.value=e.value[Qe.value].length-1):Qe.value=f?Qe.value-1:Qe.value+1)},a=f=>{let w=null;e.value[Qe.value]&&(w=e.value[Qe.value][ct.value]),w?w.focus({preventScroll:!rn.value}):ct.value=f?ct.value-1:ct.value+1},l=()=>{t(!0),a(!0)},r=()=>{t(!1),a(!1)},s=()=>{n(!1),a(!0)},p=()=>{n(!0),a(!0)},u=(f,w)=>{Le[w]=f},T=(f,w)=>{Le[w]=f},m=()=>{ct.value=0,Qe.value=0};return{buildMatrix:u,buildMultiLevelMatrix:T,setTimePickerBackRef:f=>{Bn.value=f},setSelectionGrid:f=>{rn.value=f,m(),f||(Le.selectionGrid=[])},setTimePicker:(f,w=!1)=>{Nn.value=f,Vn.value=w,m(),f||(Le.timePicker[0]=[],Le.timePicker[1]=[])},setTimePickerElements:(f,w=0)=>{Le.timePicker[w]=f},arrowRight:l,arrowLeft:r,arrowUp:s,arrowDown:p,clearArrowNav:()=>{Le.monthYear=[],Le.calendar=[],Le.time=[],Le.actionRow=[],Le.selectionGrid=[],Le.timePicker[0]=[],Le.timePicker[1]=[],rn.value=!1,Nn.value=!1,Vn.value=!1,En.value=!1,m(),Bn.value=null},setMonthPicker:f=>{En.value=f,m()},refSets:Le}},Vl=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),ji=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),Ll=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,qi=e=>{const t=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:Ll(!1)};const a=t?e:{},l=t?a.count??!0:e,r=Ll(l);return Object.assign(n,a,{count:r})},Wi=(e,t,n)=>e||(typeof n=="string"?n:t),Ui=e=>typeof e=="boolean"?e?Vl({}):!1:Vl(e),Xi=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},Qi=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),Ki=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),Gi=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},Ji=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),Zi=e=>{const t={dates:Array.isArray(e)?e.map(n=>G(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},eu=e=>typeof e=="object"?{type:e?.type??"local",hideOnOffsetDates:e?.hideOnOffsetDates??!1}:{type:e,hideOnOffsetDates:!1},tu=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},au=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Ln=(e,t,n,a)=>new Map(e.map(l=>{const r=il(l,t,a);return[vl(r,n),r]})),nu=(e,t)=>e.length?new Map(e.map(n=>{const a=il(n.date,t);return[vl(a,Pa.DATE),n]})):null,lu=e=>{const t=br(e.isMonthPicker,e.isYearPicker);return{minDate:Un(e.minDate,e.timezone,e.isSpecific),maxDate:Un(e.maxDate,e.timezone,e.isSpecific),disabledDates:Sn(e.disabledDates)?Ln(e.disabledDates,e.timezone,t,e.isSpecific):e.disabledDates,allowedDates:Sn(e.allowedDates)?Ln(e.allowedDates,e.timezone,t,e.isSpecific):null,highlight:typeof e.highlight=="object"&&Sn(e.highlight?.dates)?Ln(e.highlight.dates,e.timezone,t):e.highlight,markers:nu(e.markers,e.timezone)}},ru=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},su=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const n=t,a=e[n],l=typeof e[n]=="string"?{[a]:!0}:Object.fromEntries(a.map(r=>[r,!0]));return[t,l]}))}),ze=e=>{const t=()=>{const Y=e.enableSeconds?":ss":"",z=e.enableMinutes?":mm":"";return e.is24?`HH${z}${Y}`:`hh${z}${Y} aa`},n=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${R.value?.type==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy",a=Y=>Mr(Y,e.enableSeconds),l=()=>U.value.enabled?e.startTime&&Array.isArray(e.startTime)?[a(e.startTime[0]),a(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?a(e.startTime):null,r=I(()=>qi(e.multiCalendars)),s=I(()=>l()),p=I(()=>ji(e.ariaLabels)),u=I(()=>Qi(e.filters)),T=I(()=>Ui(e.transitions)),m=I(()=>Ki(e.actionRow)),f=I(()=>Wi(e.previewFormat,e.format,n())),w=I(()=>Xi(e.textInput)),P=I(()=>Gi(e.inline)),M=I(()=>Ji(e.config)),O=I(()=>Zi(e.highlight)),R=I(()=>eu(e.weekNumbers)),B=I(()=>au(e.timezone)),L=I(()=>ru(e.multiDates)),$=I(()=>lu({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:O.value,markers:e.markers,timezone:B.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),U=I(()=>tu(e.range)),J=I(()=>su(e.ui));return{defaultedTransitions:T,defaultedMultiCalendars:r,defaultedStartTime:s,defaultedAriaLabels:p,defaultedFilters:u,defaultedActionRow:m,defaultedPreviewFormat:f,defaultedTextInput:w,defaultedInline:P,defaultedConfig:M,defaultedHighlight:O,defaultedWeekNumbers:R,defaultedRange:U,propDates:$,defaultedTz:B,defaultedMultiDates:L,defaultedUI:J,getDefaultPattern:n,getDefaultStartTime:l,handleEventPropagation:Y=>{M.value.allowStopPropagation&&Y.stopPropagation(),M.value.allowPreventDefault&&Y.preventDefault()}}},ou=(e,t,{isInputFocused:n,isTextInputDate:a})=>{const l=F(),{defaultedTextInput:r,defaultedRange:s,defaultedTz:p,defaultedMultiDates:u,getDefaultPattern:T}=ze(t),m=F(""),f=Wa(t,"format"),w=Wa(t,"formatLocale");Ze(l,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",l.value,h(!0))},{deep:!0}),Ze(s,(c,K)=>{c.enabled!==K.enabled&&(l.value=null)}),Ze(f,()=>{q()});const P=c=>p.value.timezone&&p.value.convertModel?gt(c,p.value.timezone):c,M=c=>{if(p.value.timezone&&p.value.convertModel){const K=Ti(p.value.timezone,c);return xs(c,K)}return c},O=(c,K,Oe=!1)=>Dr(c,t.format,t.formatLocale,r.value.rangeSeparator,t.modelAuto,K??T(),Oe),R=c=>c?t.modelType?S(c):{hours:Qt(c),minutes:ra(c),seconds:t.enableSeconds?Aa(c):0}:null,B=c=>t.modelType?S(c):{month:Se(c),year:_e(c)},L=c=>Array.isArray(c)?u.value.enabled?c.map(K=>$(K,Rt(G(),K))):ln(()=>[Rt(G(),c[0]),c[1]?Rt(G(),c[1]):_a(s.value.partialRange)],s.value.enabled):Rt(G(),+c),$=(c,K)=>(typeof c=="string"||typeof c=="number")&&t.modelType?te(c):K,U=c=>Array.isArray(c)?[$(c[0],na(null,+c[0].hours,+c[0].minutes,c[0].seconds)),$(c[1],na(null,+c[1].hours,+c[1].minutes,c[1].seconds))]:$(c,na(null,c.hours,c.minutes,c.seconds)),J=c=>{const K=Ve(G(),{date:1});return Array.isArray(c)?u.value.enabled?c.map(Oe=>$(Oe,Ut(K,+Oe.month,+Oe.year))):ln(()=>[$(c[0],Ut(K,+c[0].month,+c[0].year)),$(c[1],c[1]?Ut(K,+c[1].month,+c[1].year):_a(s.value.partialRange))],s.value.enabled):$(c,Ut(K,+c.month,+c.year))},Y=c=>{if(Array.isArray(c))return c.map(K=>te(K));throw new Error(dl.dateArr("multi-dates"))},z=c=>{if(Array.isArray(c)&&s.value.enabled){const K=c[0],Oe=c[1];return[G(Array.isArray(K)?K[0]:null),Array.isArray(Oe)&&Oe.length?G(Oe[0]):null]}return G(c[0])},le=c=>t.modelAuto?Array.isArray(c)?[te(c[0]),te(c[1])]:t.autoApply?[te(c)]:[te(c),null]:Array.isArray(c)?ln(()=>c[1]?[te(c[0]),c[1]?te(c[1]):_a(s.value.partialRange)]:[te(c[0])],s.value.enabled):te(c),X=()=>{Array.isArray(l.value)&&s.value.enabled&&l.value.length===1&&l.value.push(_a(s.value.partialRange))},H=()=>{const c=l.value;return[S(c[0]),c[1]?S(c[1]):_a(s.value.partialRange)]},se=()=>Array.isArray(l.value)?l.value[1]?H():S(rt(l.value[0])):[],pe=()=>(l.value||[]).map(c=>S(c)),be=(c=!1)=>(c||X(),t.modelAuto?se():u.value.enabled?pe():Array.isArray(l.value)?ln(()=>H(),s.value.enabled):S(rt(l.value))),k=c=>!c||Array.isArray(c)&&!c.length?null:t.timePicker?U(rt(c)):t.monthPicker?J(rt(c)):t.yearPicker?L(rt(c)):u.value.enabled?Y(rt(c)):t.weekPicker?z(rt(c)):le(rt(c)),A=c=>{if(a.value)return;const K=k(c);Qn(rt(K))?(l.value=rt(K),q()):(l.value=null,m.value="")},x=()=>{const c=K=>Ht(K,r.value.format);return`${c(l.value[0])} ${r.value.rangeSeparator} ${l.value[1]?c(l.value[1]):""}`},Q=()=>n.value&&l.value?Array.isArray(l.value)?x():Ht(l.value,r.value.format):O(l.value),oe=()=>l.value?u.value.enabled?l.value.map(c=>O(c)).join("; "):r.value.enabled&&typeof r.value.format=="string"?Q():O(l.value):"",q=()=>{!t.format||typeof t.format=="string"||r.value.enabled&&typeof r.value.format=="string"?m.value=oe():m.value=t.format(l.value)},te=c=>{if(t.utc){const K=new Date(c);return t.utc==="preserve"?new Date(K.getTime()+K.getTimezoneOffset()*6e4):K}return t.modelType?Di.includes(t.modelType)?P(new Date(c)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?P(Wn(c,T(),new Date,{locale:w.value})):P(Wn(c,t.modelType,new Date,{locale:w.value})):P(new Date(c))},S=c=>c?t.utc?Bi(c,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+M(c):t.modelType==="iso"?M(c).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?O(M(c)):O(M(c),t.modelType,!0):M(c):"",de=(c,K=!1,Oe=!1)=>{if(Oe)return c;if(e("update:model-value",c),p.value.emitTimezone&&K){const Z=Array.isArray(c)?c.map(Pe=>gt(rt(Pe),p.value.emitTimezone)):gt(rt(c),p.value.emitTimezone);e("update:model-timezone-value",Z)}},b=c=>Array.isArray(l.value)?u.value.enabled?l.value.map(K=>c(K)):[c(l.value[0]),l.value[1]?c(l.value[1]):_a(s.value.partialRange)]:c(rt(l.value)),j=()=>{if(Array.isArray(l.value)){const c=qt(l.value[0],t.weekStart),K=l.value[1]?qt(l.value[1],t.weekStart):[];return[c.map(Oe=>G(Oe)),K.map(Oe=>G(Oe))]}return qt(l.value,t.weekStart).map(c=>G(c))},C=(c,K)=>de(rt(b(c)),!1,K),ie=c=>{const K=j();return c?K:e("update:model-value",j())},h=(c=!1)=>(c||q(),t.monthPicker?C(B,c):t.timePicker?C(R,c):t.yearPicker?C(_e,c):t.weekPicker?ie(c):de(be(c),!0,c));return{inputValue:m,internalModelValue:l,checkBeforeEmit:()=>l.value?s.value.enabled?s.value.partialRange?l.value.length>=1:l.value.length===2:!!l.value:!1,parseExternalModelValue:A,formatInputValue:q,emitModelValue:h}},iu=(e,t)=>{const{defaultedFilters:n,propDates:a}=ze(e),{validateMonthYearInRange:l}=oa(e),r=(m,f)=>{let w=m;return n.value.months.includes(Se(w))?(w=f?Ft(m,1):Oa(m,1),r(w,f)):w},s=(m,f)=>{let w=m;return n.value.years.includes(_e(w))?(w=f?Gn(m,1):pr(m,1),s(w,f)):w},p=(m,f=!1)=>{const w=Ve(G(),{month:e.month,year:e.year});let P=m?Ft(w,1):Oa(w,1);e.disableYearSelect&&(P=Rt(P,e.year));let M=Se(P),O=_e(P);n.value.months.includes(M)&&(P=r(P,m),M=Se(P),O=_e(P)),n.value.years.includes(O)&&(P=s(P,m),O=_e(P)),l(M,O,m,e.preventMinMaxNavigation)&&u(M,O,f)},u=(m,f,w)=>{t("update-month-year",{month:m,year:f,fromNav:w})},T=I(()=>m=>Tr(Ve(G(),{month:e.month,year:e.year}),a.value.maxDate,a.value.minDate,e.preventMinMaxNavigation,m));return{handleMonthYearChange:p,isDisabled:T,updateMonthYear:u}},fn={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Bt={...fn,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},uu=["title"],du=["disabled"],cu=Xe({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Bt},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=t,a=e,{defaultedActionRow:l,defaultedPreviewFormat:r,defaultedMultiCalendars:s,defaultedTextInput:p,defaultedInline:u,defaultedRange:T,defaultedMultiDates:m}=ze(a),{isTimeValid:f,isMonthValid:w}=oa(a),{buildMatrix:P}=sa(),M=F(null),O=F(null),R=F(!1),B=F({}),L=F(null),$=F(null);ut(()=>{a.arrowNavigation&&P([et(M),et(O)],"actionRow"),U(),window.addEventListener("resize",U)}),Ya(()=>{window.removeEventListener("resize",U)});const U=()=>{R.value=!1,setTimeout(()=>{const k=L.value?.getBoundingClientRect(),A=$.value?.getBoundingClientRect();k&&A&&(B.value.maxWidth=`${A.width-k.width-20}px`),R.value=!0},0)},J=I(()=>T.value.enabled&&!T.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),Y=I(()=>!f.value(a.internalModelValue)||!w.value(a.internalModelValue)||!J.value),z=()=>{const k=r.value;return a.timePicker||a.monthPicker,k(rt(a.internalModelValue))},le=()=>{const k=a.internalModelValue;return s.value.count>0?`${X(k[0])} - ${X(k[1])}`:[X(k[0]),X(k[1])]},X=k=>Dr(k,r.value,a.formatLocale,p.value.rangeSeparator,a.modelAuto,r.value),H=I(()=>!a.internalModelValue||!a.menuMount?"":typeof r.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?le():m.value.enabled?a.internalModelValue.map(k=>`${X(k)}`):a.modelAuto?`${X(a.internalModelValue[0])}`:`${X(a.internalModelValue[0])} -`:X(a.internalModelValue):z()),se=()=>m.value.enabled?"; ":" - ",pe=I(()=>Array.isArray(H.value)?H.value.join(se()):H.value),be=()=>{f.value(a.internalModelValue)&&w.value(a.internalModelValue)&&J.value?n("select-date"):n("invalid-select")};return(k,A)=>(g(),_("div",{ref_key:"actionRowRef",ref:$,class:"dp__action_row"},[k.$slots["action-row"]?me(k.$slots,"action-row",st(ot({key:0},{internalModelValue:k.internalModelValue,disabled:Y.value,selectDate:()=>k.$emit("select-date"),closePicker:()=>k.$emit("close-picker")}))):(g(),_(Me,{key:1},[v(l).showPreview?(g(),_("div",{key:0,class:"dp__selection_preview",title:pe.value,style:at(B.value)},[k.$slots["action-preview"]&&R.value?me(k.$slots,"action-preview",{key:0,value:k.internalModelValue}):W("",!0),!k.$slots["action-preview"]&&R.value?(g(),_(Me,{key:1},[Xt(Te(pe.value),1)],64)):W("",!0)],12,uu)):W("",!0),o("div",{ref_key:"actionBtnContainer",ref:L,class:"dp__action_buttons","data-dp-element":"action-row"},[k.$slots["action-buttons"]?me(k.$slots,"action-buttons",{key:0,value:k.internalModelValue}):W("",!0),k.$slots["action-buttons"]?W("",!0):(g(),_(Me,{key:1},[!v(u).enabled&&v(l).showCancel?(g(),_("button",{key:0,ref_key:"cancelButtonRef",ref:M,type:"button",class:"dp__action_button dp__action_cancel",onClick:A[0]||(A[0]=x=>k.$emit("close-picker")),onKeydown:A[1]||(A[1]=x=>v(ft)(x,()=>k.$emit("close-picker")))},Te(k.cancelText),545)):W("",!0),v(l).showNow?(g(),_("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:A[2]||(A[2]=x=>k.$emit("select-now")),onKeydown:A[3]||(A[3]=x=>v(ft)(x,()=>k.$emit("select-now")))},Te(k.nowButtonLabel),33)):W("",!0),v(l).showSelect?(g(),_("button",{key:2,ref_key:"selectButtonRef",ref:O,type:"button",class:"dp__action_button dp__action_select",disabled:Y.value,"data-test-id":"select-button",onKeydown:A[4]||(A[4]=x=>v(ft)(x,()=>be())),onClick:be},Te(k.selectText),41,du)):W("",!0)],64))],512)],64))],512))}}),vu=["role","aria-label","tabindex"],mu={class:"dp__selection_grid_header"},pu=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],fu=["aria-label"],Ga=Xe({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:n}){const{setSelectionGrid:a,buildMultiLevelMatrix:l,setMonthPicker:r}=sa(),s=n,p=e,{defaultedAriaLabels:u,defaultedTextInput:T,defaultedConfig:m,handleEventPropagation:f}=ze(p),{hideNavigationButtons:w}=gn(),P=F(!1),M=F(null),O=F(null),R=F([]),B=F(),L=F(null),$=F(0),U=F(null);vs(()=>{M.value=null}),ut(()=>{xt().then(()=>pe()),p.noOverlayFocus||Y(),J(!0)}),Ya(()=>J(!1));const J=b=>{p.arrowNavigation&&(p.headerRefs?.length?r(b):a(b))},Y=()=>{const b=et(O);b&&(T.value.enabled||(M.value?M.value?.focus({preventScroll:!0}):b.focus({preventScroll:!0})),P.value=b.clientHeight<b.scrollHeight)},z=I(()=>({dp__overlay:!0,"dp--overlay-absolute":!p.useRelative,"dp--overlay-relative":p.useRelative})),le=I(()=>p.useRelative?{height:`${p.height}px`,width:"var(--dp-menu-min-width)"}:void 0),X=I(()=>({dp__overlay_col:!0})),H=I(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:P.value,dp__button_bottom:p.isLast})),se=I(()=>({dp__overlay_container:!0,dp__container_flex:p.items?.length<=6,dp__container_block:p.items?.length>6}));Ze(()=>p.items,()=>pe(!1),{deep:!0});const pe=(b=!0)=>{xt().then(()=>{const j=et(M),C=et(O),ie=et(L),h=et(U),c=ie?ie.getBoundingClientRect().height:0;C&&(C.getBoundingClientRect().height?$.value=C.getBoundingClientRect().height-c:$.value=m.value.modeHeight-c),j&&h&&b&&(h.scrollTop=j.offsetTop-h.offsetTop-($.value/2-j.getBoundingClientRect().height)-c)})},be=b=>{b.disabled||s("selected",b.value)},k=()=>{s("toggle"),s("reset-flow")},A=b=>{p.escClose&&(k(),f(b))},x=(b,j,C,ie)=>{b&&((j.active||j.value===p.focusValue)&&(M.value=b),p.arrowNavigation&&(Array.isArray(R.value[C])?R.value[C][ie]=b:R.value[C]=[b],Q()))},Q=()=>{const b=p.headerRefs?.length?[p.headerRefs].concat(R.value):R.value.concat([p.skipButtonRef?[]:[L.value]]);l(rt(b),p.headerRefs?.length?"monthPicker":"selectionGrid")},oe=b=>{p.arrowNavigation||aa(b,m.value,!0)},q=b=>{B.value=b,s("hover-value",b)},te=()=>{if(k(),!p.isLast){const b=Xn(p.menuWrapRef??null,"action-row");b&&gr(b)?.focus()}},S=b=>{switch(b.key){case He.esc:return A(b);case He.arrowLeft:return oe(b);case He.arrowRight:return oe(b);case He.arrowUp:return oe(b);case He.arrowDown:return oe(b);default:return}},de=b=>{if(b.key===He.enter)return k();if(b.key===He.tab)return te()};return t({focusGrid:Y}),(b,j)=>(g(),_("div",{ref_key:"gridWrapRef",ref:O,class:re(z.value),style:at(le.value),role:e.useRelative?void 0:"dialog","aria-label":e.overlayLabel,tabindex:e.useRelative?void 0:"0",onKeydown:S,onClick:j[0]||(j[0]=St(()=>{},["prevent"]))},[o("div",{ref_key:"containerRef",ref:U,class:re(se.value),style:at({"--dp-overlay-height":`${$.value}px`}),role:"grid"},[o("div",mu,[me(b.$slots,"header")]),b.$slots.overlay?me(b.$slots,"overlay",{key:0}):(g(!0),_(Me,{key:1},Ne(e.items,(C,ie)=>(g(),_("div",{key:ie,class:re(["dp__overlay_row",{dp__flex_row:e.items.length>=3}]),role:"row"},[(g(!0),_(Me,null,Ne(C,(h,c)=>(g(),_("div",{key:h.value,ref_for:!0,ref:K=>x(K,h,ie,c),role:"gridcell",class:re(X.value),"aria-selected":h.active||void 0,"aria-disabled":h.disabled||void 0,tabindex:"0","data-test-id":h.text,onClick:St(K=>be(h),["prevent"]),onKeydown:K=>v(ft)(K,()=>be(h),!0),onMouseover:K=>q(h.value)},[o("div",{class:re(h.className)},[b.$slots.item?me(b.$slots,"item",{key:0,item:h}):W("",!0),b.$slots.item?W("",!0):(g(),_(Me,{key:1},[Xt(Te(h.text),1)],64))],2)],42,pu))),128))],2))),128))],6),b.$slots["button-icon"]?Wt((g(),_("button",{key:0,ref_key:"toggleButton",ref:L,type:"button","aria-label":v(u)?.toggleOverlay,class:re(H.value),tabindex:"0",onClick:k,onKeydown:de},[me(b.$slots,"button-icon")],42,fu)),[[sn,!v(w)(e.hideNavigation,e.type)]]):W("",!0)],46,vu))}}),hu=["data-dp-mobile"],hn=Xe({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const t=e,n=I(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),a=I(()=>({dp__instance_calendar:t.multiCalendars>0}));return(l,r)=>(g(),_("div",{class:re({dp__menu_inner:!e.stretch,"dp--menu--inner-stretched":e.stretch,dp__flex_display:e.multiCalendars>0,"dp--flex-display-collapsed":e.collapse}),"data-dp-mobile":e.isMobile},[(g(!0),_(Me,null,Ne(n.value,(s,p)=>(g(),_("div",{key:s,class:re(a.value)},[me(l.$slots,"default",{instance:s,index:p})],2))),128))],10,hu))}}),yu=["data-dp-element","aria-label","aria-disabled"],qa=Xe({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=t,a=F(null);return ut(()=>n("set-ref",a)),(l,r)=>(g(),_("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":e.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":e.ariaLabel,"aria-disabled":e.disabled||void 0,onClick:r[0]||(r[0]=s=>n("activate")),onKeydown:r[1]||(r[1]=s=>v(ft)(s,()=>n("activate"),!0))},[o("span",{class:re(["dp__inner_nav",{dp__inner_nav_disabled:e.disabled}])},[me(l.$slots,"default")],2)],40,yu))}}),gu=["aria-label","data-test-id"],$r=Xe({__name:"YearModePicker",props:{...Bt,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const n=t,a=e,{showRightIcon:l,showLeftIcon:r}=gn(),{defaultedConfig:s,defaultedMultiCalendars:p,defaultedAriaLabels:u,defaultedTransitions:T,defaultedUI:m}=ze(a),{showTransition:f,transitionName:w}=Ja(T),P=F(!1),M=I(()=>cl(a.year,a.locale)),O=(L=!1,$)=>{P.value=!P.value,n("toggle-year-picker",{flow:L,show:$})},R=L=>{P.value=!1,n("year-select",L)},B=(L=!1)=>{n("handle-year",L)};return(L,$)=>(g(),_(Me,null,[o("div",{class:re(["dp--year-mode-picker",{"dp--hidden-el":P.value}])},[v(r)(v(p),e.instance)?(g(),Ae(qa,{key:0,ref:"mpPrevIconRef","aria-label":v(u)?.prevYear,disabled:e.isDisabled(!1),class:re(v(m)?.navBtnPrev),onActivate:$[0]||($[0]=U=>B(!1))},{default:De(()=>[L.$slots["arrow-left"]?me(L.$slots,"arrow-left",{key:0}):W("",!0),L.$slots["arrow-left"]?W("",!0):(g(),Ae(v(nl),{key:1}))]),_:3},8,["aria-label","disabled","class"])):W("",!0),o("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${v(u)?.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:$[1]||($[1]=()=>O(!1)),onKeydown:$[2]||($[2]=on(()=>O(!1),["enter"]))},[L.$slots.year?me(L.$slots,"year",{key:0,year:e.year,text:M.value,value:e.year}):W("",!0),L.$slots.year?W("",!0):(g(),_(Me,{key:1},[Xt(Te(M.value),1)],64))],40,gu),v(l)(v(p),e.instance)?(g(),Ae(qa,{key:1,ref:"mpNextIconRef","aria-label":v(u)?.nextYear,disabled:e.isDisabled(!0),class:re(v(m)?.navBtnNext),onActivate:$[3]||($[3]=U=>B(!0))},{default:De(()=>[L.$slots["arrow-right"]?me(L.$slots,"arrow-right",{key:0}):W("",!0),L.$slots["arrow-right"]?W("",!0):(g(),Ae(v(ll),{key:1}))]),_:3},8,["aria-label","disabled","class"])):W("",!0)],2),Be(la,{name:v(w)(e.showYearPicker),css:v(f)},{default:De(()=>[e.showYearPicker?(g(),Ae(Ga,{key:0,items:e.items,"text-input":L.textInput,"esc-close":L.escClose,config:L.config,"is-last":L.autoApply&&!v(s).keepActionRow,"hide-navigation":L.hideNavigation,"aria-labels":L.ariaLabels,"overlay-label":v(u)?.yearPicker?.(!0),type:"year",onToggle:O,onSelected:$[4]||($[4]=U=>R(U))},mt({"button-icon":De(()=>[L.$slots["calendar-icon"]?me(L.$slots,"calendar-icon",{key:0}):W("",!0),L.$slots["calendar-icon"]?W("",!0):(g(),Ae(v(Fa),{key:1}))]),_:2},[L.$slots["year-overlay-value"]?{name:"item",fn:De(({item:U})=>[me(L.$slots,"year-overlay-value",{text:U.text,value:U.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):W("",!0)]),_:3},8,["name","css"])],64))}}),pl=(e,t,n)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(a=>Re(e,a))){const a=t.value.filter(l=>!Re(l,e));t.value=a.length?a:null}else(n&&+n>t.value.length||!n)&&t.value.push(e);else t.value=[e]},fl=(e,t,n)=>{let a=e.value?e.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?(We(t,a[0])?a.unshift(t):a[1]=t,n("range-end",t)):(a=[t],n("range-start",t)),a},yn=(e,t,n,a)=>{e&&(e[0]&&e[1]&&n&&t("auto-apply"),e[0]&&!e[1]&&a&&n&&t("auto-apply"))},Or=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>gt(G(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=gt(G(e.value),e.timezone))},Sr=(e,t,n,a)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(Ke(e,t.value[0])||Re(e,t.value[0]))?[t.value[0],e]:a.value.fixedEnd&&(We(e,t.value[1])||Re(e,t.value[1]))?[e,t.value[1]]:(n("invalid-fixed-range",e),t.value):[],Rr=({multiCalendars:e,range:t,highlight:n,propDates:a,calendars:l,modelValue:r,props:s,filters:p,year:u,month:T,emit:m})=>{const f=I(()=>ul(s.yearRange,s.locale,s.reverseYears)),w=F([!1]),P=I(()=>(H,se)=>{const pe=Ve(Yt(new Date),{month:T.value(H),year:u.value(H)}),be=se?er(pe):Da(pe);return Tr(be,a.value.maxDate,a.value.minDate,s.preventMinMaxNavigation,se)}),M=()=>Array.isArray(r.value)&&e.value.solo&&r.value[1],O=()=>{for(let H=0;H<e.value.count;H++)if(H===0)l.value[H]=l.value[0];else if(H===e.value.count-1&&M())l.value[H]={month:Se(r.value[1]),year:_e(r.value[1])};else{const se=Ve(G(),l.value[H-1]);l.value[H]={month:Se(se),year:_e(Gn(se,1))}}},R=H=>{if(!H)return O();const se=Ve(G(),l.value[H]);return l.value[0].year=_e(pr(se,e.value.count-1)),O()},B=(H,se)=>{const pe=Ds(se,H);return t.value.showLastInRange&&pe>1?se:H},L=H=>s.focusStartDate||e.value.solo?H[0]:H[1]?B(H[0],H[1]):H[0],$=()=>{if(r.value){const H=Array.isArray(r.value)?L(r.value):r.value;l.value[0]={month:Se(H),year:_e(H)}}},U=()=>{$(),e.value.count&&O()};Ze(r,(H,se)=>{s.isTextInputDate&&JSON.stringify(H??{})!==JSON.stringify(se??{})&&U()}),ut(()=>{U()});const J=(H,se)=>{l.value[se].year=H,m("update-month-year",{instance:se,year:H,month:l.value[se].month}),e.value.count&&!e.value.solo&&R(se)},Y=I(()=>H=>Sa(f.value,se=>{const pe=u.value(H)===se.value,be=Ua(se.value,Ra(a.value.minDate),Ra(a.value.maxDate))||p.value.years?.includes(u.value(H)),k=ml(n.value,se.value);return{active:pe,disabled:be,highlighted:k}})),z=(H,se)=>{J(H,se),X(se)},le=(H,se=!1)=>{if(!P.value(H,se)){const pe=se?u.value(H)+1:u.value(H)-1;J(pe,H)}},X=(H,se=!1,pe)=>{se||m("reset-flow"),pe!==void 0?w.value[H]=pe:w.value[H]=!w.value[H],w.value[H]?m("overlay-toggle",{open:!0,overlay:vt.year}):(m("overlay-closed"),m("overlay-toggle",{open:!1,overlay:vt.year}))};return{isDisabled:P,groupedYears:Y,showYearPicker:w,selectYear:J,toggleYearPicker:X,handleYearSelect:z,handleYear:le}},bu=(e,t)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:l,defaultedConfig:r,defaultedRange:s,defaultedHighlight:p,propDates:u,defaultedTz:T,defaultedFilters:m,defaultedMultiDates:f}=ze(e),w=()=>{e.isTextInputDate&&U(_e(G(e.startDate)),0)},{modelValue:P,year:M,month:O,calendars:R}=Za(e,t,w),B=I(()=>hr(e.formatLocale,e.locale,e.monthNameFormat)),L=F(null),{checkMinMaxRange:$}=oa(e),{selectYear:U,groupedYears:J,showYearPicker:Y,toggleYearPicker:z,handleYearSelect:le,handleYear:X,isDisabled:H}=Rr({modelValue:P,multiCalendars:n,range:s,highlight:p,calendars:R,year:M,propDates:u,month:O,filters:m,props:e,emit:t});ut(()=>{e.startDate&&(P.value&&e.focusStartDate||!P.value)&&U(_e(G(e.startDate)),0)});const se=j=>j?{month:Se(j),year:_e(j)}:{month:null,year:null},pe=()=>P.value?Array.isArray(P.value)?P.value.map(j=>se(j)):se(P.value):se(),be=(j,C)=>{const ie=R.value[j],h=pe();return Array.isArray(h)?h.some(c=>c.year===ie?.year&&c.month===C):ie?.year===h.year&&C===h.month},k=(j,C,ie)=>{const h=pe();return Array.isArray(h)?M.value(C)===h[ie]?.year&&j===h[ie]?.month:!1},A=(j,C)=>{if(s.value.enabled){const ie=pe();if(Array.isArray(P.value)&&Array.isArray(ie)){const h=k(j,C,0)||k(j,C,1),c=Ut(Yt(G()),j,M.value(C));return Xa(P.value,L.value,c)&&!h}return!1}return!1},x=I(()=>j=>Sa(B.value,C=>{const ie=be(j,C.value),h=Ua(C.value,xr(M.value(j),u.value.minDate),kr(M.value(j),u.value.maxDate))||Hi(u.value.disabledDates,M.value(j),C.value)||m.value.months?.includes(C.value)||!zi(u.value.allowedDates,M.value(j),C.value)||Cr(e.yearRange,M.value(j)),c=A(C.value,j),K=Pr(p.value,C.value,M.value(j));return{active:ie,disabled:h,isBetween:c,highlighted:K}})),Q=(j,C)=>Ut(Yt(G()),j,M.value(C)),oe=(j,C)=>{const ie=P.value?P.value:Yt(new Date);P.value=Ut(ie,j,M.value(C)),t("auto-apply"),t("update-flow-step")},q=(j,C)=>{const ie=Q(j,C);s.value.fixedEnd||s.value.fixedStart?P.value=Sr(ie,P,t,s):P.value?$(ie,P.value)&&(P.value=fl(P,Q(j,C),t)):P.value=[Q(j,C)],xt().then(()=>{yn(P.value,t,e.autoApply,e.modelAuto)})},te=(j,C)=>{pl(Q(j,C),P,f.value.limit),t("auto-apply",!0)},S=(j,C)=>(R.value[C].month=j,b(C,R.value[C].year,j),f.value.enabled?te(j,C):s.value.enabled?q(j,C):oe(j,C)),de=(j,C)=>{U(j,C),b(C,j,null)},b=(j,C,ie)=>{let h=ie;if(!h&&h!==0){const c=pe();h=Array.isArray(c)?c[j].month:c.month}t("update-month-year",{instance:j,year:C,month:h})};return{groupedMonths:x,groupedYears:J,year:M,isDisabled:H,defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:l,defaultedConfig:r,showYearPicker:Y,modelValue:P,presetDate:(j,C)=>{Or({value:j,modelValue:P,range:s.value.enabled,timezone:C?void 0:T.value.timezone}),t("auto-apply")},setHoverDate:(j,C)=>{L.value=Q(j,C)},selectMonth:S,selectYear:de,toggleYearPicker:z,handleYearSelect:le,handleYear:X,getModelMonthYear:pe}},wu=Xe({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Bt},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,l=fa(),r=wt(l,"yearMode"),s=e;ut(()=>{s.shadow||a("mount",null)});const{groupedMonths:p,groupedYears:u,year:T,isDisabled:m,defaultedMultiCalendars:f,defaultedConfig:w,showYearPicker:P,modelValue:M,presetDate:O,setHoverDate:R,selectMonth:B,selectYear:L,toggleYearPicker:$,handleYearSelect:U,handleYear:J,getModelMonthYear:Y}=bu(s,a);return t({getSidebarProps:()=>({modelValue:M,year:T,getModelMonthYear:Y,selectMonth:B,selectYear:L,handleYear:J}),presetDate:O,toggleYearPicker:z=>$(0,z)}),(z,le)=>(g(),Ae(hn,{"multi-calendars":v(f).count,collapse:z.collapse,stretch:"","is-mobile":z.isMobile},{default:De(({instance:X})=>[z.$slots["top-extra"]?me(z.$slots,"top-extra",{key:0,value:z.internalModelValue}):W("",!0),z.$slots["month-year"]?me(z.$slots,"month-year",st(ot({key:1},{year:v(T),months:v(p)(X),years:v(u)(X),selectMonth:v(B),selectYear:v(L),instance:X}))):(g(),Ae(Ga,{key:2,items:v(p)(X),"arrow-navigation":z.arrowNavigation,"is-last":z.autoApply&&!v(w).keepActionRow,"esc-close":z.escClose,height:v(w).modeHeight,config:z.config,"no-overlay-focus":!!(z.noOverlayFocus||z.textInput),"use-relative":"",type:"month",onSelected:H=>v(B)(H,X),onHoverValue:H=>v(R)(H,X)},mt({header:De(()=>[Be($r,ot(z.$props,{items:v(u)(X),instance:X,"show-year-picker":v(P)[X],year:v(T)(X),"is-disabled":H=>v(m)(X,H),onHandleYear:H=>v(J)(X,H),onYearSelect:H=>v(U)(H,X),onToggleYearPicker:H=>v($)(X,H?.flow,H?.show)}),mt({_:2},[Ne(v(r),(H,se)=>({name:H,fn:De(pe=>[me(z.$slots,H,st(yt(pe)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[z.$slots["month-overlay-value"]?{name:"item",fn:De(({item:H})=>[me(z.$slots,"month-overlay-value",{text:H.text,value:H.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),xu=(e,t)=>{const n=()=>{e.isTextInputDate&&(m.value=_e(G(e.startDate)))},{modelValue:a}=Za(e,t,n),l=F(null),{defaultedHighlight:r,defaultedMultiDates:s,defaultedFilters:p,defaultedRange:u,propDates:T}=ze(e),m=F();ut(()=>{e.startDate&&(a.value&&e.focusStartDate||!a.value)&&(m.value=_e(G(e.startDate)))});const f=B=>Array.isArray(a.value)?a.value.some(L=>_e(L)===B):a.value?_e(a.value)===B:!1,w=B=>u.value.enabled&&Array.isArray(a.value)?Xa(a.value,l.value,R(B)):!1,P=B=>T.value.allowedDates instanceof Map?T.value.allowedDates.size?T.value.allowedDates.has(`${B}`):!1:!0,M=B=>T.value.disabledDates instanceof Map?T.value.disabledDates.size?T.value.disabledDates.has(`${B}`):!1:typeof T.value.disabledDates=="function"?T.value.disabledDates(Rt(nt(Da(G())),B)):!0,O=I(()=>Sa(ul(e.yearRange,e.locale,e.reverseYears),B=>{const L=f(B.value),$=Ua(B.value,Ra(T.value.minDate),Ra(T.value.maxDate))||p.value.years.includes(B.value)||!P(B.value)||M(B.value),U=w(B.value)&&!L,J=ml(r.value,B.value);return{active:L,disabled:$,isBetween:U,highlighted:J}})),R=B=>Rt(Yt(Da(new Date)),B);return{groupedYears:O,modelValue:a,focusYear:m,setHoverValue:B=>{l.value=Rt(Yt(new Date),B)},selectYear:B=>{if(t("update-month-year",{instance:0,year:B}),s.value.enabled)return a.value?Array.isArray(a.value)&&((a.value?.map(L=>_e(L))).includes(B)?a.value=a.value.filter(L=>_e(L)!==B):a.value.push(Rt(nt(G()),B))):a.value=[Rt(nt(Da(G())),B)],t("auto-apply",!0);u.value.enabled?(a.value=fl(a,R(B),t),xt().then(()=>{yn(a.value,t,e.autoApply,e.modelAuto)})):(a.value=R(B),t("auto-apply"))}}},ku=Xe({compatConfig:{MODE:3},__name:"YearPicker",props:{...Bt},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:n}){const a=n,l=e,{groupedYears:r,modelValue:s,focusYear:p,selectYear:u,setHoverValue:T}=xu(l,a),{defaultedConfig:m}=ze(l);return t({getSidebarProps:()=>({modelValue:s,selectYear:u})}),(f,w)=>(g(),_("div",null,[f.$slots["top-extra"]?me(f.$slots,"top-extra",{key:0,value:f.internalModelValue}):W("",!0),f.$slots["month-year"]?me(f.$slots,"month-year",st(ot({key:1},{years:v(r),selectYear:v(u)}))):(g(),Ae(Ga,{key:2,items:v(r),"is-last":f.autoApply&&!v(m).keepActionRow,height:v(m).modeHeight,config:f.config,"no-overlay-focus":!!(f.noOverlayFocus||f.textInput),"focus-value":v(p),type:"year","use-relative":"",onSelected:v(u),onHoverValue:v(T)},mt({_:2},[f.$slots["year-overlay-value"]?{name:"item",fn:De(({item:P})=>[me(f.$slots,"year-overlay-value",{text:P.text,value:P.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),_u={key:0,class:"dp__time_input"},Mu=["data-compact","data-collapsed"],Tu=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],Du=["aria-label","disabled","data-test-id","onKeydown","onClick"],Pu=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],Cu={key:0},Au=["aria-label","data-compact"],$u=Xe({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Bt},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:n}){const a=n,l=e,{setTimePickerElements:r,setTimePickerBackRef:s}=sa(),{defaultedAriaLabels:p,defaultedTransitions:u,defaultedFilters:T,defaultedConfig:m,defaultedRange:f,defaultedMultiCalendars:w}=ze(l),{transitionName:P,showTransition:M}=Ja(u),O=Qa({hours:!1,minutes:!1,seconds:!1}),R=F("AM"),B=F(null),L=F([]),$=F(),U=F(!1);ut(()=>{a("mounted")});const J=i=>Ve(new Date,{hours:i.hours,minutes:i.minutes,seconds:l.enableSeconds?i.seconds:0,milliseconds:0}),Y=I(()=>i=>q(i,l[i])||le(i,l[i])),z=I(()=>({hours:l.hours,minutes:l.minutes,seconds:l.seconds})),le=(i,ve)=>f.value.enabled&&!f.value.disableTimeRangeValidation?!l.validateTime(i,ve):!1,X=(i,ve)=>{if(f.value.enabled&&!f.value.disableTimeRangeValidation){const N=ve?+l[`${i}Increment`]:-+l[`${i}Increment`],Ce=l[i]+N;return!l.validateTime(i,Ce)}return!1},H=I(()=>i=>!j(+l[i]+ +l[`${i}Increment`],i)||X(i,!0)),se=I(()=>i=>!j(+l[i]-+l[`${i}Increment`],i)||X(i,!1)),pe=(i,ve)=>Xl(Ve(G(),i),ve),be=(i,ve)=>ki(Ve(G(),i),ve),k=I(()=>({dp__time_col:!0,dp__time_col_block:!l.timePickerInline,dp__time_col_reg_block:!l.enableSeconds&&l.is24&&!l.timePickerInline,dp__time_col_reg_inline:!l.enableSeconds&&l.is24&&l.timePickerInline,dp__time_col_reg_with_button:!l.enableSeconds&&!l.is24,dp__time_col_sec:l.enableSeconds&&l.is24,dp__time_col_sec_with_button:l.enableSeconds&&!l.is24})),A=I(()=>l.timePickerInline&&f.value.enabled&&!w.value.count),x=I(()=>{const i=[{type:"hours"}];return l.enableMinutes&&i.push({type:"",separator:!0},{type:"minutes"}),l.enableSeconds&&i.push({type:"",separator:!0},{type:"seconds"}),i}),Q=I(()=>x.value.filter(i=>!i.separator)),oe=I(()=>i=>{if(i==="hours"){const ve=Oe(+l.hours);return{text:ve<10?`0${ve}`:`${ve}`,value:ve}}return{text:l[i]<10?`0${l[i]}`:`${l[i]}`,value:l[i]}}),q=(i,ve)=>{if(!l.disabledTimesConfig)return!1;const N=l.disabledTimesConfig(l.order,i==="hours"?ve:void 0);return N[i]?!!N[i]?.includes(ve):!0},te=(i,ve)=>ve!=="hours"||R.value==="AM"?i:i+12,S=i=>{const ve=l.is24?24:12,N=i==="hours"?ve:60,Ce=+l[`${i}GridIncrement`],ye=i==="hours"&&!l.is24?Ce:0,lt=[];for(let je=ye;je<N;je+=Ce)lt.push({value:l.is24?je:te(je,i),text:je<10?`0${je}`:`${je}`});return i==="hours"&&!l.is24&&lt.unshift({value:R.value==="PM"?12:0,text:"12"}),Sa(lt,je=>({active:!1,disabled:T.value.times[i].includes(je.value)||!j(je.value,i)||q(i,je.value)||le(i,je.value)}))},de=i=>i>=0?i:59,b=i=>i>=0?i:23,j=(i,ve)=>{const N=l.minTime?J(Rn(l.minTime)):null,Ce=l.maxTime?J(Rn(l.maxTime)):null,ye=J(Rn(z.value,ve,ve==="minutes"||ve==="seconds"?de(i):b(i)));return N&&Ce?($a(ye,Ce)||Ta(ye,Ce))&&(pa(ye,N)||Ta(ye,N)):N?pa(ye,N)||Ta(ye,N):Ce?$a(ye,Ce)||Ta(ye,Ce):!0},C=i=>l[`no${i[0].toUpperCase()+i.slice(1)}Overlay`],ie=i=>{C(i)||(O[i]=!O[i],O[i]?(U.value=!0,a("overlay-opened",i)):(U.value=!1,a("overlay-closed",i)))},h=i=>i==="hours"?Qt:i==="minutes"?ra:Aa,c=()=>{$.value&&clearTimeout($.value)},K=(i,ve=!0,N)=>{const Ce=ve?pe:be,ye=ve?+l[`${i}Increment`]:-+l[`${i}Increment`];j(+l[i]+ye,i)&&a(`update:${i}`,h(i)(Ce({[i]:+l[i]},{[i]:+l[`${i}Increment`]}))),!N?.keyboard&&m.value.timeArrowHoldThreshold&&($.value=setTimeout(()=>{K(i,ve)},m.value.timeArrowHoldThreshold))},Oe=i=>l.is24?i:(i>=12?R.value="PM":R.value="AM",Ai(i)),Z=()=>{R.value==="PM"?(R.value="AM",a("update:hours",l.hours-12)):(R.value="PM",a("update:hours",l.hours+12)),a("am-pm-change",R.value)},Pe=i=>{O[i]=!0},ae=(i,ve,N)=>{if(i&&l.arrowNavigation){Array.isArray(L.value[ve])?L.value[ve][N]=i:L.value[ve]=[i];const Ce=L.value.reduce((ye,lt)=>lt.map((je,bt)=>[...ye[bt]||[],lt[bt]]),[]);s(l.closeTimePickerBtn),B.value&&(Ce[1]=Ce[1].concat(B.value)),r(Ce,l.order)}},ue=(i,ve)=>(ie(i),a(`update:${i}`,ve));return t({openChildCmp:Pe}),(i,ve)=>i.disabled?W("",!0):(g(),_("div",_u,[(g(!0),_(Me,null,Ne(x.value,(N,Ce)=>(g(),_("div",{key:Ce,class:re(k.value),"data-compact":A.value&&!i.enableSeconds,"data-collapsed":A.value&&i.enableSeconds},[N.separator?(g(),_(Me,{key:0},[U.value?W("",!0):(g(),_(Me,{key:0},[Xt(":")],64))],64)):(g(),_(Me,{key:1},[o("button",{ref_for:!0,ref:ye=>ae(ye,Ce,0),type:"button",class:re({dp__btn:!0,dp__inc_dec_button:!i.timePickerInline,dp__inc_dec_button_inline:i.timePickerInline,dp__tp_inline_btn_top:i.timePickerInline,dp__inc_dec_button_disabled:H.value(N.type),"dp--hidden-el":U.value}),"data-test-id":`${N.type}-time-inc-btn-${l.order}`,"aria-label":v(p)?.incrementValue(N.type),tabindex:"0",onKeydown:ye=>v(ft)(ye,()=>K(N.type,!0,{keyboard:!0}),!0),onClick:ye=>v(m).timeArrowHoldThreshold?void 0:K(N.type,!0),onMousedown:ye=>v(m).timeArrowHoldThreshold?K(N.type,!0):void 0,onMouseup:c},[l.timePickerInline?(g(),_(Me,{key:1},[i.$slots["tp-inline-arrow-up"]?me(i.$slots,"tp-inline-arrow-up",{key:0}):(g(),_(Me,{key:1},[ve[2]||(ve[2]=o("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ve[3]||(ve[3]=o("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(g(),_(Me,{key:0},[i.$slots["arrow-up"]?me(i.$slots,"arrow-up",{key:0}):W("",!0),i.$slots["arrow-up"]?W("",!0):(g(),Ae(v(sl),{key:1}))],64))],42,Tu),o("button",{ref_for:!0,ref:ye=>ae(ye,Ce,1),type:"button","aria-label":`${oe.value(N.type).text}-${v(p)?.openTpOverlay(N.type)}`,class:re({dp__time_display:!0,dp__time_display_block:!i.timePickerInline,dp__time_display_inline:i.timePickerInline,"dp--time-invalid":Y.value(N.type),"dp--time-overlay-btn":!Y.value(N.type),"dp--hidden-el":U.value}),disabled:C(N.type),tabindex:"0","data-test-id":`${N.type}-toggle-overlay-btn-${l.order}`,onKeydown:ye=>v(ft)(ye,()=>ie(N.type),!0),onClick:ye=>ie(N.type)},[i.$slots[N.type]?me(i.$slots,N.type,{key:0,text:oe.value(N.type).text,value:oe.value(N.type).value}):W("",!0),i.$slots[N.type]?W("",!0):(g(),_(Me,{key:1},[Xt(Te(oe.value(N.type).text),1)],64))],42,Du),o("button",{ref_for:!0,ref:ye=>ae(ye,Ce,2),type:"button",class:re({dp__btn:!0,dp__inc_dec_button:!i.timePickerInline,dp__inc_dec_button_inline:i.timePickerInline,dp__tp_inline_btn_bottom:i.timePickerInline,dp__inc_dec_button_disabled:se.value(N.type),"dp--hidden-el":U.value}),"data-test-id":`${N.type}-time-dec-btn-${l.order}`,"aria-label":v(p)?.decrementValue(N.type),tabindex:"0",onKeydown:ye=>v(ft)(ye,()=>K(N.type,!1,{keyboard:!0}),!0),onClick:ye=>v(m).timeArrowHoldThreshold?void 0:K(N.type,!1),onMousedown:ye=>v(m).timeArrowHoldThreshold?K(N.type,!1):void 0,onMouseup:c},[l.timePickerInline?(g(),_(Me,{key:1},[i.$slots["tp-inline-arrow-down"]?me(i.$slots,"tp-inline-arrow-down",{key:0}):(g(),_(Me,{key:1},[ve[4]||(ve[4]=o("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ve[5]||(ve[5]=o("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(g(),_(Me,{key:0},[i.$slots["arrow-down"]?me(i.$slots,"arrow-down",{key:0}):W("",!0),i.$slots["arrow-down"]?W("",!0):(g(),Ae(v(ol),{key:1}))],64))],42,Pu)],64))],10,Mu))),128)),i.is24?W("",!0):(g(),_("div",Cu,[i.$slots["am-pm-button"]?me(i.$slots,"am-pm-button",{key:0,toggle:Z,value:R.value}):W("",!0),i.$slots["am-pm-button"]?W("",!0):(g(),_("button",{key:1,ref_key:"amPmButton",ref:B,type:"button",class:"dp__pm_am_button",role:"button","aria-label":v(p)?.amPmButton,tabindex:"0","data-compact":A.value,onClick:Z,onKeydown:ve[0]||(ve[0]=N=>v(ft)(N,()=>Z(),!0))},Te(R.value),41,Au))])),(g(!0),_(Me,null,Ne(Q.value,(N,Ce)=>(g(),Ae(la,{key:Ce,name:v(P)(O[N.type]),css:v(M)},{default:De(()=>[O[N.type]?(g(),Ae(Ga,{key:0,items:S(N.type),"is-last":i.autoApply&&!v(m).keepActionRow,"esc-close":i.escClose,type:N.type,"text-input":i.textInput,config:i.config,"arrow-navigation":i.arrowNavigation,"aria-labels":i.ariaLabels,"overlay-label":v(p).timeOverlay?.(N.type),onSelected:ye=>ue(N.type,ye),onToggle:ye=>ie(N.type),onResetFlow:ve[1]||(ve[1]=ye=>i.$emit("reset-flow"))},mt({"button-icon":De(()=>[i.$slots["clock-icon"]?me(i.$slots,"clock-icon",{key:0}):W("",!0),i.$slots["clock-icon"]?W("",!0):(g(),Ae(pn(i.timePickerInline?v(Fa):v(rl)),{key:1}))]),_:2},[i.$slots[`${N.type}-overlay-value`]?{name:"item",fn:De(({item:ye})=>[me(i.$slots,`${N.type}-overlay-value`,{text:ye.text,value:ye.value})]),key:"0"}:void 0,i.$slots[`${N.type}-overlay-header`]?{name:"header",fn:De(()=>[me(i.$slots,`${N.type}-overlay-header`,{toggle:()=>ie(N.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):W("",!0)]),_:2},1032,["name","css"]))),128))]))}}),Ou=["data-dp-mobile"],Su=["aria-label","tabindex"],Ru=["role","aria-label","tabindex"],Yu=["aria-label"],Yr=Xe({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Bt},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const a=n,l=e,{buildMatrix:r,setTimePicker:s}=sa(),p=fa(),{defaultedTransitions:u,defaultedAriaLabels:T,defaultedTextInput:m,defaultedConfig:f,defaultedRange:w}=ze(l),{transitionName:P,showTransition:M}=Ja(u),{hideNavigationButtons:O}=gn(),R=F(null),B=F(null),L=F([]),$=F(null),U=F(!1);ut(()=>{a("mount"),!l.timePicker&&l.arrowNavigation?r([et(R.value)],"time"):s(!0,l.timePicker)});const J=I(()=>w.value.enabled&&l.modelAuto?yr(l.internalModelValue):!0),Y=F(!1),z=q=>({hours:Array.isArray(l.hours)?l.hours[q]:l.hours,minutes:Array.isArray(l.minutes)?l.minutes[q]:l.minutes,seconds:Array.isArray(l.seconds)?l.seconds[q]:l.seconds}),le=I(()=>{const q=[];if(w.value.enabled)for(let te=0;te<2;te++)q.push(z(te));else q.push(z(0));return q}),X=(q,te=!1,S="")=>{te||a("reset-flow"),Y.value=q,a(q?"overlay-opened":"overlay-closed",vt.time),l.arrowNavigation&&s(q),xt(()=>{S!==""&&L.value[0]&&L.value[0].openChildCmp(S)})},H=I(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:l.autoApply&&!f.value.keepActionRow})),se=wt(p,"timePicker"),pe=(q,te,S)=>w.value.enabled?te===0?[q,le.value[1][S]]:[le.value[0][S],q]:q,be=q=>{a("update:hours",q)},k=q=>{a("update:minutes",q)},A=q=>{a("update:seconds",q)},x=()=>{if($.value&&!m.value.enabled&&!l.noOverlayFocus){const q=gr($.value);q&&q.focus({preventScroll:!0})}},Q=q=>{U.value=!1,a("overlay-closed",q)},oe=q=>{U.value=!0,a("overlay-opened",q)};return t({toggleTimePicker:X}),(q,te)=>(g(),_("div",{class:"dp--tp-wrap","data-dp-mobile":q.isMobile},[!q.timePicker&&!q.timePickerInline?Wt((g(),_("button",{key:0,ref_key:"openTimePickerBtn",ref:R,type:"button",class:re({...H.value,"dp--hidden-el":Y.value}),"aria-label":v(T)?.openTimePicker,tabindex:q.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:te[0]||(te[0]=S=>v(ft)(S,()=>X(!0))),onClick:te[1]||(te[1]=S=>X(!0))},[q.$slots["clock-icon"]?me(q.$slots,"clock-icon",{key:0}):W("",!0),q.$slots["clock-icon"]?W("",!0):(g(),Ae(v(rl),{key:1}))],42,Su)),[[sn,!v(O)(q.hideNavigation,"time")]]):W("",!0),Be(la,{name:v(P)(Y.value),css:v(M)&&!q.timePickerInline},{default:De(()=>[Y.value||q.timePicker||q.timePickerInline?(g(),_("div",{key:0,ref_key:"overlayRef",ref:$,role:q.timePickerInline?void 0:"dialog",class:re({dp__overlay:!q.timePickerInline,"dp--overlay-absolute":!l.timePicker&&!q.timePickerInline,"dp--overlay-relative":l.timePicker}),style:at(q.timePicker?{height:`${v(f).modeHeight}px`}:void 0),"aria-label":v(T)?.timePicker,tabindex:q.timePickerInline?void 0:0},[o("div",{class:re(q.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[q.$slots["time-picker-overlay"]?me(q.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:be,setMinutes:k,setSeconds:A}):W("",!0),q.$slots["time-picker-overlay"]?W("",!0):(g(),_("div",{key:1,class:re(q.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(g(!0),_(Me,null,Ne(le.value,(S,de)=>Wt((g(),Ae($u,ot({key:de},{ref_for:!0},{...q.$props,order:de,hours:S.hours,minutes:S.minutes,seconds:S.seconds,closeTimePickerBtn:B.value,disabledTimesConfig:e.disabledTimesConfig,disabled:de===0?v(w).fixedStart:v(w).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:L,"validate-time":(b,j)=>e.validateTime(b,pe(j,de,b)),"onUpdate:hours":b=>be(pe(b,de,"hours")),"onUpdate:minutes":b=>k(pe(b,de,"minutes")),"onUpdate:seconds":b=>A(pe(b,de,"seconds")),onMounted:x,onOverlayClosed:Q,onOverlayOpened:oe,onAmPmChange:te[2]||(te[2]=b=>q.$emit("am-pm-change",b))}),mt({_:2},[Ne(v(se),(b,j)=>({name:b,fn:De(C=>[me(q.$slots,b,ot({ref_for:!0},C))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[sn,de===0?!0:J.value]])),128))],2)),!q.timePicker&&!q.timePickerInline?Wt((g(),_("button",{key:2,ref_key:"closeTimePickerBtn",ref:B,type:"button",class:re({...H.value,"dp--hidden-el":U.value}),"aria-label":v(T)?.closeTimePicker,tabindex:"0",onKeydown:te[3]||(te[3]=S=>v(ft)(S,()=>X(!1))),onClick:te[4]||(te[4]=S=>X(!1))},[q.$slots["calendar-icon"]?me(q.$slots,"calendar-icon",{key:0}):W("",!0),q.$slots["calendar-icon"]?W("",!0):(g(),Ae(v(Fa),{key:1}))],42,Yu)),[[sn,!v(O)(q.hideNavigation,"time")]]):W("",!0)],2)],14,Ru)):W("",!0)]),_:3},8,["name","css"])],8,Ou))}}),Fr=(e,t,n,a)=>{const{defaultedRange:l}=ze(e),r=($,U)=>Array.isArray(t[$])?t[$][U]:t[$],s=$=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[$]:t.seconds:0,p=($,U)=>$?U!==void 0?na($,r("hours",U),r("minutes",U),s(U)):na($,t.hours,t.minutes,s()):mr(G(),s(U)),u=($,U)=>{t[$]=U},T=I(()=>e.modelAuto&&l.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:l.value.enabled),m=($,U)=>{const J=Object.fromEntries(Object.keys(t).map(Y=>Y===$?[Y,U]:[Y,t[Y]].slice()));if(T.value&&!l.value.disableTimeRangeValidation){const Y=le=>n.value?na(n.value[le],J.hours[le],J.minutes[le],J.seconds[le]):null,z=le=>vr(n.value[le],0);return!(Re(Y(0),Y(1))&&(pa(Y(0),z(1))||$a(Y(1),z(0))))}return!0},f=($,U)=>{m($,U)&&(u($,U),a&&a())},w=$=>{f("hours",$)},P=$=>{f("minutes",$)},M=$=>{f("seconds",$)},O=($,U,J,Y)=>{U&&w($),!U&&!J&&P($),J&&M($),n.value&&Y(n.value)},R=$=>{if($){const U=Array.isArray($),J=U?[+$[0].hours,+$[1].hours]:+$.hours,Y=U?[+$[0].minutes,+$[1].minutes]:+$.minutes,z=U?[+$[0].seconds,+$[1].seconds]:+$.seconds;u("hours",J),u("minutes",Y),e.enableSeconds&&u("seconds",z)}},B=($,U)=>{const J={hours:Array.isArray(t.hours)?t.hours[$]:t.hours,disabledArr:[]};return(U||U===0)&&(J.hours=U),Array.isArray(e.disabledTimes)&&(J.disabledArr=l.value.enabled&&Array.isArray(e.disabledTimes[$])?e.disabledTimes[$]:e.disabledTimes),J},L=I(()=>($,U)=>{if(Array.isArray(e.disabledTimes)){const{disabledArr:J,hours:Y}=B($,U),z=J.filter(le=>+le.hours===Y);return z[0]?.minutes==="*"?{hours:[Y],minutes:void 0,seconds:void 0}:{hours:[],minutes:z?.map(le=>+le.minutes)??[],seconds:z?.map(le=>le.seconds?+le.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:u,updateHours:w,updateMinutes:P,updateSeconds:M,getSetDateTime:p,updateTimeValues:O,getSecondsValue:s,assignStartTime:R,validateTime:m,disabledTimesConfig:L}},Fu=(e,t)=>{const n=()=>{e.isTextInputDate&&U()},{modelValue:a,time:l}=Za(e,t,n),{defaultedStartTime:r,defaultedRange:s,defaultedTz:p}=ze(e),{updateTimeValues:u,getSetDateTime:T,setTime:m,assignStartTime:f,disabledTimesConfig:w,validateTime:P}=Fr(e,l,a,M);function M(){t("update-flow-step")}const O=Y=>{const{hours:z,minutes:le,seconds:X}=Y;return{hours:+z,minutes:+le,seconds:X?+X:0}},R=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const z=O(e.startTime[0]),le=O(e.startTime[1]);return[Ve(G(),z),Ve(G(),le)]}const Y=O(e.startTime);return Ve(G(),Y)}return s.value.enabled?[null,null]:null},B=()=>{if(s.value.enabled){const[Y,z]=R();a.value=[gt(T(Y,0),p.value.timezone),gt(T(z,1),p.value.timezone)]}else a.value=gt(T(R()),p.value.timezone)},L=Y=>Array.isArray(Y)?[ma(G(Y[0])),ma(G(Y[1]))]:[ma(Y??G())],$=(Y,z,le)=>{m("hours",Y),m("minutes",z),m("seconds",e.enableSeconds?le:0)},U=()=>{const[Y,z]=L(a.value);return s.value.enabled?$([Y.hours,z.hours],[Y.minutes,z.minutes],[Y.seconds,z.seconds]):$(Y.hours,Y.minutes,Y.seconds)};ut(()=>{if(!e.shadow)return f(r.value),a.value?U():B()});const J=()=>{Array.isArray(a.value)?a.value=a.value.map((Y,z)=>Y&&T(Y,z)):a.value=T(a.value),t("time-update")};return{modelValue:a,time:l,disabledTimesConfig:w,updateTime:(Y,z=!0,le=!1)=>{u(Y,z,le,J)},validateTime:P}},Iu=Xe({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Bt},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,l=e,r=fa(),s=wt(r,"timePicker"),p=F(null),{time:u,modelValue:T,disabledTimesConfig:m,updateTime:f,validateTime:w}=Fu(l,a);return ut(()=>{l.shadow||a("mount",null)}),t({getSidebarProps:()=>({modelValue:T,time:u,updateTime:f}),toggleTimePicker:(P,M=!1,O="")=>{p.value?.toggleTimePicker(P,M,O)}}),(P,M)=>(g(),Ae(hn,{"multi-calendars":0,stretch:"","is-mobile":P.isMobile},{default:De(()=>[Be(Yr,ot({ref_key:"tpRef",ref:p},P.$props,{hours:v(u).hours,minutes:v(u).minutes,seconds:v(u).seconds,"internal-model-value":P.internalModelValue,"disabled-times-config":v(m),"validate-time":v(w),"onUpdate:hours":M[0]||(M[0]=O=>v(f)(O)),"onUpdate:minutes":M[1]||(M[1]=O=>v(f)(O,!1)),"onUpdate:seconds":M[2]||(M[2]=O=>v(f)(O,!1,!0)),onAmPmChange:M[3]||(M[3]=O=>P.$emit("am-pm-change",O)),onResetFlow:M[4]||(M[4]=O=>P.$emit("reset-flow")),onOverlayClosed:M[5]||(M[5]=O=>P.$emit("overlay-toggle",{open:!1,overlay:O})),onOverlayOpened:M[6]||(M[6]=O=>P.$emit("overlay-toggle",{open:!0,overlay:O}))}),mt({_:2},[Ne(v(s),(O,R)=>({name:O,fn:De(B=>[me(P.$slots,O,st(yt(B)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),Bu={class:"dp--header-wrap"},Nu={key:0,class:"dp__month_year_wrap"},Eu={key:0},Vu={class:"dp__month_year_wrap"},Lu=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],Hu=Xe({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Bt},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:n}){const a=n,l=e,{defaultedTransitions:r,defaultedAriaLabels:s,defaultedMultiCalendars:p,defaultedFilters:u,defaultedConfig:T,defaultedHighlight:m,propDates:f,defaultedUI:w}=ze(l),{transitionName:P,showTransition:M}=Ja(r),{buildMatrix:O}=sa(),{handleMonthYearChange:R,isDisabled:B,updateMonthYear:L}=iu(l,a),{showLeftIcon:$,showRightIcon:U}=gn(),J=F(!1),Y=F(!1),z=F(!1),le=F([null,null,null,null]);ut(()=>{a("mount")});const X=b=>({get:()=>l[b],set:j=>{const C=b===$t.month?$t.year:$t.month;a("update-month-year",{[b]:j,[C]:l[C]}),b===$t.month?Q(!0):oe(!0)}}),H=I(X($t.month)),se=I(X($t.year)),pe=I(()=>b=>({month:l.month,year:l.year,items:b===$t.month?l.months:l.years,instance:l.instance,updateMonthYear:L,toggle:b===$t.month?Q:oe})),be=I(()=>l.months.find(j=>j.value===l.month)||{text:"",value:0}),k=I(()=>Sa(l.months,b=>{const j=l.month===b.value,C=Ua(b.value,xr(l.year,f.value.minDate),kr(l.year,f.value.maxDate))||u.value.months.includes(b.value),ie=Pr(m.value,b.value,l.year);return{active:j,disabled:C,highlighted:ie}})),A=I(()=>Sa(l.years,b=>{const j=l.year===b.value,C=Ua(b.value,Ra(f.value.minDate),Ra(f.value.maxDate))||u.value.years.includes(b.value),ie=ml(m.value,b.value);return{active:j,disabled:C,highlighted:ie}})),x=(b,j,C)=>{C!==void 0?b.value=C:b.value=!b.value,b.value?(z.value=!0,a("overlay-opened",j)):(z.value=!1,a("overlay-closed",j))},Q=(b=!1,j)=>{q(b),x(J,vt.month,j)},oe=(b=!1,j)=>{q(b),x(Y,vt.year,j)},q=b=>{b||a("reset-flow")},te=(b,j)=>{l.arrowNavigation&&(le.value[j]=et(b),O(le.value,"monthYear"))},S=I(()=>[{type:$t.month,index:1,toggle:Q,modelValue:H.value,updateModelValue:b=>H.value=b,text:be.value.text,showSelectionGrid:J.value,items:k.value,ariaLabel:s.value?.openMonthsOverlay,overlayLabel:s.value.monthPicker?.(!0)??void 0},{type:$t.year,index:2,toggle:oe,modelValue:se.value,updateModelValue:b=>se.value=b,text:cl(l.year,l.locale),showSelectionGrid:Y.value,items:A.value,ariaLabel:s.value?.openYearsOverlay,overlayLabel:s.value.yearPicker?.(!0)??void 0}]),de=I(()=>l.disableYearSelect?[S.value[0]]:l.yearFirst?[...S.value].reverse():S.value);return t({toggleMonthPicker:Q,toggleYearPicker:oe,handleMonthYearChange:R}),(b,j)=>(g(),_("div",Bu,[b.$slots["month-year"]?(g(),_("div",Nu,[me(b.$slots,"month-year",st(yt({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:v(L),handleMonthYearChange:v(R),instance:e.instance,isDisabled:v(B)})))])):(g(),_(Me,{key:1},[b.$slots["top-extra"]?(g(),_("div",Eu,[me(b.$slots,"top-extra",{value:b.internalModelValue})])):W("",!0),o("div",Vu,[v($)(v(p),e.instance)&&!b.vertical?(g(),Ae(qa,{key:0,"aria-label":v(s)?.prevMonth,disabled:v(B)(!1),class:re(v(w)?.navBtnPrev),"el-name":"action-prev",onActivate:j[0]||(j[0]=C=>v(R)(!1,!0)),onSetRef:j[1]||(j[1]=C=>te(C,0))},{default:De(()=>[b.$slots["arrow-left"]?me(b.$slots,"arrow-left",{key:0}):W("",!0),b.$slots["arrow-left"]?W("",!0):(g(),Ae(v(nl),{key:1}))]),_:3},8,["aria-label","disabled","class"])):W("",!0),o("div",{class:re(["dp__month_year_wrap",{dp__year_disable_select:b.disableYearSelect}])},[(g(!0),_(Me,null,Ne(de.value,(C,ie)=>(g(),_(Me,{key:C.type},[o("button",{ref_for:!0,ref:h=>te(h,ie+1),type:"button","data-dp-element":`overlay-${C.type}`,class:re(["dp__btn dp__month_year_select",{"dp--hidden-el":z.value}]),"aria-label":`${C.text}-${C.ariaLabel}`,"data-test-id":`${C.type}-toggle-overlay-${e.instance}`,onClick:C.toggle,onKeydown:h=>v(ft)(h,()=>C.toggle(),!0)},[b.$slots[C.type]?me(b.$slots,C.type,{key:0,text:C.text,value:l[C.type]}):W("",!0),b.$slots[C.type]?W("",!0):(g(),_(Me,{key:1},[Xt(Te(C.text),1)],64))],42,Lu),Be(la,{name:v(P)(C.showSelectionGrid),css:v(M)},{default:De(()=>[C.showSelectionGrid?(g(),Ae(Ga,{key:0,items:C.items,"arrow-navigation":b.arrowNavigation,"hide-navigation":b.hideNavigation,"is-last":b.autoApply&&!v(T).keepActionRow,"skip-button-ref":!1,config:b.config,type:C.type,"header-refs":[],"esc-close":b.escClose,"menu-wrap-ref":b.menuWrapRef,"text-input":b.textInput,"aria-labels":b.ariaLabels,"overlay-label":C.overlayLabel,onSelected:C.updateModelValue,onToggle:C.toggle},mt({"button-icon":De(()=>[b.$slots["calendar-icon"]?me(b.$slots,"calendar-icon",{key:0}):W("",!0),b.$slots["calendar-icon"]?W("",!0):(g(),Ae(v(Fa),{key:1}))]),_:2},[b.$slots[`${C.type}-overlay-value`]?{name:"item",fn:De(({item:h})=>[me(b.$slots,`${C.type}-overlay-value`,{text:h.text,value:h.value})]),key:"0"}:void 0,b.$slots[`${C.type}-overlay`]?{name:"overlay",fn:De(()=>[me(b.$slots,`${C.type}-overlay`,ot({ref_for:!0},pe.value(C.type)))]),key:"1"}:void 0,b.$slots[`${C.type}-overlay-header`]?{name:"header",fn:De(()=>[me(b.$slots,`${C.type}-overlay-header`,{toggle:C.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):W("",!0)]),_:2},1032,["name","css"])],64))),128))],2),v($)(v(p),e.instance)&&b.vertical?(g(),Ae(qa,{key:1,"aria-label":v(s)?.prevMonth,"el-name":"action-prev",disabled:v(B)(!1),class:re(v(w)?.navBtnPrev),onActivate:j[2]||(j[2]=C=>v(R)(!1,!0))},{default:De(()=>[b.$slots["arrow-up"]?me(b.$slots,"arrow-up",{key:0}):W("",!0),b.$slots["arrow-up"]?W("",!0):(g(),Ae(v(sl),{key:1}))]),_:3},8,["aria-label","disabled","class"])):W("",!0),v(U)(v(p),e.instance)?(g(),Ae(qa,{key:2,ref:"rightIcon","el-name":"action-next",disabled:v(B)(!0),"aria-label":v(s)?.nextMonth,class:re(v(w)?.navBtnNext),onActivate:j[3]||(j[3]=C=>v(R)(!0,!0)),onSetRef:j[4]||(j[4]=C=>te(C,b.disableYearSelect?2:3))},{default:De(()=>[b.$slots[b.vertical?"arrow-down":"arrow-right"]?me(b.$slots,b.vertical?"arrow-down":"arrow-right",{key:0}):W("",!0),b.$slots[b.vertical?"arrow-down":"arrow-right"]?W("",!0):(g(),Ae(pn(b.vertical?v(ol):v(ll)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):W("",!0)])],64))]))}}),zu={class:"dp__calendar_header",role:"row"},ju={key:0,class:"dp__calendar_header_item",role:"gridcell"},qu=["aria-label"],Wu={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},Uu={class:"dp__cell_inner"},Xu=["id","aria-selected","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],Qu=Xe({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Bt},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const a=n,l=e,{buildMultiLevelMatrix:r}=sa(),{defaultedTransitions:s,defaultedConfig:p,defaultedAriaLabels:u,defaultedMultiCalendars:T,defaultedWeekNumbers:m,defaultedMultiDates:f,defaultedUI:w}=ze(l),P=F(null),M=F({bottom:"",left:"",transform:""}),O=F([]),R=F(null),B=F(!0),L=F(""),$=F({startX:0,endX:0,startY:0,endY:0}),U=F([]),J=F({left:"50%"}),Y=F(!1),z=I(()=>l.calendar?l.calendar(l.mappedDates):l.mappedDates),le=I(()=>l.dayNames?Array.isArray(l.dayNames)?l.dayNames:l.dayNames(l.locale,+l.weekStart):Ci(l.formatLocale,l.locale,+l.weekStart));ut(()=>{a("mount",{cmp:"calendar",refs:O}),p.value.noSwipe||R.value&&(R.value.addEventListener("touchstart",te,{passive:!1}),R.value.addEventListener("touchend",S,{passive:!1}),R.value.addEventListener("touchmove",de,{passive:!1})),l.monthChangeOnScroll&&R.value&&R.value.addEventListener("wheel",C,{passive:!1})}),Ya(()=>{p.value.noSwipe||R.value&&(R.value.removeEventListener("touchstart",te),R.value.removeEventListener("touchend",S),R.value.removeEventListener("touchmove",de)),l.monthChangeOnScroll&&R.value&&R.value.removeEventListener("wheel",C)});const X=Z=>Z?l.vertical?"vNext":"next":l.vertical?"vPrevious":"previous",H=(Z,Pe)=>{if(l.transitions){const ae=nt(Ut(G(),l.month,l.year));L.value=Ke(nt(Ut(G(),Z,Pe)),ae)?s.value[X(!0)]:s.value[X(!1)],B.value=!1,xt(()=>{B.value=!0})}},se=I(()=>({...w.value.calendar??{}})),pe=I(()=>Z=>{const Pe=$i(Z);return{dp__marker_dot:Pe.type==="dot",dp__marker_line:Pe.type==="line"}}),be=I(()=>Z=>Re(Z,P.value)),k=I(()=>({dp__calendar:!0,dp__calendar_next:T.value.count>0&&l.instance!==0})),A=I(()=>Z=>l.hideOffsetDates?Z.current:!0),x=async(Z,Pe)=>{const{width:ae,height:ue}=Z.getBoundingClientRect();P.value=Pe.value;let i={left:`${ae/2}px`},ve=-50;if(await xt(),U.value[0]){const{left:N,width:Ce}=U.value[0].getBoundingClientRect();N<0&&(i={left:"0"},ve=0,J.value.left=`${ae/2}px`),window.innerWidth<N+Ce&&(i={right:"0"},ve=0,J.value.left=`${Ce-ae/2}px`)}M.value={bottom:`${ue}px`,...i,transform:`translateX(${ve}%)`}},Q=async(Z,Pe,ae)=>{const ue=et(O.value[Pe][ae]);ue&&(Z.marker?.customPosition&&Z.marker?.tooltip?.length?M.value=Z.marker.customPosition(ue):await x(ue,Z),a("tooltip-open",Z.marker))},oe=async(Z,Pe,ae)=>{if(Y.value&&f.value.enabled&&f.value.dragSelect)return a("select-date",Z);if(a("set-hover-date",Z),Z.marker?.tooltip?.length){if(l.hideOffsetDates&&!Z.current)return;await Q(Z,Pe,ae)}},q=Z=>{P.value&&(P.value=null,M.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",Z.marker))},te=Z=>{$.value.startX=Z.changedTouches[0].screenX,$.value.startY=Z.changedTouches[0].screenY},S=Z=>{$.value.endX=Z.changedTouches[0].screenX,$.value.endY=Z.changedTouches[0].screenY,b()},de=Z=>{l.vertical&&!l.inline&&Z.preventDefault()},b=()=>{const Z=l.vertical?"Y":"X";Math.abs($.value[`start${Z}`]-$.value[`end${Z}`])>10&&a("handle-swipe",$.value[`start${Z}`]>$.value[`end${Z}`]?"right":"left")},j=(Z,Pe,ae)=>{Z&&(Array.isArray(O.value[Pe])?O.value[Pe][ae]=Z:O.value[Pe]=[Z]),l.arrowNavigation&&r(O.value,"calendar")},C=Z=>{l.monthChangeOnScroll&&(Z.preventDefault(),a("handle-scroll",Z))},ie=Z=>m.value.type==="local"?el(Z.value,{weekStartsOn:+l.weekStart}):m.value.type==="iso"?Jn(Z.value):typeof m.value.type=="function"?m.value.type(Z.value):"",h=Z=>{const Pe=Z[0];return m.value.hideOnOffsetDates?Z.some(ae=>ae.current)?ie(Pe):"":ie(Pe)},c=(Z,Pe,ae=!0)=>{!ae&&Fi()||(!f.value.enabled||p.value.allowPreventDefault)&&(aa(Z,p.value),a("select-date",Pe))},K=Z=>{aa(Z,p.value)},Oe=Z=>{f.value.enabled&&f.value.dragSelect?(Y.value=!0,a("select-date",Z)):f.value.enabled&&a("select-date",Z)};return t({triggerTransition:H}),(Z,Pe)=>(g(),_("div",{class:re(k.value)},[o("div",{ref_key:"calendarWrapRef",ref:R,class:re(se.value),role:"grid"},[o("div",zu,[Z.weekNumbers?(g(),_("div",ju,Te(Z.weekNumName),1)):W("",!0),(g(!0),_(Me,null,Ne(le.value,(ae,ue)=>(g(),_("div",{key:ue,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":v(u)?.weekDay?.(ue)},[Z.$slots["calendar-header"]?me(Z.$slots,"calendar-header",{key:0,day:ae,index:ue}):W("",!0),Z.$slots["calendar-header"]?W("",!0):(g(),_(Me,{key:1},[Xt(Te(ae),1)],64))],8,qu))),128))]),Pe[2]||(Pe[2]=o("div",{class:"dp__calendar_header_separator"},null,-1)),Be(la,{name:L.value,css:!!Z.transitions},{default:De(()=>[B.value?(g(),_("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:Pe[1]||(Pe[1]=ae=>Y.value=!1)},[(g(!0),_(Me,null,Ne(z.value,(ae,ue)=>(g(),_("div",{key:ue,class:"dp__calendar_row",role:"row"},[Z.weekNumbers?(g(),_("div",Wu,[o("div",Uu,Te(h(ae.days)),1)])):W("",!0),(g(!0),_(Me,null,Ne(ae.days,(i,ve)=>(g(),_("div",{id:v(Kn)(i.value),ref_for:!0,ref:N=>j(N,ue,ve),key:ve+ue,role:"gridcell",class:"dp__calendar_item","aria-selected":(i.classData.dp__active_date||i.classData.dp__range_start||i.classData.dp__range_end)??void 0,"aria-disabled":i.classData.dp__cell_disabled||void 0,"aria-label":v(u)?.day?.(i),tabindex:!i.current&&Z.hideOffsetDates?void 0:0,"data-test-id":v(Kn)(i.value),onClick:St(N=>c(N,i),["prevent"]),onTouchend:N=>c(N,i,!1),onKeydown:N=>v(ft)(N,()=>Z.$emit("select-date",i)),onMouseenter:N=>oe(i,ue,ve),onMouseleave:N=>q(i),onMousedown:N=>Oe(i),onMouseup:Pe[0]||(Pe[0]=N=>Y.value=!1)},[o("div",{class:re(["dp__cell_inner",i.classData])},[Z.$slots.day&&A.value(i)?me(Z.$slots,"day",{key:0,day:+i.text,date:i.value}):W("",!0),Z.$slots.day?W("",!0):(g(),_(Me,{key:1},[Xt(Te(i.text),1)],64)),i.marker&&A.value(i)?(g(),_(Me,{key:2},[Z.$slots.marker?me(Z.$slots,"marker",{key:0,marker:i.marker,day:+i.text,date:i.value}):(g(),_("div",{key:1,class:re(pe.value(i.marker)),style:at(i.marker.color?{backgroundColor:i.marker.color}:{})},null,6))],64)):W("",!0),be.value(i.value)?(g(),_("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:U,class:"dp__marker_tooltip",style:at(M.value)},[i.marker?.tooltip?(g(),_("div",{key:0,class:"dp__tooltip_content",onClick:K},[(g(!0),_(Me,null,Ne(i.marker.tooltip,(N,Ce)=>(g(),_("div",{key:Ce,class:"dp__tooltip_text"},[Z.$slots["marker-tooltip"]?me(Z.$slots,"marker-tooltip",{key:0,tooltip:N,day:i.value}):W("",!0),Z.$slots["marker-tooltip"]?W("",!0):(g(),_(Me,{key:1},[o("div",{class:"dp__tooltip_mark",style:at(N.color?{backgroundColor:N.color}:{})},null,4),o("div",null,Te(N.text),1)],64))]))),128)),o("div",{class:"dp__arrow_bottom_tp",style:at(J.value)},null,4)])):W("",!0)],4)):W("",!0)],2)],40,Xu))),128))]))),128))],32)):W("",!0)]),_:3},8,["name","css"])],2)],2))}}),Hl=e=>Array.isArray(e),Ku=(e,t,n,a)=>{const l=F([]),r=F(new Date),s=F(),p=()=>S(e.isTextInputDate),{modelValue:u,calendars:T,time:m,today:f}=Za(e,t,p),{defaultedMultiCalendars:w,defaultedStartTime:P,defaultedRange:M,defaultedConfig:O,defaultedTz:R,propDates:B,defaultedMultiDates:L}=ze(e),{validateMonthYearInRange:$,isDisabled:U,isDateRangeAllowed:J,checkMinMaxRange:Y}=oa(e),{updateTimeValues:z,getSetDateTime:le,setTime:X,assignStartTime:H,validateTime:se,disabledTimesConfig:pe}=Fr(e,m,u,a),be=I(()=>D=>T.value[D]?T.value[D].month:0),k=I(()=>D=>T.value[D]?T.value[D].year:0),A=D=>!O.value.keepViewOnOffsetClick||D?!0:!s.value,x=(D,ne,we,$e=!1)=>{A($e)&&(T.value[D]||(T.value[D]={month:0,year:0}),T.value[D].month=Il(ne)?T.value[D]?.month:ne,T.value[D].year=Il(we)?T.value[D]?.year:we)},Q=()=>{e.autoApply&&t("select-date")},oe=()=>{P.value&&H(P.value)};ut(()=>{e.shadow||(u.value||(Pe(),oe()),S(!0),e.focusStartDate&&e.startDate&&Pe())});const q=I(()=>e.flow?.length&&!e.partialFlow?e.flowStep===e.flow.length:!0),te=()=>{e.autoApply&&q.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},S=(D=!1)=>{if(u.value)return Array.isArray(u.value)?(l.value=u.value,c(D)):j(u.value,D);if(w.value.count&&D&&!e.startDate)return b(G(),D)},de=()=>Array.isArray(u.value)&&M.value.enabled?Se(u.value[0])===Se(u.value[1]??u.value[0]):!1,b=(D=new Date,ne=!1)=>{if((!w.value.count||!w.value.static||ne)&&x(0,Se(D),_e(D)),w.value.count&&(!u.value||de()||!w.value.solo)&&(!w.value.solo||ne))for(let we=1;we<w.value.count;we++){const $e=Ve(G(),{month:be.value(we-1),year:k.value(we-1)}),ee=Xl($e,{months:1});T.value[we]={month:Se(ee),year:_e(ee)}}},j=(D,ne)=>{b(D),X("hours",Qt(D)),X("minutes",ra(D)),X("seconds",Aa(D)),w.value.count&&ne&&Z()},C=D=>{if(w.value.count){if(w.value.solo)return 0;const ne=Se(D[0]),we=Se(D[1]);return Math.abs(we-ne)<w.value.count?0:1}return 1},ie=(D,ne)=>{D[1]&&M.value.showLastInRange?b(D[C(D)],ne):b(D[0],ne);const we=($e,ee)=>[$e(D[0]),D[1]?$e(D[1]):m[ee][1]];X("hours",we(Qt,"hours")),X("minutes",we(ra,"minutes")),X("seconds",we(Aa,"seconds"))},h=(D,ne)=>{if((M.value.enabled||e.weekPicker)&&!L.value.enabled)return ie(D,ne);if(L.value.enabled&&ne){const we=D[D.length-1];return j(we,ne)}},c=D=>{const ne=u.value;h(ne,D),w.value.count&&w.value.solo&&Z()},K=(D,ne)=>{const we=Ve(G(),{month:be.value(ne),year:k.value(ne)}),$e=D<0?Ft(we,1):Oa(we,1);$(Se($e),_e($e),D<0,e.preventMinMaxNavigation)&&(x(ne,Se($e),_e($e)),t("update-month-year",{instance:ne,month:Se($e),year:_e($e)}),w.value.count&&!w.value.solo&&Oe(ne),n())},Oe=D=>{for(let ne=D-1;ne>=0;ne--){const we=Oa(Ve(G(),{month:be.value(ne+1),year:k.value(ne+1)}),1);x(ne,Se(we),_e(we))}for(let ne=D+1;ne<=w.value.count-1;ne++){const we=Ft(Ve(G(),{month:be.value(ne-1),year:k.value(ne-1)}),1);x(ne,Se(we),_e(we))}},Z=()=>{if(Array.isArray(u.value)&&u.value.length===2){const D=G(G(u.value[1]?u.value[1]:Ft(u.value[0],1))),[ne,we]=[Se(u.value[0]),_e(u.value[0])],[$e,ee]=[Se(u.value[1]),_e(u.value[1])];(ne!==$e||ne===$e&&we!==ee)&&w.value.solo&&x(1,Se(D),_e(D))}else u.value&&!Array.isArray(u.value)&&(x(0,Se(u.value),_e(u.value)),b(G()))},Pe=()=>{e.startDate&&(x(0,Se(G(e.startDate)),_e(G(e.startDate))),w.value.count&&Oe(0))},ae=(D,ne)=>{if(e.monthChangeOnScroll){const we=new Date().getTime()-r.value.getTime(),$e=Math.abs(D.deltaY);let ee=500;$e>1&&(ee=100),$e>100&&(ee=0),we>ee&&(r.value=new Date,K(e.monthChangeOnScroll!=="inverse"?-D.deltaY:D.deltaY,ne))}},ue=(D,ne,we=!1)=>{e.monthChangeOnArrows&&e.vertical===we&&i(D,ne)},i=(D,ne)=>{K(D==="right"?-1:1,ne)},ve=D=>{if(B.value.markers)return vn(D.value,B.value.markers)},N=(D,ne)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[D==0,!0];case"fair":return[D==0||ne>D,!0];case"append":return[!1,!1];default:return[!1,!1]}},Ce=(D,ne,we,$e)=>{if(e.sixWeeks&&D.length<6){const ee=6-D.length,he=(ne.getDay()+7-$e)%7,ge=6-(we.getDay()+7-$e)%7,[Dt,_t]=N(he,ge);for(let jt=1;jt<=ee;jt++)if(_t?!!(jt%2)==Dt:Dt){const Nt=D[0].days[0],Et=ye(Tt(Nt.value,-7),Se(ne));D.unshift({days:Et})}else{const Nt=D[D.length-1],Et=Nt.days[Nt.days.length-1],bn=ye(Tt(Et.value,1),Se(ne));D.push({days:bn})}}return D},ye=(D,ne)=>{const we=G(D),$e=[];for(let ee=0;ee<7;ee++){const he=Tt(we,ee),ge=Se(he)!==ne;$e.push({text:e.hideOffsetDates&&ge?"":he.getDate(),value:he,current:!ge,classData:{}})}return $e},lt=(D,ne)=>{const we=[],$e=new Date(ne,D),ee=new Date(ne,D+1,0),he=e.weekStart,ge=It($e,{weekStartsOn:he}),Dt=_t=>{const jt=ye(_t,D);if(we.push({days:jt}),!we[we.length-1].days.some(Nt=>Re(nt(Nt.value),nt(ee)))){const Nt=Tt(_t,7);Dt(Nt)}};return Dt(ge),Ce(we,$e,ee,he)},je=D=>{const ne=na(G(D.value),m.hours,m.minutes,kt());t("date-update",ne),L.value.enabled?pl(ne,u,L.value.limit):u.value=ne,a(),xt().then(()=>{te()})},bt=D=>M.value.noDisabledRange?_r(l.value[0],D).some(ne=>U(ne)):!1,E=()=>{l.value=u.value?u.value.slice():[],l.value.length===2&&!(M.value.fixedStart||M.value.fixedEnd)&&(l.value=[])},ce=(D,ne)=>{const we=[G(D.value),Tt(G(D.value),+M.value.autoRange)];J(we)?(ne&&fe(D.value),l.value=we):t("invalid-date",D.value)},fe=D=>{const ne=Se(G(D)),we=_e(G(D));if(x(0,ne,we),w.value.count>0)for(let $e=1;$e<w.value.count;$e++){const ee=Ni(Ve(G(D),{year:k.value($e-1),month:be.value($e-1)}));x($e,ee.month,ee.year)}},ht=D=>{if(bt(D.value)||!Y(D.value,u.value,M.value.fixedStart?0:1))return t("invalid-date",D.value);l.value=Sr(G(D.value),u,t,M)},tt=(D,ne)=>{if(E(),M.value.autoRange)return ce(D,ne);if(M.value.fixedStart||M.value.fixedEnd)return ht(D);l.value[0]?Y(G(D.value),u.value)&&!bt(D.value)?We(G(D.value),G(l.value[0]))?(l.value.unshift(G(D.value)),t("range-end",l.value[0])):(l.value[1]=G(D.value),t("range-end",l.value[1])):(e.autoApply&&t("auto-apply-invalid",D.value),t("invalid-date",D.value)):(l.value[0]=G(D.value),t("range-start",l.value[0]))},kt=(D=!0)=>e.enableSeconds?Array.isArray(m.seconds)?D?m.seconds[0]:m.seconds[1]:m.seconds:0,it=D=>{l.value[D]=na(l.value[D],m.hours[D],m.minutes[D],kt(D!==1))},Ia=()=>{l.value[0]&&l.value[1]&&+l.value?.[0]>+l.value?.[1]&&(l.value.reverse(),t("range-start",l.value[0]),t("range-end",l.value[1]))},ia=()=>{l.value.length&&(l.value[0]&&!l.value[1]?it(0):(it(0),it(1),a()),Ia(),u.value=l.value.slice(),yn(l.value,t,e.autoApply,e.modelAuto))},ua=(D,ne=!1)=>{if(U(D.value)||!D.current&&e.hideOffsetDates)return t("invalid-date",D.value);if(s.value=JSON.parse(JSON.stringify(D)),!M.value.enabled)return je(D);Hl(m.hours)&&Hl(m.minutes)&&!L.value.enabled&&(tt(D,ne),ia())},zt=(D,ne)=>{x(D,ne.month,ne.year,!0),w.value.count&&!w.value.solo&&Oe(D),t("update-month-year",{instance:D,month:ne.month,year:ne.year}),n(w.value.solo?D:void 0);const we=e.flow?.length?e.flow[e.flowStep]:void 0;!ne.fromNav&&(we===vt.month||we===vt.year)&&a()},ya=(D,ne)=>{Or({value:D,modelValue:u,range:M.value.enabled,timezone:ne?void 0:R.value.timezone}),Q(),e.multiCalendars&&xt().then(()=>S(!0))},Ba=()=>{const D=il(G(),R.value);!M.value.enabled&&!L.value.enabled?u.value=D:u.value&&Array.isArray(u.value)&&u.value[0]?L.value.enabled?u.value=[...u.value,D]:u.value=We(D,u.value[0])?[D,u.value[0]]:[u.value[0],D]:u.value=[D],Q()},Na=()=>{if(Array.isArray(u.value))if(L.value.enabled){const D=Kt();u.value[u.value.length-1]=le(D)}else u.value=u.value.map((D,ne)=>D&&le(D,ne));else u.value=le(u.value);t("time-update")},Kt=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null;return{calendars:T,modelValue:u,month:be,year:k,time:m,disabledTimesConfig:pe,today:f,validateTime:se,getCalendarDays:lt,getMarker:ve,handleScroll:ae,handleSwipe:i,handleArrow:ue,selectDate:ua,updateMonthYear:zt,presetDate:ya,selectCurrentDate:Ba,updateTime:(D,ne=!0,we=!1)=>{z(D,ne,we,Na)},assignMonthAndYear:b,setStartTime:oe}},Gu={key:0},Ju=Xe({__name:"DatePicker",props:{...Bt},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,l=e,{calendars:r,month:s,year:p,modelValue:u,time:T,disabledTimesConfig:m,today:f,validateTime:w,getCalendarDays:P,getMarker:M,handleArrow:O,handleScroll:R,handleSwipe:B,selectDate:L,updateMonthYear:$,presetDate:U,selectCurrentDate:J,updateTime:Y,assignMonthAndYear:z,setStartTime:le}=Ku(l,a,de,b),X=fa(),{setHoverDate:H,getDayClassData:se,clearHoverDate:pe}=fd(u,l),{defaultedMultiCalendars:be}=ze(l),k=F([]),A=F([]),x=F(null),Q=wt(X,"calendar"),oe=wt(X,"monthYear"),q=wt(X,"timePicker"),te=ae=>{l.shadow||a("mount",ae)};Ze(r,()=>{l.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),Ze(be,(ae,ue)=>{ae.count-ue.count>0&&z()},{deep:!0});const S=I(()=>ae=>P(s.value(ae),p.value(ae)).map(ue=>({...ue,days:ue.days.map(i=>(i.marker=M(i),i.classData=se(i),i))})));function de(ae){ae||ae===0?A.value[ae]?.triggerTransition(s.value(ae),p.value(ae)):A.value.forEach((ue,i)=>ue.triggerTransition(s.value(i),p.value(i)))}function b(){a("update-flow-step")}const j=(ae,ue=!1)=>{L(ae,ue),l.spaceConfirm&&a("select-date")},C=(ae,ue,i=0)=>{k.value[i]?.toggleMonthPicker(ae,ue)},ie=(ae,ue,i=0)=>{k.value[i]?.toggleYearPicker(ae,ue)},h=(ae,ue,i)=>{x.value?.toggleTimePicker(ae,ue,i)},c=(ae,ue)=>{if(!l.range){const i=u.value?u.value:f,ve=ue?new Date(ue):i,N=ae?It(ve,{weekStartsOn:1}):tr(ve,{weekStartsOn:1});L({value:N,current:Se(ve)===s.value(0),text:"",classData:{}}),document.getElementById(Kn(N))?.focus()}},K=ae=>{k.value[0]?.handleMonthYearChange(ae,!0)},Oe=ae=>{$(0,{month:s.value(0),year:p.value(0)+(ae?1:-1),fromNav:!0})},Z=(ae,ue)=>{ae===vt.time&&a(`time-picker-${ue?"open":"close"}`),a("overlay-toggle",{open:ue,overlay:ae})},Pe=ae=>{a("overlay-toggle",{open:!1,overlay:ae}),a("focus-menu")};return t({clearHoverDate:pe,presetDate:U,selectCurrentDate:J,toggleMonthPicker:C,toggleYearPicker:ie,toggleTimePicker:h,handleArrow:O,updateMonthYear:$,getSidebarProps:()=>({modelValue:u,month:s,year:p,time:T,updateTime:Y,updateMonthYear:$,selectDate:L,presetDate:U}),changeMonth:K,changeYear:Oe,selectWeekDate:c,setStartTime:le}),(ae,ue)=>(g(),_(Me,null,[Be(hn,{"multi-calendars":v(be).count,collapse:ae.collapse,"is-mobile":ae.isMobile},{default:De(({instance:i,index:ve})=>[ae.disableMonthYearSelect?W("",!0):(g(),Ae(Hu,ot({key:0,ref:N=>{N&&(k.value[ve]=N)},months:v(hr)(ae.formatLocale,ae.locale,ae.monthNameFormat),years:v(ul)(ae.yearRange,ae.locale,ae.reverseYears),month:v(s)(i),year:v(p)(i),instance:i},ae.$props,{onMount:ue[0]||(ue[0]=N=>te(v(va).header)),onResetFlow:ue[1]||(ue[1]=N=>ae.$emit("reset-flow")),onUpdateMonthYear:N=>v($)(i,N),onOverlayClosed:Pe,onOverlayOpened:ue[2]||(ue[2]=N=>ae.$emit("overlay-toggle",{open:!0,overlay:N}))}),mt({_:2},[Ne(v(oe),(N,Ce)=>({name:N,fn:De(ye=>[me(ae.$slots,N,st(yt(ye)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Be(Qu,ot({ref:N=>{N&&(A.value[ve]=N)},"mapped-dates":S.value(i),month:v(s)(i),year:v(p)(i),instance:i},ae.$props,{onSelectDate:N=>v(L)(N,i!==1),onHandleSpace:N=>j(N,i!==1),onSetHoverDate:ue[3]||(ue[3]=N=>v(H)(N)),onHandleScroll:N=>v(R)(N,i),onHandleSwipe:N=>v(B)(N,i),onMount:ue[4]||(ue[4]=N=>te(v(va).calendar)),onResetFlow:ue[5]||(ue[5]=N=>ae.$emit("reset-flow")),onTooltipOpen:ue[6]||(ue[6]=N=>ae.$emit("tooltip-open",N)),onTooltipClose:ue[7]||(ue[7]=N=>ae.$emit("tooltip-close",N))}),mt({_:2},[Ne(v(Q),(N,Ce)=>({name:N,fn:De(ye=>[me(ae.$slots,N,st(yt({...ye})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),ae.enableTimePicker?(g(),_("div",Gu,[ae.$slots["time-picker"]?me(ae.$slots,"time-picker",st(ot({key:0},{time:v(T),updateTime:v(Y)}))):(g(),Ae(Yr,ot({key:1,ref_key:"timePickerRef",ref:x},ae.$props,{hours:v(T).hours,minutes:v(T).minutes,seconds:v(T).seconds,"internal-model-value":ae.internalModelValue,"disabled-times-config":v(m),"validate-time":v(w),onMount:ue[8]||(ue[8]=i=>te(v(va).timePicker)),"onUpdate:hours":ue[9]||(ue[9]=i=>v(Y)(i)),"onUpdate:minutes":ue[10]||(ue[10]=i=>v(Y)(i,!1)),"onUpdate:seconds":ue[11]||(ue[11]=i=>v(Y)(i,!1,!0)),onResetFlow:ue[12]||(ue[12]=i=>ae.$emit("reset-flow")),onOverlayClosed:ue[13]||(ue[13]=i=>Z(i,!1)),onOverlayOpened:ue[14]||(ue[14]=i=>Z(i,!0)),onAmPmChange:ue[15]||(ue[15]=i=>ae.$emit("am-pm-change",i))}),mt({_:2},[Ne(v(q),(i,ve)=>({name:i,fn:De(N=>[me(ae.$slots,i,st(yt(N)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):W("",!0)],64))}}),Zu=(e,t)=>{const n=F(),{defaultedMultiCalendars:a,defaultedConfig:l,defaultedHighlight:r,defaultedRange:s,propDates:p,defaultedFilters:u,defaultedMultiDates:T}=ze(e),{modelValue:m,year:f,month:w,calendars:P}=Za(e,t),{isDisabled:M}=oa(e),{selectYear:O,groupedYears:R,showYearPicker:B,isDisabled:L,toggleYearPicker:$,handleYearSelect:U,handleYear:J}=Rr({modelValue:m,multiCalendars:a,range:s,highlight:r,calendars:P,propDates:p,month:w,year:f,filters:u,props:e,emit:t}),Y=(A,x)=>[A,x].map(Q=>Ht(Q,"MMMM",{locale:e.formatLocale})).join("-"),z=I(()=>A=>m.value?Array.isArray(m.value)?m.value.some(x=>Rl(A,x)):Rl(m.value,A):!1),le=A=>{if(s.value.enabled){if(Array.isArray(m.value)){const x=Re(A,m.value[0])||Re(A,m.value[1]);return Xa(m.value,n.value,A)&&!x}return!1}return!1},X=(A,x)=>A.quarter===Pl(x)&&A.year===_e(x),H=A=>typeof r.value=="function"?r.value({quarter:Pl(A),year:_e(A)}):!!r.value.quarters.find(x=>X(x,A)),se=I(()=>A=>{const x=Ve(new Date,{year:f.value(A)});return Ps({start:Da(x),end:er(x)}).map(Q=>{const oe=ca(Q),q=Cl(Q),te=M(Q),S=le(oe),de=H(oe);return{text:Y(oe,q),value:oe,active:z.value(oe),highlighted:de,disabled:te,isBetween:S}})}),pe=A=>{pl(A,m,T.value.limit),t("auto-apply",!0)},be=A=>{m.value=fl(m,A,t),yn(m.value,t,e.autoApply,e.modelAuto)},k=A=>{m.value=A,t("auto-apply")};return{defaultedConfig:l,defaultedMultiCalendars:a,groupedYears:R,year:f,isDisabled:L,quarters:se,showYearPicker:B,modelValue:m,setHoverDate:A=>{n.value=A},selectYear:O,selectQuarter:(A,x,Q)=>{if(!Q)return P.value[x].month=Se(Cl(A)),T.value.enabled?pe(A):s.value.enabled?be(A):k(A)},toggleYearPicker:$,handleYearSelect:U,handleYear:J}},ed={class:"dp--quarter-items"},td=["data-test-id","disabled","onClick","onMouseover"],ad=Xe({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Bt},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:n}){const a=n,l=e,r=fa(),s=wt(r,"yearMode"),{defaultedMultiCalendars:p,defaultedConfig:u,groupedYears:T,year:m,isDisabled:f,quarters:w,modelValue:P,showYearPicker:M,setHoverDate:O,selectQuarter:R,toggleYearPicker:B,handleYearSelect:L,handleYear:$}=Zu(l,a);return t({getSidebarProps:()=>({modelValue:P,year:m,selectQuarter:R,handleYearSelect:L,handleYear:$})}),(U,J)=>(g(),Ae(hn,{"multi-calendars":v(p).count,collapse:U.collapse,stretch:"","is-mobile":U.isMobile},{default:De(({instance:Y})=>[o("div",{class:"dp-quarter-picker-wrap",style:at({minHeight:`${v(u).modeHeight}px`})},[U.$slots["top-extra"]?me(U.$slots,"top-extra",{key:0,value:U.internalModelValue}):W("",!0),o("div",null,[Be($r,ot(U.$props,{items:v(T)(Y),instance:Y,"show-year-picker":v(M)[Y],year:v(m)(Y),"is-disabled":z=>v(f)(Y,z),onHandleYear:z=>v($)(Y,z),onYearSelect:z=>v(L)(z,Y),onToggleYearPicker:z=>v(B)(Y,z?.flow,z?.show)}),mt({_:2},[Ne(v(s),(z,le)=>({name:z,fn:De(X=>[me(U.$slots,z,st(yt(X)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),o("div",ed,[(g(!0),_(Me,null,Ne(v(w)(Y),(z,le)=>(g(),_("div",{key:le},[o("button",{type:"button",class:re(["dp--qr-btn",{"dp--qr-btn-active":z.active,"dp--qr-btn-between":z.isBetween,"dp--qr-btn-disabled":z.disabled,"dp--highlighted":z.highlighted}]),"data-test-id":z.value,disabled:z.disabled,onClick:X=>v(R)(z.value,Y,z.disabled),onMouseover:X=>v(O)(z.value)},[U.$slots.quarter?me(U.$slots,"quarter",{key:0,value:z.value,text:z.text}):(g(),_(Me,{key:1},[Xt(Te(z.text),1)],64))],42,td)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Ir=(e,t)=>{const n=F(0);ut(()=>{a(),window.addEventListener("resize",a,{passive:!0})}),Ya(()=>{window.removeEventListener("resize",a)});const a=()=>{n.value=window.document.documentElement.clientWidth};return{isMobile:I(()=>n.value<=e.value.mobileBreakpoint&&!t?!0:void 0)}},nd=["id","tabindex","role","aria-label"],ld={key:0,class:"dp--menu-load-container"},rd={key:1,class:"dp--menu-header"},sd=["data-dp-mobile"],od={key:0,class:"dp__sidebar_left"},id=["data-dp-mobile"],ud=["data-test-id","data-dp-mobile","onClick","onKeydown"],dd={key:2,class:"dp__sidebar_right"},cd={key:3,class:"dp__action_extra"},zl=Xe({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...fn,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:t,emit:n}){const a=n,l=e,r=F(null),s=I(()=>{const{openOnTop:E,...ce}=l;return{...ce,isMobile:R.value,flowStep:be.value,menuWrapRef:r.value}}),{setMenuFocused:p,setShiftKey:u,control:T}=Ar(),m=fa(),{defaultedTextInput:f,defaultedInline:w,defaultedConfig:P,defaultedUI:M,handleEventPropagation:O}=ze(l),{isMobile:R}=Ir(P,l.shadow),B=F(null),L=F(0),$=F(null),U=F(!1),J=F(null),Y=F(!1),z=E=>{Y.value=!0,P.value.allowPreventDefault&&E.preventDefault(),aa(E,P.value,!0)};ut(()=>{if(!l.shadow){U.value=!0,le(),window.addEventListener("resize",le);const E=et(r);E&&!f.value.enabled&&!w.value.enabled&&(p(!0),te()),E&&(E.addEventListener("pointerdown",z),E.addEventListener("mousedown",z))}document.addEventListener("mousedown",bt)}),Ya(()=>{window.removeEventListener("resize",le),document.removeEventListener("mousedown",bt);const E=et(r);E&&(E.removeEventListener("pointerdown",z),E.removeEventListener("mousedown",z))});const le=()=>{const E=et($);E&&(L.value=E.getBoundingClientRect().width)},{arrowRight:X,arrowLeft:H,arrowDown:se,arrowUp:pe}=sa(),{flowStep:be,updateFlowStep:k,childMount:A,resetFlow:x,handleFlow:Q}=hd(l,a,J),oe=I(()=>l.monthPicker?wu:l.yearPicker?ku:l.timePicker?Iu:l.quarterPicker?ad:Ju),q=I(()=>{if(P.value.arrowLeft)return P.value.arrowLeft;const E=r.value?.getBoundingClientRect(),ce=l.getInputRect();return ce?.width<L?.value&&ce?.left<=(E?.left??0)?`${ce?.width/2}px`:ce?.right>=(E?.right??0)&&ce?.width<L?.value?`${L?.value-ce?.width/2}px`:"50%"}),te=()=>{const E=et(r);E&&E.focus({preventScroll:!0})},S=I(()=>J.value?.getSidebarProps()||{}),de=()=>{l.openOnTop&&a("recalculate-position")},b=wt(m,"action"),j=I(()=>l.monthPicker||l.yearPicker?wt(m,"monthYear"):l.timePicker?wt(m,"timePicker"):wt(m,"shared")),C=I(()=>l.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),ie=I(()=>({dp__menu_disabled:l.disabled,dp__menu_readonly:l.readonly,"dp-menu-loading":l.loading})),h=I(()=>({dp__menu:!0,dp__menu_index:!w.value.enabled,dp__relative:w.value.enabled,...M.value.menu??{}})),c=E=>{aa(E,P.value,!0)},K=E=>{l.escClose&&(a("close-picker"),O(E))},Oe=E=>{if(l.arrowNavigation){if(E===pt.up)return pe();if(E===pt.down)return se();if(E===pt.left)return H();if(E===pt.right)return X()}else E===pt.left||E===pt.up?i("handleArrow",pt.left,0,E===pt.up):i("handleArrow",pt.right,0,E===pt.down)},Z=E=>{u(E.shiftKey),!l.disableMonthYearSelect&&E.code===He.tab&&E.target.classList.contains("dp__menu")&&T.value.shiftKeyInMenu&&(E.preventDefault(),aa(E,P.value,!0),a("close-picker"))},Pe=()=>{te(),a("time-picker-close")},ae=E=>{J.value?.toggleTimePicker(!1,!1),J.value?.toggleMonthPicker(!1,!1,E),J.value?.toggleYearPicker(!1,!1,E)},ue=(E,ce=0)=>E==="month"?J.value?.toggleMonthPicker(!1,!0,ce):E==="year"?J.value?.toggleYearPicker(!1,!0,ce):E==="time"?J.value?.toggleTimePicker(!0,!1):ae(ce),i=(E,...ce)=>{J.value?.[E]&&J.value?.[E](...ce)},ve=()=>{i("selectCurrentDate")},N=(E,ce)=>{i("presetDate",is(E),ce)},Ce=()=>{i("clearHoverDate")},ye=(E,ce)=>{i("updateMonthYear",E,ce)},lt=(E,ce)=>{E.preventDefault(),Oe(ce)},je=E=>{if(Z(E),E.key===He.home||E.key===He.end)return i("selectWeekDate",E.key===He.home,E.target.getAttribute("id"));switch((E.key===He.pageUp||E.key===He.pageDown)&&(E.shiftKey?(i("changeYear",E.key===He.pageUp),Xn(r.value,"overlay-year")?.focus()):(i("changeMonth",E.key===He.pageUp),Xn(r.value,E.key===He.pageUp?"action-prev":"action-next")?.focus()),E.target.getAttribute("id")&&r.value?.focus({preventScroll:!0})),E.key){case He.esc:return K(E);case He.arrowLeft:return lt(E,pt.left);case He.arrowRight:return lt(E,pt.right);case He.arrowUp:return lt(E,pt.up);case He.arrowDown:return lt(E,pt.down);default:return}},bt=E=>{w.value.enabled&&!w.value.input&&!r.value?.contains(E.target)&&Y.value&&(Y.value=!1,a("menu-blur"))};return t({updateMonthYear:ye,switchView:ue,handleFlow:Q,onValueCleared:()=>{J.value?.setStartTime?.()}}),(E,ce)=>(g(),_("div",{id:E.uid?`dp-menu-${E.uid}`:void 0,ref_key:"dpMenuRef",ref:r,tabindex:v(w).enabled?void 0:"0",role:v(w).enabled?void 0:"dialog","aria-label":E.ariaLabels?.menu,class:re(h.value),style:at({"--dp-arrow-left":q.value}),onMouseleave:Ce,onClick:c,onKeydown:je},[(E.disabled||E.readonly)&&v(w).enabled||E.loading?(g(),_("div",{key:0,class:re(ie.value)},[E.loading?(g(),_("div",ld,[...ce[19]||(ce[19]=[o("span",{class:"dp--menu-loader"},null,-1)])])):W("",!0)],2)):W("",!0),E.$slots["menu-header"]?(g(),_("div",rd,[me(E.$slots,"menu-header")])):W("",!0),!v(w).enabled&&!E.teleportCenter?(g(),_("div",{key:2,class:re(C.value)},null,2)):W("",!0),o("div",{ref_key:"innerMenuRef",ref:$,class:re({dp__menu_content_wrapper:E.presetDates?.length||!!E.$slots["left-sidebar"]||!!E.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(E.presetDates?.length||!!E.$slots["left-sidebar"]||!!E.$slots["right-sidebar"])}),"data-dp-mobile":v(R),style:at({"--dp-menu-width":`${L.value}px`})},[E.$slots["left-sidebar"]?(g(),_("div",od,[me(E.$slots,"left-sidebar",st(yt(S.value)))])):W("",!0),E.presetDates.length?(g(),_("div",{key:1,class:re({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":v(R)},[(g(!0),_(Me,null,Ne(E.presetDates,(fe,ht)=>(g(),_(Me,{key:ht},[fe.slot?me(E.$slots,fe.slot,{key:0,presetDate:N,label:fe.label,value:fe.value}):(g(),_("button",{key:1,type:"button",style:at(fe.style||{}),class:re(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":fe.testId??void 0,"data-dp-mobile":v(R),onClick:St(tt=>N(fe.value,fe.noTz),["prevent"]),onKeydown:tt=>v(ft)(tt,()=>N(fe.value,fe.noTz),!0)},Te(fe.label),47,ud))],64))),128))],10,id)):W("",!0),o("div",{ref_key:"calendarWrapperRef",ref:B,class:"dp__instance_calendar",role:"document"},[(g(),Ae(pn(oe.value),ot({ref_key:"dynCmpRef",ref:J},s.value,{"flow-step":v(be),onMount:v(A),onUpdateFlowStep:v(k),onResetFlow:v(x),onFocusMenu:te,onSelectDate:ce[0]||(ce[0]=fe=>E.$emit("select-date")),onDateUpdate:ce[1]||(ce[1]=fe=>E.$emit("date-update",fe)),onTooltipOpen:ce[2]||(ce[2]=fe=>E.$emit("tooltip-open",fe)),onTooltipClose:ce[3]||(ce[3]=fe=>E.$emit("tooltip-close",fe)),onAutoApply:ce[4]||(ce[4]=fe=>E.$emit("auto-apply",fe)),onRangeStart:ce[5]||(ce[5]=fe=>E.$emit("range-start",fe)),onRangeEnd:ce[6]||(ce[6]=fe=>E.$emit("range-end",fe)),onInvalidFixedRange:ce[7]||(ce[7]=fe=>E.$emit("invalid-fixed-range",fe)),onTimeUpdate:ce[8]||(ce[8]=fe=>E.$emit("time-update")),onAmPmChange:ce[9]||(ce[9]=fe=>E.$emit("am-pm-change",fe)),onTimePickerOpen:ce[10]||(ce[10]=fe=>E.$emit("time-picker-open",fe)),onTimePickerClose:Pe,onRecalculatePosition:de,onUpdateMonthYear:ce[11]||(ce[11]=fe=>E.$emit("update-month-year",fe)),onAutoApplyInvalid:ce[12]||(ce[12]=fe=>E.$emit("auto-apply-invalid",fe)),onInvalidDate:ce[13]||(ce[13]=fe=>E.$emit("invalid-date",fe)),onOverlayToggle:ce[14]||(ce[14]=fe=>E.$emit("overlay-toggle",fe)),"onUpdate:internalModelValue":ce[15]||(ce[15]=fe=>E.$emit("update:internal-model-value",fe))}),mt({_:2},[Ne(j.value,(fe,ht)=>({name:fe,fn:De(tt=>[me(E.$slots,fe,st(yt({...tt})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),E.$slots["right-sidebar"]?(g(),_("div",dd,[me(E.$slots,"right-sidebar",st(yt(S.value)))])):W("",!0),E.$slots["action-extra"]?(g(),_("div",cd,[E.$slots["action-extra"]?me(E.$slots,"action-extra",{key:0,selectCurrentDate:ve}):W("",!0)])):W("",!0)],14,sd),!E.autoApply||v(P).keepActionRow?(g(),Ae(cu,ot({key:3,"menu-mount":U.value},s.value,{"calendar-width":L.value,onClosePicker:ce[16]||(ce[16]=fe=>E.$emit("close-picker")),onSelectDate:ce[17]||(ce[17]=fe=>E.$emit("select-date")),onInvalidSelect:ce[18]||(ce[18]=fe=>E.$emit("invalid-select")),onSelectNow:ve}),mt({_:2},[Ne(v(b),(fe,ht)=>({name:fe,fn:De(tt=>[me(E.$slots,fe,st(yt({...tt})))])}))]),1040,["menu-mount","calendar-width"])):W("",!0)],46,nd))}});var Ma=(e=>(e.center="center",e.left="left",e.right="right",e))(Ma||{});const vd=({menuRef:e,menuRefInner:t,inputRef:n,pickerWrapperRef:a,inline:l,emit:r,props:s,slots:p})=>{const{defaultedConfig:u}=ze(s),T=F({}),m=F(!1),f=F({top:"0",left:"0"}),w=F(!1),P=Wa(s,"teleportCenter");Ze(P,()=>{f.value=JSON.parse(JSON.stringify({})),J()});const M=x=>{if(s.teleport){const Q=x.getBoundingClientRect();return{left:Q.left+window.scrollX,top:Q.top+window.scrollY}}return{top:0,left:0}},O=(x,Q)=>{f.value.left=`${x+Q-T.value.width}px`},R=x=>{f.value.left=`${x}px`},B=(x,Q)=>{s.position===Ma.left&&R(x),s.position===Ma.right&&O(x,Q),s.position===Ma.center&&(f.value.left=`${x+Q/2-T.value.width/2}px`)},L=x=>{const{width:Q,height:oe}=x.getBoundingClientRect(),{top:q,left:te}=M(x);return{top:+q,left:+te,width:Q,height:oe}},$=()=>{f.value.left="50%",f.value.top="50%",f.value.transform="translate(-50%, -50%)",f.value.position="fixed",delete f.value.opacity},U=()=>{const x=et(n);f.value=s.altPosition(x)},J=(x=!0)=>{if(!l.value.enabled){if(P.value)return $();if(s.altPosition!==null)return U();if(x){const Q=s.teleport?t.value?.$el:e.value;Q&&(T.value=Q.getBoundingClientRect()),r("recalculate-position")}return pe()}},Y=({inputEl:x,left:Q,width:oe})=>{window.screen.width>768&&!m.value&&B(Q,oe),X(x)},z=x=>{const{top:Q,left:oe,height:q,width:te}=L(x);f.value.top=`${q+Q+ +s.offset}px`,w.value=!1,m.value||(f.value.left=`${oe+te/2-T.value.width/2}px`),Y({inputEl:x,left:oe,width:te})},le=x=>{const{top:Q,left:oe,width:q}=L(x);f.value.top=`${Q-+s.offset-T.value.height}px`,w.value=!0,Y({inputEl:x,left:oe,width:q})},X=x=>{if(s.autoPosition){const{left:Q,width:oe}=L(x),{left:q,right:te}=T.value;if(!m.value){if(Math.abs(q)!==Math.abs(te)){if(q<=0)return m.value=!0,R(Q);if(te>=document.documentElement.clientWidth)return m.value=!0,O(Q,oe)}return B(Q,oe)}}},H=()=>{const x=et(n);if(x){if(s.autoPosition===Ot.top)return Ot.top;if(s.autoPosition===Ot.bottom)return Ot.bottom;const{height:Q}=T.value,{top:oe,height:q}=x.getBoundingClientRect(),te=window.innerHeight-oe-q,S=oe;return Q<=te?Ot.bottom:Q>te&&Q<=S?Ot.top:te>=S?Ot.bottom:Ot.top}return Ot.bottom},se=x=>H()===Ot.bottom?z(x):le(x),pe=()=>{const x=et(n);if(x)return s.autoPosition?se(x):z(x)},be=function(x){if(x){const Q=x.scrollHeight>x.clientHeight,oe=window.getComputedStyle(x).overflowY.indexOf("hidden")!==-1;return Q&&!oe}return!0},k=function(x){return!x||x===document.body||x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:be(x)?x:k(x.assignedSlot&&u.value.shadowDom?x.assignedSlot.parentNode:x.parentNode)},A=x=>{if(x)switch(s.position){case Ma.left:return{left:0,transform:"translateX(0)"};case Ma.right:return{left:`${x.width}px`,transform:"translateX(-100%)"};default:return{left:`${x.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:w,menuStyle:f,xCorrect:m,setMenuPosition:J,getScrollableParent:k,shadowRender:(x,Q,oe)=>{const q=document.createElement("div"),te=et(n)?.getBoundingClientRect();q.setAttribute("id","dp--temp-container");const S=a.value?.clientWidth?a.value:document.body;S.append(q);const de=A(te),b=u.value.shadowDom?Object.keys(p).filter(C=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(C)):Object.keys(p),j=os(Q,{...oe,shadow:!0,style:{opacity:0,position:"absolute",...de}},Object.fromEntries(b.map(C=>[C,p[C]])));x!=null&&(j.appContext=x.appContext),_l(j,q),T.value=j.el?.getBoundingClientRect(),_l(null,q),S.removeChild(q)}}},Zt=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],md=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],pd={all:()=>Zt,monthYear:()=>Zt.filter(e=>e.use.includes("month-year")),input:()=>md,timePicker:()=>Zt.filter(e=>e.use.includes("time")),action:()=>Zt.filter(e=>e.use.includes("action")),calendar:()=>Zt.filter(e=>e.use.includes("calendar")),menu:()=>Zt.filter(e=>e.use.includes("menu")),shared:()=>Zt.filter(e=>e.use.includes("shared")),yearMode:()=>Zt.filter(e=>e.use.includes("year-mode"))},wt=(e,t,n)=>{const a=[];return pd[t]().forEach(l=>{e[l.name]&&a.push(l.name)}),n?.length&&n.forEach(l=>{l.slot&&a.push(l.slot)}),a},Ja=e=>{const t=I(()=>a=>e.value?a?e.value.open:e.value.close:""),n=I(()=>a=>e.value?a?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:n}},Za=(e,t,n)=>{const{defaultedRange:a,defaultedTz:l}=ze(e),r=G(gt(G(),l.value.timezone)),s=F([{month:Se(r),year:_e(r)}]),p=w=>{const P={hours:Qt(r),minutes:ra(r),seconds:0};return a.value.enabled?[P[w],P[w]]:P[w]},u=Qa({hours:p("hours"),minutes:p("minutes"),seconds:p("seconds")});Ze(a,(w,P)=>{w.enabled!==P.enabled&&(u.hours=p("hours"),u.minutes=p("minutes"),u.seconds=p("seconds"))},{deep:!0});const T=I({get:()=>e.internalModelValue,set:w=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",w)}}),m=I(()=>w=>s.value[w]?s.value[w].month:0),f=I(()=>w=>s.value[w]?s.value[w].year:0);return Ze(T,(w,P)=>{n&&JSON.stringify(w??{})!==JSON.stringify(P??{})&&n()},{deep:!0}),{calendars:s,time:u,modelValue:T,month:m,year:f,today:r}},fd=(e,t)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:a,defaultedUI:l,defaultedHighlight:r,defaultedTz:s,propDates:p,defaultedRange:u}=ze(t),{isDisabled:T}=oa(t),m=F(null),f=F(gt(new Date,s.value.timezone)),w=h=>{!h.current&&t.hideOffsetDates||(m.value=h.value)},P=()=>{m.value=null},M=h=>Array.isArray(e.value)&&u.value.enabled&&e.value[0]&&m.value?h?Ke(m.value,e.value[0]):We(m.value,e.value[0]):!0,O=(h,c)=>{const K=()=>e.value?c?e.value[0]||null:e.value[1]:null,Oe=e.value&&Array.isArray(e.value)?K():null;return Re(G(h.value),Oe)},R=h=>{const c=Array.isArray(e.value)?e.value[0]:null;return h?!We(m.value??null,c):!0},B=(h,c=!0)=>(u.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!h.current?!1:Re(G(h.value),e.value[c?0:1]):u.value.enabled?O(h,c)&&R(c)||Re(h.value,Array.isArray(e.value)?e.value[0]:null)&&M(c):!1,L=(h,c)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const K=Re(h.value,m.value);return c?Ke(e.value[0],h.value)&&K:We(e.value[0],h.value)&&K}return!1},$=h=>!e.value||t.hideOffsetDates&&!h.current?!1:u.value.enabled?t.modelAuto&&Array.isArray(e.value)?Re(h.value,e.value[0]?e.value[0]:f.value):!1:a.value.enabled&&Array.isArray(e.value)?e.value.some(c=>Re(c,h.value)):Re(h.value,e.value?e.value:f.value),U=h=>{if(u.value.autoRange||t.weekPicker){if(m.value){if(t.hideOffsetDates&&!h.current)return!1;const c=Tt(m.value,+u.value.autoRange),K=qt(G(m.value),t.weekStart);return t.weekPicker?Re(K[1],G(h.value)):Re(c,G(h.value))}return!1}return!1},J=h=>{if(u.value.autoRange||t.weekPicker){if(m.value){const c=Tt(m.value,+u.value.autoRange);if(t.hideOffsetDates&&!h.current)return!1;const K=qt(G(m.value),t.weekStart);return t.weekPicker?Ke(h.value,K[0])&&We(h.value,K[1]):Ke(h.value,m.value)&&We(h.value,c)}return!1}return!1},Y=h=>{if(u.value.autoRange||t.weekPicker){if(m.value){if(t.hideOffsetDates&&!h.current)return!1;const c=qt(G(m.value),t.weekStart);return t.weekPicker?Re(c[0],h.value):Re(m.value,h.value)}return!1}return!1},z=h=>Xa(e.value,m.value,h.value),le=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,X=()=>t.modelAuto?yr(t.internalModelValue):!0,H=h=>{if(t.weekPicker)return!1;const c=u.value.enabled?!B(h)&&!B(h,!1):!0;return!T(h.value)&&!$(h)&&!(!h.current&&t.hideOffsetDates)&&c},se=h=>u.value.enabled?t.modelAuto?le()&&$(h):!1:$(h),pe=h=>r.value?Yi(h.value,p.value.highlight):!1,be=h=>{const c=T(h.value);return c&&(typeof r.value=="function"?!r.value(h.value,c):!r.value.options.highlightDisabled)},k=h=>typeof r.value=="function"?r.value(h.value):r.value.weekdays?.includes(h.value.getDay()),A=h=>(u.value.enabled||t.weekPicker)&&(!(n.value.count>0)||h.current)&&X()&&!(!h.current&&t.hideOffsetDates)&&!$(h)?z(h):!1,x=h=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:c,after:K}=El(+u.value.maxRange,e.value[0]);return $a(h.value,c)||pa(h.value,K)}return!1},Q=h=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:c,after:K}=El(+u.value.minRange,e.value[0]);return Xa([c,K],e.value[0],h.value)}return!1},oe=h=>u.value.enabled&&(u.value.maxRange||u.value.minRange)?u.value.maxRange&&u.value.minRange?x(h)||Q(h):u.value.maxRange?x(h):Q(h):!1,q=h=>{const{isRangeStart:c,isRangeEnd:K}=b(h),Oe=u.value.enabled?c||K:!1;return{dp__cell_offset:!h.current,dp__pointer:!t.disabled&&!(!h.current&&t.hideOffsetDates)&&!T(h.value)&&!oe(h),dp__cell_disabled:T(h.value)||oe(h),dp__cell_highlight:!be(h)&&(pe(h)||k(h))&&!se(h)&&!Oe&&!Y(h)&&!(A(h)&&t.weekPicker)&&!K,dp__cell_highlight_active:!be(h)&&(pe(h)||k(h))&&se(h),dp__today:!t.noToday&&Re(h.value,f.value)&&h.current,"dp--past":We(h.value,f.value),"dp--future":Ke(h.value,f.value)}},te=h=>({dp__active_date:se(h),dp__date_hover:H(h)}),S=h=>{if(e.value&&!Array.isArray(e.value)){const c=qt(e.value,t.weekStart);return{...C(h),dp__range_start:Re(c[0],h.value),dp__range_end:Re(c[1],h.value),dp__range_between_week:Ke(h.value,c[0])&&We(h.value,c[1])}}return{...C(h)}},de=h=>{if(e.value&&Array.isArray(e.value)){const c=qt(e.value[0],t.weekStart),K=e.value[1]?qt(e.value[1],t.weekStart):[];return{...C(h),dp__range_start:Re(c[0],h.value)||Re(K[0],h.value),dp__range_end:Re(c[1],h.value)||Re(K[1],h.value),dp__range_between_week:Ke(h.value,c[0])&&We(h.value,c[1])||Ke(h.value,K[0])&&We(h.value,K[1]),dp__range_between:Ke(h.value,c[1])&&We(h.value,K[0])}}return{...C(h)}},b=h=>{const c=n.value.count>0?h.current&&B(h)&&X():B(h)&&X(),K=n.value.count>0?h.current&&B(h,!1)&&X():B(h,!1)&&X();return{isRangeStart:c,isRangeEnd:K}},j=h=>{const{isRangeStart:c,isRangeEnd:K}=b(h);return{dp__range_start:c,dp__range_end:K,dp__range_between:A(h),dp__date_hover:Re(h.value,m.value)&&!c&&!K&&!t.weekPicker,dp__date_hover_start:L(h,!0),dp__date_hover_end:L(h,!1)}},C=h=>({...j(h),dp__cell_auto_range:J(h),dp__cell_auto_range_start:Y(h),dp__cell_auto_range_end:U(h)}),ie=h=>u.value.enabled?u.value.autoRange?C(h):t.modelAuto?{...te(h),...j(h)}:t.weekPicker?de(h):j(h):t.weekPicker?S(h):te(h);return{setHoverDate:w,clearHoverDate:P,getDayClassData:h=>t.hideOffsetDates&&!h.current?{}:{...q(h),...ie(h),[t.dayClass?t.dayClass(h.value,t.internalModelValue):""]:!0,...l.value.calendarCell??{}}}},oa=e=>{const{defaultedFilters:t,defaultedRange:n,propDates:a,defaultedMultiDates:l}=ze(e),r=k=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(G(k)):!!vn(k,a.value.disabledDates):!1,s=k=>a.value.maxDate?e.yearPicker?_e(k)>_e(a.value.maxDate):Ke(k,a.value.maxDate):!1,p=k=>a.value.minDate?e.yearPicker?_e(k)<_e(a.value.minDate):We(k,a.value.minDate):!1,u=k=>{const A=s(k),x=p(k),Q=r(k),oe=t.value.months.map(b=>+b).includes(Se(k)),q=e.disabledWeekDays.length?e.disabledWeekDays.some(b=>+b===xo(k)):!1,te=P(k),S=_e(k),de=Cr(e.yearRange,S);return!(A||x||Q||oe||de||q||te)},T=(k,A)=>We(...ta(a.value.minDate,k,A))||Re(...ta(a.value.minDate,k,A)),m=(k,A)=>Ke(...ta(a.value.maxDate,k,A))||Re(...ta(a.value.maxDate,k,A)),f=(k,A,x)=>{let Q=!1;return a.value.maxDate&&x&&m(k,A)&&(Q=!0),a.value.minDate&&!x&&T(k,A)&&(Q=!0),Q},w=(k,A,x,Q)=>{let oe=!1;return Q&&(a.value.minDate||a.value.maxDate)?a.value.minDate&&a.value.maxDate?oe=f(k,A,x):(a.value.minDate&&T(k,A)||a.value.maxDate&&m(k,A))&&(oe=!0):oe=!0,oe},P=k=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!vn(k,a.value.allowedDates,br(e.monthPicker,e.yearPicker)):!1,M=k=>!u(k),O=k=>n.value.noDisabledRange?!Zl({start:k[0],end:k[1]}).some(A=>M(A)):!0,R=k=>{if(k){const A=_e(k);return A>=+e.yearRange[0]&&A<=e.yearRange[1]}return!0},B=(k,A)=>!!(Array.isArray(k)&&k[A]&&(n.value.maxRange||n.value.minRange)&&R(k[A])),L=(k,A,x=0)=>{if(B(A,x)&&R(k)){const Q=Kl(k,A[x]),oe=_r(A[x],k),q=oe.length===1?0:oe.filter(S=>M(S)).length,te=Math.abs(Q)-(n.value.minMaxRawRange?0:q);if(n.value.minRange&&n.value.maxRange)return te>=+n.value.minRange&&te<=+n.value.maxRange;if(n.value.minRange)return te>=+n.value.minRange;if(n.value.maxRange)return te<=+n.value.maxRange}return!0},$=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,U=k=>Array.isArray(k)?[k[0]?In(k[0]):null,k[1]?In(k[1]):null]:In(k),J=(k,A,x)=>k.find(Q=>+Q.hours===Qt(A)&&Q.minutes==="*"?!0:+Q.minutes===ra(A)&&+Q.hours===Qt(A))&&x,Y=(k,A,x)=>{const[Q,oe]=k,[q,te]=A;return!J(Q,q,x)&&!J(oe,te,x)&&x},z=(k,A)=>{const x=Array.isArray(A)?A:[A];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?Y(e.disabledTimes,x,k):!x.some(Q=>J(e.disabledTimes,Q,k)):k},le=(k,A)=>{const x=Array.isArray(A)?[ma(A[0]),A[1]?ma(A[1]):void 0]:ma(A),Q=!e.disabledTimes(x);return k&&Q},X=(k,A)=>e.disabledTimes?Array.isArray(e.disabledTimes)?z(A,k):le(A,k):A,H=k=>{let A=!0;if(!k||$())return!0;const x=!a.value.minDate&&!a.value.maxDate?U(k):k;return(e.maxTime||a.value.maxDate)&&(A=Nl(e.maxTime,a.value.maxDate,"max",rt(x),A)),(e.minTime||a.value.minDate)&&(A=Nl(e.minTime,a.value.minDate,"min",rt(x),A)),X(k,A)},se=k=>{if(!e.monthPicker)return!0;let A=!0;const x=G(Yt(k));if(a.value.minDate&&a.value.maxDate){const Q=G(Yt(a.value.minDate)),oe=G(Yt(a.value.maxDate));return Ke(x,Q)&&We(x,oe)||Re(x,Q)||Re(x,oe)}if(a.value.minDate){const Q=G(Yt(a.value.minDate));A=Ke(x,Q)||Re(x,Q)}if(a.value.maxDate){const Q=G(Yt(a.value.maxDate));A=We(x,Q)||Re(x,Q)}return A},pe=I(()=>k=>!e.enableTimePicker||e.ignoreTimeValidation?!0:H(k)),be=I(()=>k=>e.monthPicker?Array.isArray(k)&&(n.value.enabled||l.value.enabled)?!k.filter(A=>!se(A)).length:se(k):!0);return{isDisabled:M,validateDate:u,validateMonthYearInRange:w,isDateRangeAllowed:O,checkMinMaxRange:L,isValidTime:H,isTimeValid:pe,isMonthValid:be}},gn=()=>{const e=I(()=>(a,l)=>a?.includes(l)),t=I(()=>(a,l)=>a.count?a.solo?!0:l===0:!0),n=I(()=>(a,l)=>a.count?a.solo?!0:l===a.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:n}},hd=(e,t,n)=>{const a=F(0),l=Qa({[va.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[va.calendar]:!1,[va.header]:!1}),r=I(()=>e.monthPicker||e.timePicker),s=f=>{if(e.flow?.length){if(!f&&r.value)return m();l[f]=!0,Object.keys(l).filter(w=>!l[w]).length||m()}},p=()=>{e.flow?.length&&a.value!==-1&&(a.value+=1,t("flow-step",a.value),m()),e.flow?.length===a.value&&xt().then(()=>u())},u=()=>{a.value=-1},T=(f,w,...P)=>{e.flow[a.value]===f&&n.value&&n.value[w]?.(...P)},m=(f=0)=>{f&&(a.value+=f),T(vt.month,"toggleMonthPicker",!0),T(vt.year,"toggleYearPicker",!0),T(vt.calendar,"toggleTimePicker",!1,!0),T(vt.time,"toggleTimePicker",!0,!0);const w=e.flow[a.value];(w===vt.hours||w===vt.minutes||w===vt.seconds)&&T(w,"toggleTimePicker",!0,!0,w)};return{childMount:s,updateFlowStep:p,resetFlow:u,handleFlow:m,flowStep:a}},yd={key:1,class:"dp__input_wrap"},gd=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],bd={key:2,class:"dp--clear-btn"},wd=["aria-label"],xd=Xe({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...fn},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:n}){const a=n,l=e,{defaultedTextInput:r,defaultedAriaLabels:s,defaultedInline:p,defaultedConfig:u,defaultedRange:T,defaultedMultiDates:m,defaultedUI:f,getDefaultPattern:w,getDefaultStartTime:P}=ze(l),{checkMinMaxRange:M}=oa(l),O=F(),R=F(null),B=F(!1),L=F(!1),$=I(()=>({dp__pointer:!l.disabled&&!l.readonly&&!r.value.enabled,dp__disabled:l.disabled,dp__input_readonly:!r.value.enabled,dp__input:!0,dp__input_not_clearable:!l.clearable,dp__input_icon_pad:!l.hideInputIcon,dp__input_valid:typeof l.state=="boolean"?l.state:!1,dp__input_invalid:typeof l.state=="boolean"?!l.state:!1,dp__input_focus:B.value||l.isMenuOpen,dp__input_reg:!r.value.enabled,...f.value.input??{}})),U=()=>{a("set-input-date",null),l.clearable&&l.autoApply&&(a("set-empty-date"),O.value=null)},J=S=>{const de=P();return Ii(S,r.value.format??w(),de??Mr({},l.enableSeconds),l.inputValue,L.value,l.formatLocale)},Y=S=>{const{rangeSeparator:de}=r.value,[b,j]=S.split(`${de}`);if(b){const C=J(b.trim()),ie=j?J(j.trim()):void 0;if(pa(C,ie))return;const h=C&&ie?[C,ie]:[C];M(ie,h,0)&&(O.value=C?h:null)}},z=()=>{L.value=!0},le=S=>{if(T.value.enabled)Y(S);else if(m.value.enabled){const de=S.split(";");O.value=de.map(b=>J(b.trim())).filter(b=>b)}else O.value=J(S)},X=S=>{const de=typeof S=="string"?S:S.target?.value;de!==""?(r.value.openMenu&&!l.isMenuOpen&&a("open"),le(de),a("set-input-date",O.value)):U(),L.value=!1,a("update:input-value",de),a("text-input",S,O.value)},H=S=>{r.value.enabled?(le(S.target.value),r.value.enterSubmit&&Qn(O.value)&&l.inputValue!==""?(a("set-input-date",O.value,!0),O.value=null):r.value.enterSubmit&&l.inputValue===""&&(O.value=null,a("clear"))):be(S)},se=(S,de)=>{r.value.enabled&&r.value.tabSubmit&&!de&&le(S.target.value),r.value.tabSubmit&&Qn(O.value)&&l.inputValue!==""?(a("set-input-date",O.value,!0,!0),O.value=null):r.value.tabSubmit&&l.inputValue===""&&(O.value=null,a("clear",!0))},pe=()=>{B.value=!0,a("focus"),xt().then(()=>{r.value.enabled&&r.value.selectOnFocus&&R.value?.select()})},be=S=>{if(aa(S,u.value,!0),r.value.enabled&&r.value.openMenu&&!p.value.input){if(r.value.openMenu==="open"&&!l.isMenuOpen)return a("open");if(r.value.openMenu==="toggle")return a("toggle")}else r.value.enabled||a("toggle")},k=()=>{a("real-blur"),B.value=!1,(!l.isMenuOpen||p.value.enabled&&p.value.input)&&a("blur"),l.autoApply&&r.value.enabled&&O.value&&!l.isMenuOpen&&(a("set-input-date",O.value),a("select-date"),O.value=null)},A=S=>{aa(S,u.value,!0),a("clear")},x=()=>{a("close")},Q=S=>{if(S.key==="Tab"&&se(S),S.key==="Enter"&&H(S),S.key==="Escape"&&r.value.escClose&&x(),!r.value.enabled){if(S.code==="Tab")return;S.preventDefault()}},oe=()=>{R.value?.focus({preventScroll:!0})},q=S=>{O.value=S},te=S=>{S.key===He.tab&&se(S,!0)};return t({focusInput:oe,setParsedDate:q}),(S,de)=>(g(),_("div",{onClick:be},[S.$slots.trigger&&!S.$slots["dp-input"]&&!v(p).enabled?me(S.$slots,"trigger",{key:0}):W("",!0),!S.$slots.trigger&&(!v(p).enabled||v(p).input)?(g(),_("div",yd,[S.$slots["dp-input"]&&!S.$slots.trigger&&(!v(p).enabled||v(p).enabled&&v(p).input)?me(S.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:X,onEnter:H,onTab:se,onClear:A,onBlur:k,onKeypress:Q,onPaste:z,onFocus:pe,openMenu:()=>S.$emit("open"),closeMenu:()=>S.$emit("close"),toggleMenu:()=>S.$emit("toggle")}):W("",!0),S.$slots["dp-input"]?W("",!0):(g(),_("input",{key:1,id:S.uid?`dp-input-${S.uid}`:void 0,ref_key:"inputRef",ref:R,"data-test-id":"dp-input",name:S.name,class:re($.value),inputmode:v(r).enabled?"text":"none",placeholder:S.placeholder,disabled:S.disabled,readonly:S.readonly,required:S.required,value:e.inputValue,autocomplete:S.autocomplete,"aria-label":v(s)?.input,"aria-disabled":S.disabled||void 0,"aria-invalid":S.state===!1?!0:void 0,onInput:X,onBlur:k,onFocus:pe,onKeypress:Q,onKeydown:de[0]||(de[0]=b=>Q(b)),onPaste:z},null,42,gd)),o("div",{onClick:de[3]||(de[3]=b=>a("toggle"))},[S.$slots["input-icon"]&&!S.hideInputIcon?(g(),_("span",{key:0,class:"dp__input_icon",onClick:de[1]||(de[1]=b=>a("toggle"))},[me(S.$slots,"input-icon")])):W("",!0),!S.$slots["input-icon"]&&!S.hideInputIcon&&!S.$slots["dp-input"]?(g(),Ae(v(Fa),{key:1,"aria-label":v(s)?.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:de[2]||(de[2]=b=>a("toggle"))},null,8,["aria-label"])):W("",!0)]),S.$slots["clear-icon"]&&(S.alwaysClearable||e.inputValue&&S.clearable&&!S.disabled&&!S.readonly)?(g(),_("span",bd,[me(S.$slots,"clear-icon",{clear:A})])):W("",!0),!S.$slots["clear-icon"]&&(S.alwaysClearable||S.clearable&&e.inputValue&&!S.disabled&&!S.readonly)?(g(),_("button",{key:3,"aria-label":v(s)?.clearInput,class:"dp--clear-btn",type:"button",onKeydown:de[4]||(de[4]=b=>v(ft)(b,()=>A(b),!0,te)),onClick:de[5]||(de[5]=St(b=>A(b),["prevent"]))},[Be(v(fr),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,wd)):W("",!0)])):W("",!0)]))}}),kd=typeof window<"u"?window:void 0,Hn=()=>{},_d=e=>ds()?(cs(e),!0):!1,Md=(e,t,n,a)=>{if(!e)return Hn;let l=Hn;const r=Ze(()=>v(e),p=>{l(),p&&(p.removeEventListener(t,n),p.addEventListener(t,n,a),l=()=>{p.removeEventListener(t,n,a),l=Hn})},{immediate:!0,flush:"post"}),s=()=>{r(),l()};return _d(s),s},Td=(e,t,n,a={})=>{const{window:l=kd,event:r="pointerdown"}=a;return l?Md(l,r,s=>{const p=et(e),u=et(t);!p||!u||p===s.target||s.composedPath().includes(p)||s.composedPath().includes(u)||n(s)},{passive:!0}):void 0},Dd=["data-dp-mobile"],Pd=Xe({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...fn},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:n}){const a=n,l=e,r=fa(),s=F(!1),p=Wa(l,"modelValue"),u=Wa(l,"timezone"),T=F(null),m=F(null),f=F(null),w=F(!1),P=F(null),M=F(!1),O=F(!1),R=F(!1),B=F(!1),{setMenuFocused:L,setShiftKey:$}=Ar(),{clearArrowNav:U}=sa(),{validateDate:J,isValidTime:Y}=oa(l),{defaultedTransitions:z,defaultedTextInput:le,defaultedInline:X,defaultedConfig:H,defaultedRange:se,defaultedMultiDates:pe}=ze(l),{menuTransition:be,showTransition:k}=Ja(z),{isMobile:A}=Ir(H),x=ss();ut(()=>{h(l.modelValue),xt().then(()=>{X.value.enabled||(b(P.value)?.addEventListener("scroll",N),window?.addEventListener("resize",Ce))}),X.value.enabled&&(s.value=!0),window?.addEventListener("keyup",ye),window?.addEventListener("keydown",lt)}),Ya(()=>{X.value.enabled||(b(P.value)?.removeEventListener("scroll",N),window?.removeEventListener("resize",Ce)),window?.removeEventListener("keyup",ye),window?.removeEventListener("keydown",lt)});const Q=wt(r,"all",l.presetDates),oe=wt(r,"input");Ze([p,u],()=>{h(p.value)},{deep:!0});const{openOnTop:q,menuStyle:te,xCorrect:S,setMenuPosition:de,getScrollableParent:b,shadowRender:j}=vd({menuRef:T,menuRefInner:m,inputRef:f,pickerWrapperRef:P,inline:X,emit:a,props:l,slots:r}),{inputValue:C,internalModelValue:ie,parseExternalModelValue:h,emitModelValue:c,formatInputValue:K,checkBeforeEmit:Oe}=ou(a,l,{isInputFocused:w,isTextInputDate:B}),Z=I(()=>({dp__main:!0,dp__theme_dark:l.dark,dp__theme_light:!l.dark,dp__flex_display:X.value.enabled,"dp--flex-display-collapsed":R.value,dp__flex_display_with_input:X.value.input})),Pe=I(()=>l.dark?"dp__theme_dark":"dp__theme_light"),ae=I(()=>l.teleport?{to:typeof l.teleport=="boolean"?"body":l.teleport,disabled:!l.teleport||X.value.enabled}:{}),ue=I(()=>({class:"dp__outer_menu_wrap"})),i=I(()=>X.value.enabled&&(l.timePicker||l.monthPicker||l.yearPicker||l.quarterPicker)),ve=()=>f.value?.$el?.getBoundingClientRect()??{width:0,left:0,right:0},N=()=>{s.value&&(H.value.closeOnScroll?it():de())},Ce=()=>{s.value&&de();const ee=m.value?.$el.getBoundingClientRect().width??0;R.value=document.body.offsetWidth<=ee},ye=ee=>{ee.key==="Tab"&&!X.value.enabled&&!l.teleport&&H.value.tabOutClosesMenu&&(P.value.contains(document.activeElement)||it()),O.value=ee.shiftKey},lt=ee=>{O.value=ee.shiftKey},je=()=>{!l.disabled&&!l.readonly&&(j(x,zl,l),de(!1),s.value=!0,s.value&&a("open"),s.value||kt(),h(l.modelValue))},bt=()=>{C.value="",kt(),m.value?.onValueCleared(),f.value?.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),H.value.closeOnClearValue&&it()},E=()=>{const ee=ie.value;return!ee||!Array.isArray(ee)&&J(ee)?!0:Array.isArray(ee)?pe.value.enabled||ee.length===2&&J(ee[0])&&J(ee[1])?!0:se.value.partialRange&&!l.timePicker?J(ee[0]):!1:!1},ce=()=>{Oe()&&E()?(c(),it()):a("invalid-select",ie.value)},fe=ee=>{ht(),c(),H.value.closeOnAutoApply&&!ee&&it()},ht=()=>{f.value&&le.value.enabled&&f.value.setParsedDate(ie.value)},tt=(ee=!1)=>{l.autoApply&&Y(ie.value)&&E()&&(se.value.enabled&&Array.isArray(ie.value)?(se.value.partialRange||ie.value.length===2)&&fe(ee):fe(ee))},kt=()=>{le.value.enabled||(ie.value=null)},it=(ee=!1)=>{ee&&ie.value&&H.value.setDateOnMenuClose&&ce(),X.value.enabled||(s.value&&(s.value=!1,S.value=!1,L(!1),$(!1),U(),a("closed"),C.value&&h(p.value)),kt(),a("blur"),m.value?.$el?.remove())},Ia=(ee,he,ge=!1)=>{if(!ee){ie.value=null;return}const Dt=Array.isArray(ee)?!ee.some(jt=>!J(jt)):J(ee),_t=Y(ee);Dt&&_t?(B.value=!0,ie.value=ee,he?(M.value=ge,ce(),a("text-submit")):l.autoApply&&tt(!0),xt().then(()=>{B.value=!1})):a("invalid-date",ee)},ia=()=>{l.autoApply&&Y(ie.value)&&c(),ht()},ua=()=>s.value?it():je(),zt=ee=>{ie.value=ee},ya=()=>{le.value.enabled&&(w.value=!0,K()),a("focus")},Ba=()=>{le.value.enabled&&(w.value=!1,h(l.modelValue),M.value&&Ri(P.value,O.value)?.focus()),a("blur")},Na=ee=>{m.value&&m.value.updateMonthYear(0,{month:Fl(ee.month),year:Fl(ee.year)})},Kt=ee=>{h(ee??l.modelValue)},D=(ee,he)=>{m.value?.switchView(ee,he)},ne=(ee,he)=>H.value.onClickOutside?H.value.onClickOutside(ee,he):it(!0),we=(ee=0)=>{m.value?.handleFlow(ee)},$e=()=>T;return Td(T,f,ee=>ne(E,ee)),t({closeMenu:it,selectDate:ce,clearValue:bt,openMenu:je,onScroll:N,formatInputValue:K,updateInternalModelValue:zt,setMonthYear:Na,parseModel:Kt,switchView:D,toggleMenu:ua,handleFlow:we,getDpWrapMenuRef:$e}),(ee,he)=>(g(),_("div",{ref_key:"pickerWrapperRef",ref:P,class:re(Z.value),"data-datepicker-instance":"","data-dp-mobile":v(A)},[Be(xd,ot({ref_key:"inputRef",ref:f,"input-value":v(C),"onUpdate:inputValue":he[0]||(he[0]=ge=>kl(C)?C.value=ge:null),"is-menu-open":s.value},ee.$props,{onClear:bt,onOpen:je,onSetInputDate:Ia,onSetEmptyDate:v(c),onSelectDate:ce,onToggle:ua,onClose:it,onFocus:ya,onBlur:Ba,onRealBlur:he[1]||(he[1]=ge=>w.value=!1),onTextInput:he[2]||(he[2]=ge=>ee.$emit("text-input",ge))}),mt({_:2},[Ne(v(oe),(ge,Dt)=>({name:ge,fn:De(_t=>[me(ee.$slots,ge,st(yt(_t)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(g(),Ae(pn(ee.teleport?jl:"div"),st(yt(ae.value)),{default:De(()=>[Be(la,{name:v(be)(v(q)),css:v(k)&&!v(X).enabled},{default:De(()=>[s.value?(g(),_("div",ot({key:0,ref_key:"dpWrapMenuRef",ref:T},ue.value,{class:{"dp--menu-wrapper":!v(X).enabled},style:v(X).enabled?void 0:v(te)}),[Be(zl,ot({ref_key:"dpMenuRef",ref:m},ee.$props,{"internal-model-value":v(ie),"onUpdate:internalModelValue":he[3]||(he[3]=ge=>kl(ie)?ie.value=ge:null),class:{[Pe.value]:!0,"dp--menu-wrapper":ee.teleport},"open-on-top":v(q),"no-overlay-focus":i.value,collapse:R.value,"get-input-rect":ve,"is-text-input-date":B.value,onClosePicker:it,onSelectDate:ce,onAutoApply:tt,onTimeUpdate:ia,onFlowStep:he[4]||(he[4]=ge=>ee.$emit("flow-step",ge)),onUpdateMonthYear:he[5]||(he[5]=ge=>ee.$emit("update-month-year",ge)),onInvalidSelect:he[6]||(he[6]=ge=>ee.$emit("invalid-select",v(ie))),onAutoApplyInvalid:he[7]||(he[7]=ge=>ee.$emit("invalid-select",ge)),onInvalidFixedRange:he[8]||(he[8]=ge=>ee.$emit("invalid-fixed-range",ge)),onRecalculatePosition:v(de),onTooltipOpen:he[9]||(he[9]=ge=>ee.$emit("tooltip-open",ge)),onTooltipClose:he[10]||(he[10]=ge=>ee.$emit("tooltip-close",ge)),onTimePickerOpen:he[11]||(he[11]=ge=>ee.$emit("time-picker-open",ge)),onTimePickerClose:he[12]||(he[12]=ge=>ee.$emit("time-picker-close",ge)),onAmPmChange:he[13]||(he[13]=ge=>ee.$emit("am-pm-change",ge)),onRangeStart:he[14]||(he[14]=ge=>ee.$emit("range-start",ge)),onRangeEnd:he[15]||(he[15]=ge=>ee.$emit("range-end",ge)),onDateUpdate:he[16]||(he[16]=ge=>ee.$emit("date-update",ge)),onInvalidDate:he[17]||(he[17]=ge=>ee.$emit("invalid-date",ge)),onOverlayToggle:he[18]||(he[18]=ge=>ee.$emit("overlay-toggle",ge)),onMenuBlur:he[19]||(he[19]=ge=>ee.$emit("blur"))}),mt({_:2},[Ne(v(Q),(ge,Dt)=>({name:ge,fn:De(_t=>[me(ee.$slots,ge,st(yt({..._t})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):W("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,Dd))}}),hl=(()=>{const e=Pd;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),Cd=Object.freeze(Object.defineProperty({__proto__:null,default:hl},Symbol.toStringTag,{value:"Module"}));Object.entries(Cd).forEach(([e,t])=>{e!=="default"&&(hl[e]=t)});const Ad={key:0,class:"fixed inset-0 z-[80]"},$d={key:0,class:"absolute inset-x-0 bottom-0 mx-auto w-full max-w-md rounded-t-[28px] bg-white px-5 pb-[calc(18px+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_60px_-40px_rgba(15,23,42,0.55)] md:max-w-xl",role:"dialog","aria-modal":"true"},Od={class:"relative mt-4 flex items-center justify-center"},Sd={class:"mt-5 grid grid-cols-2 gap-3"},Rd={class:"mt-6 rounded-2xl bg-white ring-1 ring-slate-200/60"},Yd={class:"flex items-center justify-between px-4 py-3 text-sm font-semibold text-slate-700"},Fd={class:"capitalize"},Id=Xe({__name:"DatePickerSheet",props:{open:{type:Boolean},modelValue:{}},emits:["close","update:modelValue","select-today"],setup(e,{emit:t}){const n=e,a=t,l=F(null),r=m=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(m),s=m=>{const f=String(m??"").trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!f)return null;const[,w,P,M]=f,O=new Date(Number(M),Number(P)-1,Number(w));return Number.isFinite(O.getTime())?O:null},p=I(()=>l.value?new Intl.DateTimeFormat("pt-BR",{month:"long",year:"numeric"}).format(l.value):"");Ze(()=>n.open,m=>{m&&(l.value=s(n.modelValue)??new Date)});const u=m=>{m&&(l.value=m,a("update:modelValue",r(m)))},T=()=>{const m=new Date;m.setDate(m.getDate()-1),l.value=m,a("update:modelValue",r(m))};return(m,f)=>(g(),Ae(jl,{to:"body"},[Be(la,{"enter-active-class":"transition duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:De(()=>[e.open?(g(),_("div",Ad,[o("button",{class:"absolute inset-0 bg-black/40 backdrop-blur-sm",type:"button",onClick:f[0]||(f[0]=w=>a("close")),"aria-label":"Fechar"}),Be(la,{"enter-active-class":"transition duration-250 ease-out","enter-from-class":"translate-y-8 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-8 opacity-0"},{default:De(()=>[e.open?(g(),_("div",$d,[f[5]||(f[5]=o("div",{class:"mx-auto h-1.5 w-12 rounded-full bg-slate-200"},null,-1)),o("div",Od,[f[4]||(f[4]=o("div",{class:"text-lg font-semibold text-slate-900"},"Quando foi?",-1)),o("button",{type:"button",class:"absolute right-0 flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-50 text-slate-500","aria-label":"Fechar",onClick:f[1]||(f[1]=w=>a("close"))},[...f[3]||(f[3]=[o("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M18 6L6 18"}),o("path",{d:"M6 6l12 12"})],-1)])])]),o("div",Sd,[o("button",{type:"button",class:re(["h-12 rounded-2xl text-sm font-semibold shadow-sm ring-1 ring-slate-200/60",n.modelValue?"bg-slate-50 text-slate-700":"bg-[#14B8A6] text-white ring-transparent"]),onClick:f[2]||(f[2]=w=>a("select-today"))}," Hoje ",2),o("button",{type:"button",class:"h-12 rounded-2xl bg-slate-50 text-sm font-semibold text-slate-700 shadow-sm ring-1 ring-slate-200/60",onClick:T}," Ontem ")]),o("div",Rd,[o("div",Yd,[o("div",Fd,Te(p.value),1)]),Be(v(hl),{"model-value":l.value,"onUpdate:modelValue":u,inline:!0,"enable-time-picker":!1,"auto-apply":!0,"week-start":0,locale:"pt-BR"},null,8,["model-value"])])])):W("",!0)]),_:1})])):W("",!0)]),_:1})]))}}),Bd=ql(Id,[["__scopeId","data-v-bf4d257b"]]),mn=Xe({__name:"CategoryIcon",props:{icon:{},class:{}},setup(e){const t=e,n=I(()=>(t.icon??"").toString().toLowerCase().trim());return(a,l)=>n.value==="food"?(g(),_("svg",{key:0,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[0]||(l[0]=[ea('<path d="M4 3v7"></path><path d="M8 3v7"></path><path d="M6 3v7"></path><path d="M14 3v7c0 2 1 3 3 3v8"></path><path d="M20 3v7"></path>',5)])],2)):n.value==="home"?(g(),_("svg",{key:1,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[1]||(l[1]=[o("path",{d:"M3 10.5L12 3l9 7.5"},null,-1),o("path",{d:"M5 10v10h14V10"},null,-1)])],2)):n.value==="car"?(g(),_("svg",{key:2,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[2]||(l[2]=[o("path",{d:"M5 16l1-5 1-3h10l1 3 1 5"},null,-1),o("path",{d:"M7 16h10"},null,-1),o("circle",{cx:"8",cy:"17",r:"1.5"},null,-1),o("circle",{cx:"16",cy:"17",r:"1.5"},null,-1)])],2)):n.value==="cart"?(g(),_("svg",{key:3,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[3]||(l[3]=[o("path",{d:"M6 6h15l-2 7H7L6 6Z"},null,-1),o("path",{d:"M6 6l-2-2H2"},null,-1),o("circle",{cx:"9",cy:"18",r:"1.5"},null,-1),o("circle",{cx:"17",cy:"18",r:"1.5"},null,-1)])],2)):n.value==="gym"?(g(),_("svg",{key:4,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[4]||(l[4]=[ea('<path d="M6 8v8"></path><path d="M18 8v8"></path><path d="M8 10h8"></path><path d="M8 14h8"></path><path d="M4 10v4"></path><path d="M20 10v4"></path>',6)])],2)):n.value==="game"?(g(),_("svg",{key:5,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[5]||(l[5]=[o("path",{d:"M6 7h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2Z"},null,-1),o("path",{d:"M8 13h2"},null,-1),o("path",{d:"M9 12v2"},null,-1),o("path",{d:"M15 13h2"},null,-1)])],2)):n.value==="pill"?(g(),_("svg",{key:6,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[6]||(l[6]=[o("path",{d:"M10 14 8 16a4 4 0 0 1-6-6l2-2a4 4 0 0 1 6 6Z"},null,-1),o("path",{d:"M14 10l2-2a4 4 0 0 1 6 6l-2 2a4 4 0 0 1-6-6Z"},null,-1),o("path",{d:"M8 16l8-8"},null,-1)])],2)):n.value==="briefcase"?(g(),_("svg",{key:7,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[7]||(l[7]=[o("rect",{x:"3",y:"7",width:"18",height:"13",rx:"3"},null,-1),o("path",{d:"M9 7V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"},null,-1),o("path",{d:"M3 12h18"},null,-1)])],2)):n.value==="heart"?(g(),_("svg",{key:8,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[8]||(l[8]=[o("path",{d:"M20 8c0 5-8 10-8 10S4 13 4 8a4 4 0 0 1 8 0 4 4 0 0 1 8 0Z"},null,-1)])],2)):n.value==="shirt"?(g(),_("svg",{key:9,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[9]||(l[9]=[o("path",{d:"M15 3H9l-2 4h10l-2-4Z"},null,-1),o("path",{d:"M7 7v14"},null,-1),o("path",{d:"M17 7v14"},null,-1)])],2)):n.value==="bolt"?(g(),_("svg",{key:10,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[10]||(l[10]=[o("path",{d:"M13 2 3 14h8l-1 8 10-12h-8l1-8Z"},null,-1)])],2)):n.value==="money"?(g(),_("svg",{key:11,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[11]||(l[11]=[o("rect",{x:"3",y:"6",width:"18",height:"12",rx:"2"},null,-1),o("path",{d:"M7 10h0"},null,-1),o("path",{d:"M17 14h0"},null,-1),o("path",{d:"M12 10a2 2 0 1 0 0 4a2 2 0 1 0 0-4"},null,-1)])],2)):n.value==="trend"?(g(),_("svg",{key:12,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[12]||(l[12]=[o("path",{d:"M3 17l6-6 4 4 8-8"},null,-1),o("path",{d:"M17 7h4v4"},null,-1)])],2)):n.value==="sparkles"?(g(),_("svg",{key:13,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[13]||(l[13]=[o("path",{d:"M12 2l1.6 5.2L19 9l-5.4 1.8L12 16l-1.6-5.2L5 9l5.4-1.8L12 2Z"},null,-1)])],2)):(g(),_("svg",{key:14,class:re(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[14]||(l[14]=[o("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4"},null,-1),o("path",{d:"M8 12h8"},null,-1)])],2))}}),Nd={key:0,class:"pb-4 pt-2 text-center"},Ed={key:1,class:"grid grid-cols-3 gap-4 pb-2"},Vd=["onClick"],Ld={class:"text-xs font-semibold text-slate-700"},Hd=Xe({__name:"CategoryPickerSheet",props:{open:{type:Boolean},options:{},kind:{}},emits:["close","select","create"],setup(e,{emit:t}){const n=e,a=t,l=s=>s==="amber"?"bg-amber-100 text-amber-600":s==="blue"?"bg-blue-100 text-blue-600":s==="purple"?"bg-purple-100 text-purple-600":s==="red"?"bg-red-100 text-red-600":s==="green"?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-600",r=I(()=>n.kind?(n.options??[]).filter(s=>!s.kind||s.kind===n.kind):n.options??[]);return(s,p)=>(g(),Ae(rs,{open:e.open,title:"Selecione a Categoria",onClose:p[1]||(p[1]=u=>a("close"))},{default:De(()=>[r.value.length===0?(g(),_("div",Nd,[p[2]||(p[2]=o("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-slate-100 text-slate-400"},[o("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M4 7h16v12H4z"}),o("path",{d:"M4 7V5h12v2"}),o("path",{d:"M8 12h8"})])],-1)),p[3]||(p[3]=o("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Nenhuma categoria encontrada",-1)),p[4]||(p[4]=o("div",{class:"mt-1 text-xs font-semibold text-slate-500"},"Crie uma categoria para continuar.",-1)),o("button",{type:"button",class:"mt-4 inline-flex items-center justify-center rounded-2xl bg-teal-500 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-teal-500/20",onClick:p[0]||(p[0]=u=>a("create"))}," Criar categoria ")])):(g(),_("div",Ed,[(g(!0),_(Me,null,Ne(r.value,u=>(g(),_("button",{key:u.key,type:"button",class:"flex flex-col items-center gap-2 rounded-2xl px-2 py-2",onClick:T=>a("select",u.key)},[o("span",{class:re(["flex h-14 w-14 items-center justify-center rounded-full text-lg font-semibold",u.customColor?"":l(u.tone)]),style:at(u.customColor?{backgroundColor:u.customColor,color:"white"}:{})},[Be(mn,{icon:u.icon,class:"h-7 w-7"},null,8,["icon"])],6),o("span",Ld,Te(u.label),1)],8,Vd))),128))]))]),_:1},8,["open"]))}}),zd={key:0,class:"fixed inset-0 z-[90] bg-white"},jd={class:"mx-auto w-full max-w-md px-5 pb-[calc(6rem+env(safe-area-inset-bottom))]"},qd={class:"flex justify-center pt-2"},Wd={class:"mt-6 space-y-5"},Ud={class:"grid grid-cols-2 gap-3"},Xd={class:"-mx-1 flex gap-4 overflow-x-auto pb-2 px-1"},Qd=["onClick","aria-label"],Kd={class:"fixed inset-x-0 bottom-0 bg-white px-5 pb-[calc(1rem+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_40px_-32px_rgba(15,23,42,0.45)]"},Gd={class:"mx-auto w-full max-w-md"},Jd=["disabled"],Zd=Xe({__name:"NewCategoryModal",props:{open:{type:Boolean},initialType:{}},emits:["close","save"],setup(e,{emit:t}){const n=e,a=t,l=F(""),r=F("expense"),s=F("cart"),p=I(()=>s.value),u=I(()=>r.value==="expense"?"#EF4444":"#10B981"),T=I(()=>l.value.trim().length>0),m=[{key:"cart",label:"Compras"},{key:"food",label:"Alimentação"},{key:"home",label:"Moradia"},{key:"car",label:"Transporte"},{key:"sparkles",label:"Lazer"},{key:"game",label:"Games"},{key:"pill",label:"Saúde"},{key:"briefcase",label:"Trabalho"},{key:"heart",label:"Bem-estar"},{key:"shirt",label:"Roupas"},{key:"bolt",label:"Energia"},{key:"money",label:"Dinheiro"},{key:"trend",label:"Investimentos"},{key:"gym",label:"Academia"}],f=()=>a("close"),w=()=>a("save",{name:l.value,type:r.value,icon:s.value});return Ze(()=>n.open,P=>{P&&(l.value="",r.value=n.initialType??"expense",s.value="cart")}),(P,M)=>e.open?(g(),_("div",zd,[o("header",{class:"flex items-center gap-3 px-5 pb-4 pt-[calc(1rem+env(safe-area-inset-top))]"},[o("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600","aria-label":"Voltar",onClick:f},[...M[3]||(M[3]=[o("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M15 18l-6-6 6-6"})],-1)])]),M[4]||(M[4]=o("div",{class:"text-xl font-semibold tracking-tight text-slate-900"},"Nova categoria",-1))]),o("main",jd,[o("div",qd,[o("div",{class:"flex h-16 w-16 items-center justify-center rounded-full text-white shadow-lg shadow-black/10",style:at({backgroundColor:u.value})},[Be(mn,{icon:p.value,class:"h-7 w-7 text-white"},null,8,["icon"])],4)]),o("div",Wd,[o("div",null,[M[5]||(M[5]=o("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Nome da categoria",-1)),Wt(o("input",{"onUpdate:modelValue":M[0]||(M[0]=O=>l.value=O),type:"text",placeholder:"Ex: Alimentação...",class:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4 text-sm font-semibold text-slate-700 placeholder:text-slate-400 focus:border-teal-400 focus:outline-none"},null,512),[[un,l.value]])]),o("div",null,[M[6]||(M[6]=o("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Tipo",-1)),o("div",Ud,[o("button",{type:"button",class:re(["rounded-2xl px-4 py-3 text-sm font-semibold",r.value==="expense"?"bg-red-50 text-red-500 ring-1 ring-red-100":"bg-white text-slate-500 ring-1 ring-slate-200"]),onClick:M[1]||(M[1]=O=>r.value="expense")}," Despesa ",2),o("button",{type:"button",class:re(["rounded-2xl px-4 py-3 text-sm font-semibold",r.value==="income"?"bg-emerald-50 text-emerald-600 ring-1 ring-emerald-100":"bg-white text-slate-500 ring-1 ring-slate-200"]),onClick:M[2]||(M[2]=O=>r.value="income")}," Receita ",2)])]),o("div",null,[M[7]||(M[7]=o("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Ícone",-1)),o("div",Xd,[(g(),_(Me,null,Ne(m,O=>o("button",{key:O.key,type:"button",class:re(["flex h-12 w-[38px] shrink-0 items-center justify-center rounded-2xl bg-slate-50 ring-1 ring-slate-200",s.value===O.key?"ring-2 ring-teal-400":""]),onClick:R=>s.value=O.key,"aria-label":O.label},[Be(mn,{icon:O.key,class:"h-6 w-6 text-slate-600"},null,8,["icon"])],10,Qd)),64))]),M[8]||(M[8]=o("div",{class:"mt-1 text-xs font-semibold text-slate-400"},"Arraste para o lado para ver mais ícones.",-1))])])]),o("footer",Kd,[o("div",Gd,[o("button",{type:"button",class:re(["w-full rounded-2xl py-4 text-base font-semibold text-white transition-all",T.value?"bg-teal-500 shadow-lg shadow-teal-500/25":"bg-slate-300 shadow-none cursor-not-allowed opacity-60"]),disabled:!T.value,onClick:w}," Salvar categoria ",10,Jd)])])])):W("",!0)}}),ec={key:0,class:"transaction-modal fixed inset-0 z-[60] bg-white md:flex md:items-center md:justify-center md:bg-black/40 md:backdrop-blur-sm",role:"dialog","aria-modal":"true"},tc={class:"flex h-full flex-col md:h-auto md:max-h-[92vh] md:w-full md:max-w-[680px] md:overflow-hidden md:rounded-[28px] md:bg-white md:shadow-2xl md:ring-1 md:ring-slate-200/60"},ac={class:"flex-1 overflow-y-auto"},nc={class:"px-5 pt-4 md:px-8"},lc={class:"rounded-2xl bg-slate-50 p-2 ring-1 ring-slate-200/70"},rc={class:"grid grid-cols-3 gap-2"},sc=["disabled"],oc=["disabled"],ic={class:"mt-6 px-5 md:px-8"},uc={class:"mt-2 flex items-center justify-center gap-3"},dc=["value"],cc={class:"mt-6 space-y-4 px-5 md:px-8"},vc={key:0,class:"rounded-2xl bg-slate-50 px-4 py-4 ring-1 ring-slate-200/70"},mc={class:"flex items-center gap-3"},pc={key:1,class:"grid grid-cols-2 gap-3"},fc={class:"flex items-center gap-3"},hc={class:"min-w-0 flex-1"},yc={class:"truncate text-sm font-semibold text-slate-900"},gc={class:"flex items-center gap-3"},bc={class:"min-w-0 flex-1"},wc={class:"truncate text-sm font-semibold text-slate-900"},xc={key:2,class:"grid grid-cols-2 gap-3"},kc={class:"flex items-center gap-3"},_c={class:"min-w-0 flex-1"},Mc={class:"truncate text-sm font-semibold text-slate-900"},Tc={class:"rounded-2xl bg-slate-50 px-4 py-4 ring-1 ring-slate-200/70"},Dc={class:"flex items-center justify-between gap-3"},Pc={class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},Cc={class:"text-sm font-semibold text-slate-900"},Ac=["aria-label"],$c={key:3,class:"space-y-4 pb-4"},Oc={key:0,class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},Sc={class:"flex items-center justify-between"},Rc=["disabled"],Yc={key:0,class:"mt-3 text-xs font-semibold text-slate-500"},Fc={key:1,class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},Ic={class:"flex items-center justify-between"},Bc=["disabled"],Nc={key:0,class:"mt-4 grid grid-cols-2 gap-3"},Ec={class:"mt-2 flex h-11 overflow-hidden rounded-xl bg-slate-50 ring-1 ring-slate-200/60"},Vc=["value"],Lc={class:"mt-2 flex h-11 items-center justify-center rounded-xl bg-slate-50 text-sm font-bold text-slate-400 ring-1 ring-slate-200/60"},Hc={key:1,class:"mt-4 rounded-xl bg-slate-50 p-3 text-slate-600 ring-1 ring-slate-200/60"},zc={class:"flex items-center gap-2 text-xs font-semibold"},jc={class:"mt-3 space-y-2 text-sm"},qc={class:"tabular-nums"},Wc={class:"tabular-nums"},Uc={key:0,class:"text-xs font-semibold text-slate-400"},Xc={class:"mt-2 border-t border-slate-200/70 pt-2"},Qc={class:"flex items-center justify-between gap-3 font-bold text-slate-700"},Kc={class:"tabular-nums"},Gc={class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},Jc={class:"flex items-center justify-between"},Zc=["disabled"],ev={key:0,class:"mt-4"},tv={class:"grid grid-cols-2 items-end gap-4"},av=["value"],nv=["value"],lv={class:"mt-3 text-xs font-semibold text-slate-500"},rv={key:2,class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},sv={class:"flex items-center justify-between"},ov=["disabled"],iv={class:"mt-4 flex flex-wrap gap-2"},uv=["onClick"],dv={key:0,class:"text-xs font-semibold text-slate-400"},cv={key:0,class:"mt-4 rounded-xl bg-slate-50 p-3 ring-1 ring-slate-200/60"},vv={class:"mt-2 flex items-center gap-2"},mv=["disabled","onKeydown"],pv=["disabled"],fv={key:3,class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},hv={class:"flex items-center justify-between"},yv=["onKeydown"],gv={key:1,class:"mt-4 overflow-hidden rounded-xl bg-slate-50 p-3 ring-1 ring-slate-200/60"},bv={class:"flex items-center justify-between gap-3"},wv={class:"flex min-w-0 items-center gap-3"},xv={key:0,class:"h-12 w-12 overflow-hidden rounded-xl bg-white ring-1 ring-slate-200/60"},kv=["src"],_v={key:1,class:"flex h-12 w-12 items-center justify-center rounded-xl bg-white text-slate-400 ring-1 ring-slate-200/60"},Mv={class:"min-w-0"},Tv={class:"truncate text-sm font-semibold text-slate-700"},Dv={class:"mt-0.5 text-xs font-semibold text-slate-400"},Pv={class:"flex items-center gap-2"},Cv=["href"],Av={key:0,class:"mt-6 space-y-4 px-5 pb-6 md:px-8"},$v={class:"space-y-3"},Ov={class:"flex items-start gap-3"},Sv={class:"min-w-0"},Rv={class:"truncate text-sm font-semibold text-slate-900"},Yv={class:"mt-1 text-xs font-semibold text-slate-400"},Fv={class:"flex items-start gap-3"},Iv={class:"min-w-0"},Bv={class:"truncate text-sm font-semibold text-slate-900"},Nv={class:"mt-1 text-xs font-semibold text-slate-400"},Ev={class:"px-6 pt-4 pb-[calc(24px+env(safe-area-inset-bottom))] md:px-8 md:pb-8"},Vv=["disabled"],Lv={key:0,class:"fixed inset-0 z-[90]"},Hv={class:"absolute left-1/2 top-1/2 w-full max-w-sm -translate-x-1/2 -translate-y-1/2 rounded-2xl bg-white p-6 shadow-xl",role:"dialog","aria-modal":"true"},zv={class:"text-center"},jv={class:"mt-2 text-sm text-slate-600"},qv={class:"mt-6 space-y-3"},Wv=Xe({__name:"TransactionModal",props:{open:{type:Boolean},kind:{},initial:{},categories:{},accounts:{},tags:{},lockKind:{type:Boolean}},emits:["close","save"],setup(e,{emit:t}){const n=e,a=t,l=()=>{zt(null),a("close")},r=F(n.kind),s=F(void 0),p=F(""),u=F(""),T=F("Alimentação"),m=F("Carteira"),f=F("Banco Inter"),w=F("Carteira"),P=F(""),M=F("today"),O=F(""),R=F(!1),B=F(!1),L=F(!1),$=F(!1),U=F(!1),J=F(!1),Y=F(!1),z=F(1),le=F(!1),X=F(!1),H=F(!1),se=F(2),pe=F(1),be=F(!1);F(null);const k=F(""),A=F(null);Ze(Y,y=>{y&&(X.value=!1,H.value=!1)}),Ze(X,y=>{y&&(Y.value=!1,H.value=!1)}),Ze(H,y=>{y&&(Y.value=!1,X.value=!1)}),I(()=>r.value==="expense");const x=I(()=>r.value==="transfer"),Q=I(()=>r.value==="income"?"Recebido?":"Pago?"),oe=I(()=>r.value==="income"?"Recebido":"Pago"),q=F(!1),te=F([]),S=F(!1),de=F(""),b=F(!1),j=F([]),C=F(null),ie=F(null),h=F(null),c=F(null),K=F(!1),Oe=F(null),Z=F(!1),Pe=I(()=>r.value==="expense"?"text-[#EF4444]":r.value==="transfer"?"text-[#3B82F6]":"text-[#14B8A6]"),ae=I(()=>p.value?"text-slate-900":"text-slate-200"),ue=I(()=>{const y=String(p.value??"").length;return y<=6?"text-[56px]":y<=9?"text-[44px]":y<=12?"text-[36px]":"text-[30px]"}),i=y=>r.value!==y?"bg-transparent text-[#9CA3AF] border border-[#E5E7EB]":y==="expense"?"bg-[#FEE2E2] text-[#EF4444] border border-transparent":y==="transfer"?"bg-[#DBEAFE] text-[#2563EB] border border-transparent":"bg-[#E6FFFB] text-[#14B8A6] border border-transparent",ve=y=>{const d=y.target;p.value=fs(d.value)},N=I(()=>ps(p.value)),Ce=I(()=>!(N.value<=0||!u.value.trim()||!T.value||!m.value||r.value==="transfer"&&(!f.value||!w.value||f.value===w.value))),ye=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(y),lt=y=>{const d=String(y.getDate()).padStart(2,"0"),V=String(y.getMonth()+1).padStart(2,"0"),xe=String(y.getFullYear());return`${d}/${V}/${xe}`},je=y=>{const d=String(y??"").trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!d)return null;const[,V,xe,Fe]=d,dt=new Date(Number(Fe),Number(xe)-1,Number(V));return Number.isNaN(dt.getTime())?null:dt},bt=(y,d)=>new Date(y,d+1,0).getDate(),E=(y,d)=>{const V=y.getDate(),xe=y.getMonth(),Fe=y.getFullYear(),dt=xe+d,nn=Fe+Math.floor(dt/12),ba=(dt%12+12)%12,Va=bt(nn,ba);return new Date(nn,ba,Math.min(V,Va))},ce=I(()=>{const y=Math.max(1,Math.floor(z.value||1));return N.value/y}),fe=I(()=>{if(M.value==="other"){const d=je(O.value);if(d)return d}const y=new Date;return new Date(y.getFullYear(),y.getMonth(),y.getDate())}),ht=I(()=>{const y=Math.max(1,Math.floor(z.value||1)),d=5,V=Math.min(y,d),xe=Array.from({length:V},(Fe,dt)=>({date:lt(E(fe.value,dt)),amount:ye(ce.value)}));return{count:y,total:ye(N.value),rows:xe,hasMore:y>d,remainingCount:Math.max(0,y-d)}}),tt=y=>String(y??"").trim().replace(/^#\s*/g,"").slice(0,50),kt=y=>{const d=new Map;for(const V of y){const xe=tt(V);if(!xe)continue;const Fe=xe.toLowerCase();d.has(Fe)||d.set(Fe,xe)}te.value=Array.from(d.values())},it=I(()=>new Set(te.value.map(y=>tt(y).toLowerCase()).filter(Boolean))),Ia=y=>{const d=tt(y);if(!d)return;const V=d.toLowerCase();if(it.value.has(V)){kt(te.value.filter(xe=>tt(xe).toLowerCase()!==V));return}kt([...te.value,d])},ia=I(()=>{const y=new Map,d=V=>{const xe=tt(V?.nome);if(!xe)return;const Fe=xe.toLowerCase();y.has(Fe)||y.set(Fe,{id:V.id,nome:xe,cor:V.cor||"#64748B"})};for(const V of n.tags??[])d(V);for(const V of j.value)d(V);for(const V of te.value){const xe=tt(V);if(!xe)continue;const Fe=xe.toLowerCase();y.has(Fe)||d({id:`custom:${Fe}`,nome:xe,cor:"#64748B"})}return Array.from(y.values()).sort((V,xe)=>V.nome.localeCompare(xe.nome,"pt-BR"))}),ua=()=>{ie.value&&(URL.revokeObjectURL(ie.value),ie.value=null)},zt=y=>{ua(),C.value=y,y&&y.type.startsWith("image/")&&(ie.value=URL.createObjectURL(y)),y&&(K.value=!1)},ya=I(()=>!!C.value||!!h.value&&!K.value),Ba=I(()=>C.value?.name||c.value||"Comprovante"),Na=I(()=>!!C.value?.type?.startsWith("image/")),Kt=()=>Oe.value?.click(),D=y=>{const d=y.target,V=d.files?.[0]??null;if(V&&V.size>10*1024*1024){window.alert("Arquivo muito grande. Máximo 10MB."),d.value="";return}if(V&&!(V.type==="application/pdf"||V.type.startsWith("image/"))){window.alert("Formato inválido. Envie PDF ou imagem."),d.value="";return}zt(V),d.value=""},ne=y=>{y.preventDefault(),Z.value=!1;const d=y.dataTransfer?.files?.[0]??null;if(d){if(d.size>10*1024*1024){window.alert("Arquivo muito grande. Máximo 10MB.");return}if(!(d.type==="application/pdf"||d.type.startsWith("image/"))){window.alert("Formato inválido. Envie PDF ou imagem.");return}zt(d)}},we=()=>{if(C.value){zt(null);return}h.value&&(h.value=null,c.value=null,K.value=!0)},$e=async()=>{const y=tt(de.value);if(!y)return;const d=ia.value.find(V=>V.nome.toLowerCase()===y.toLowerCase());if(d){kt([...te.value,d.nome]),S.value=!1,de.value="";return}b.value=!0;try{const V=await zn("/api/tags",{method:"POST",body:JSON.stringify({nome:y,cor:"#64748B"})}),xe={id:V.id,nome:V.nome,cor:V.cor};j.value=[...j.value,xe],kt([...te.value,xe.nome]),S.value=!1,de.value=""}catch{window.alert("Não foi possível criar a tag. Tente novamente.")}finally{b.value=!1}},ee=y=>{const d=y.trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!d)return"";const[,V,xe,Fe]=d;return`${Fe}-${xe}-${V}`},he=y=>{const d=y.trim().match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!d)return y;const[,V,xe,Fe]=d;return`${Fe}/${xe}/${V}`},ge=y=>{const d=String(y??"").trim().match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!d)return null;const[,V,xe,Fe]=d,dt=new Date(Number(V),Number(xe)-1,Number(Fe));return Number.isFinite(dt.getTime())?dt:null},Dt=()=>{const y=n.initial??null,d=y?.isInstallment??!1;let V=!!(y?.despesaFixa??y?.isFixed??!1),xe=!!(y?.repetir??(!V&&!!y?.recurrenceEndsAt));d&&(V||xe)&&(V=!1,xe=!1),s.value=y?.id,r.value=y?.kind??n.kind,p.value=y?hs(y.amount):"",u.value=y?.description??"",T.value=y?.category??"Alimentação";{const Gt=ga.value[0]?.key??"",xl=(y?.account??Gt).trim();m.value=ga.value.some(ls=>ls.key===xl)?xl:Gt}M.value=y?.dateKind??"today",O.value=y?.dateOther?he(y.dateOther):"",Y.value=d,z.value=y?.installmentCount??1,le.value=y?.isPaid??!1,kt(y?.tags??[]),zt(null),h.value=y?.receiptUrl??null,c.value=y?.receiptName??null,K.value=!1,q.value=!!(y?.isInstallment||V||xe||(y?.tags?.length??0)||y?.receiptUrl);const Fe=Pt.value.map(Gt=>Gt.key),dt=Fe[0]??"Carteira",nn=Fe.find(Gt=>Gt!==dt)??dt;f.value=y?.transferFrom??dt,w.value=y?.transferTo??nn,w.value===f.value&&(w.value=Fe.find(Gt=>Gt!==f.value)??w.value),P.value=y?.transferDescription??"",X.value=!x.value&&V;const ba=Number(y?.repetirMeses??y?.recurrenceEveryMonths??1);pe.value=Number.isFinite(ba)&&ba>0?Math.floor(ba):1;const Va=y?.dateOther??null,bl=Va&&Va!==""?Va:null,Dn=bl?ge(bl):y?.transactionDate?ge(y.transactionDate):null,Pn=y?.recurrenceEndsAt?ge(y.recurrenceEndsAt):null,wl=Dn&&Pn?(Pn.getFullYear()-Dn.getFullYear())*12+(Pn.getMonth()-Dn.getMonth()):null,ns=wl!=null?Math.max(2,Math.floor(wl/Math.max(1,pe.value))+1):2,Cn=Number(y?.repetirVezes??ns);se.value=Number.isFinite(Cn)&&Cn>=2?Math.floor(Cn):2,H.value=!x.value&&!X.value&&xe,R.value=!1,B.value=!1,$.value=!1,U.value=!1,J.value=!1,L.value=!1,S.value=!1,de.value="",b.value=!1,ua()},_t=()=>{R.value=!0},jt=()=>{M.value="today",O.value=""},Nt=y=>{M.value="other",O.value=y},Et=(y,d,V)=>{const xe=String(y??"").replace(/[^\d]/g,"");if(!xe)return d;const Fe=Number(xe);return Number.isFinite(Fe)?Math.min(V,Math.max(d,Fe)):d},bn=y=>{const d=y.target;se.value=Et(d.value,2,120)},Br=()=>{z.value=Math.max(1,Math.floor(z.value||1)-1)},Nr=()=>{z.value=Math.min(999,Math.floor(z.value||1)+1)},wn=y=>{if(y==="expense"||y==="income")return y},yl=y=>{const d=new Map;for(const V of y){const xe=d.get(V.key);if(!xe){d.set(V.key,{...V,kind:wn(V.kind)});continue}const Fe=wn(V.kind),dt=xe.kind&&Fe&&xe.kind!==Fe?void 0:xe.kind??Fe;d.set(V.key,{...xe,...V,customColor:xe.customColor??V.customColor,tone:xe.tone??V.tone,icon:(xe.icon&&xe.icon!=="other"?xe.icon:V.icon)??xe.icon,kind:dt})}return Array.from(d.values())},xn=F([]),en=I(()=>{const y=[{key:"Alimentação",label:"Alimentação",icon:"cart",tone:"amber",kind:"expense"},{key:"Moradia",label:"Moradia",icon:"home",tone:"blue",kind:"expense"},{key:"Transporte",label:"Transporte",icon:"car",tone:"slate",kind:"expense"},{key:"Lazer",label:"Lazer",icon:"sparkles",tone:"purple",kind:"expense"},{key:"Saúde",label:"Saúde",icon:"heart",tone:"red",kind:"expense"},{key:"Estudos",label:"Estudos",icon:"trend",tone:"green",kind:"expense"},{key:"Salário",label:"Salário",icon:"money",tone:"green",kind:"income"},{key:"Freelance",label:"Freelance",icon:"briefcase",tone:"blue",kind:"income"},{key:"Investimentos",label:"Investimentos",icon:"trend",tone:"purple",kind:"income"},{key:"Outros",label:"Outros",icon:"other",tone:"slate"}],d=n.categories?.length?n.categories:y;return yl([...d,...xn.value])}),kn=y=>String(y??"").trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),Ea=I(()=>{const y=kn(T.value);return en.value.find(d=>kn(d.key)===y)??en.value.find(d=>kn(d.label)===y)??null}),Er=y=>y==="amber"?"bg-amber-100 text-amber-600":y==="blue"?"bg-blue-100 text-blue-600":y==="purple"?"bg-purple-100 text-purple-600":y==="red"?"bg-red-100 text-red-600":y==="green"?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-600",tn=I(()=>{if(r.value==="expense")return"expense";if(r.value==="income")return"income"}),an=I(()=>tn.value?en.value.filter(y=>!y.kind||y.kind===tn.value):[]),ga=I(()=>{const y=[{key:"Nubank",label:"Nubank",subtitle:"Conta Corrente",tone:"purple"},{key:"Inter",label:"Inter",subtitle:"Conta Digital",tone:"amber"},{key:"Dinheiro",label:"Dinheiro",subtitle:"Carteira Física",tone:"emerald"}];return n.accounts?.length?n.accounts:y}),Pt=I(()=>ga.value.filter(y=>y.type!=="credit_card")),_n=y=>y==="purple"?"bg-purple-100 text-purple-600":y==="amber"?"bg-amber-100 text-amber-600":y==="emerald"?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-600",Mn=y=>y.type==="wallet"||y.icon==="wallet",Vr=y=>y.type==="credit_card",Mt=I(()=>ga.value.find(y=>y.key===m.value)??ga.value.find(y=>y.label===m.value)??null),Lr=I(()=>Mt.value?.label??m.value),Ct=I(()=>Pt.value.find(y=>y.key===f.value)??Pt.value.find(y=>y.label===f.value)??null),Hr=I(()=>Ct.value?.label??f.value),At=I(()=>Pt.value.find(y=>y.key===w.value)??Pt.value.find(y=>y.label===w.value)??null),zr=I(()=>At.value?.label??w.value),gl=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(y),jr=I(()=>{const y=Pt.value.find(d=>d.key===f.value)??null;return!y||y.balance==null?"":`Saldo: ${gl(Number(y.balance)||0)}`}),qr=I(()=>{const y=Pt.value.find(d=>d.key===w.value)??null;return!y||y.balance==null?"":`Saldo: ${gl(Number(y.balance)||0)}`}),Wr=()=>{U.value=!0},Ur=()=>{J.value=!0},Xr=y=>{if(f.value=y,U.value=!1,w.value===y){const d=Pt.value.find(V=>V.key!==y)?.key??"";d&&(w.value=d)}},Qr=y=>{if(w.value=y,J.value=!1,f.value===y){const d=Pt.value.find(V=>V.key!==y)?.key??"";d&&(f.value=d)}},Kr=()=>{B.value=!0},Gr=()=>{$.value=!0},Jr=()=>{L.value=!0},Zr=async y=>{const d=y.name.trim();if(d)try{const V=await zn("/api/categories",{method:"POST",body:JSON.stringify({name:d,type:y.type,icon:y.icon,color:"#6B7280"})});xn.value=yl([...xn.value,{key:V.name,label:V.name,icon:V.icon??y.icon??"other",customColor:V.color??void 0,kind:wn(V.type)}]),T.value=V.name,L.value=!1}catch{window.alert("Não foi possível criar a categoria. Tente novamente.")}},es=()=>{const y=M.value==="other"?ee(O.value):"";return{id:s.value,kind:r.value,amount:N.value,description:u.value.trim(),category:T.value,account:m.value,dateKind:M.value,dateOther:y,transactionDate:y||void 0,isInstallment:Y.value,installmentCount:z.value,isPaid:le.value,tags:te.value,receiptFile:C.value,removeReceipt:K.value,transferFrom:f.value,transferTo:w.value,transferDescription:P.value.trim(),repetir:!x.value&&H.value,repetirVezes:!x.value&&H.value?Et(se.value,2,120):void 0,repetirMeses:!x.value&&H.value?Et(pe.value,1,120):void 0,despesaFixa:!x.value&&X.value,recurrenceGroupId:n.initial?.recurrenceGroupId??null,isFixed:n.initial?.isFixed??!1,recurrenceEveryMonths:n.initial?.recurrenceEveryMonths??null,recurrenceEndsAt:n.initial?.recurrenceEndsAt??null}},ts=I(()=>!!s.value&&!!n.initial?.recurrenceGroupId&&!x.value),Tn=y=>{A.value&&(a("save",{...A.value,editarEscopo:y}),A.value=null,be.value=!1,l())},as=()=>{const y=es();if(y.repetir){const d=Et(y.repetirVezes??2,2,120),V=Et(y.repetirMeses??1,1,120);if(!Number.isFinite(d)||d<2||!Number.isFinite(V)||V<1)return}if(ts.value){A.value=y,k.value=n.initial?.isFixed??!1?"Essa é uma despesa/entrada fixa. Como você quer aplicar as alterações?":"Essa movimentação faz parte de uma repetição. Como você quer aplicar as alterações?",be.value=!0;return}a("save",y),l()};return Ze([r,an],()=>{if(r.value==="transfer"||!an.value.length)return;an.value.some(d=>d.key===T.value)||(T.value=an.value[0].key)},{immediate:!0}),Ze(r,y=>{y==="transfer"&&(Y.value=!1,X.value=!1,H.value=!1)}),Ze(()=>n.open,y=>{y&&Dt()}),(y,d)=>e.open?(g(),_("div",ec,[o("div",tc,[o("header",{class:"relative flex h-14 items-center px-4 pt-[env(safe-area-inset-top)] md:h-16 md:px-6 md:pt-0"},[o("button",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-50 text-[#6B7280]",type:"button",onClick:l,"aria-label":"Fechar"},[...d[35]||(d[35]=[o("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M18 6L6 18"}),o("path",{d:"M6 6l12 12"})],-1)])]),d[36]||(d[36]=o("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center"},[o("div",{class:"text-[18px] font-bold text-[#1F2937]"},"Nova movimentação")],-1))]),o("div",ac,[o("div",nc,[o("div",lc,[o("div",rc,[o("button",{type:"button",class:re(["flex h-11 items-center justify-center rounded-xl text-sm font-semibold",i("expense")]),onClick:d[0]||(d[0]=V=>r.value="expense")}," Gasto ",2),o("button",{type:"button",class:re(["flex h-11 items-center justify-center rounded-xl text-sm font-semibold disabled:opacity-40 disabled:cursor-not-allowed",i("income")]),disabled:n.lockKind,onClick:d[1]||(d[1]=V=>!n.lockKind&&(r.value="income"))}," Receita ",10,sc),o("button",{type:"button",class:re(["flex h-11 items-center justify-center rounded-xl text-sm font-semibold disabled:opacity-40 disabled:cursor-not-allowed",i("transfer")]),disabled:n.lockKind,onClick:d[2]||(d[2]=V=>!n.lockKind&&(r.value="transfer"))}," Transferência ",10,oc)])])]),o("div",ic,[d[37]||(d[37]=o("div",{class:"text-center text-xs font-bold uppercase tracking-wide text-slate-300"},"Valor da transação",-1)),o("div",uc,[o("div",{class:re(["text-2xl font-bold",Pe.value])},"R$",2),o("input",{class:re(["amount-input w-full max-w-[340px] bg-transparent text-center font-bold leading-none tracking-tight placeholder:text-slate-200 focus:outline-none focus:ring-0",[ae.value,ue.value]]),inputmode:"numeric",autocomplete:"off",spellcheck:"false",value:p.value,onInput:ve,onKeydown:d[3]||(d[3]=(...V)=>v(wa)&&v(wa)(...V)),placeholder:"0,00","aria-label":"Valor"},null,42,dc)])]),o("div",cc,[x.value?W("",!0):(g(),_("div",vc,[o("div",mc,[d[38]||(d[38]=ea('<span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-white text-slate-400 ring-1 ring-slate-200/60" data-v-73a080a2><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-73a080a2><path d="M4 7h16" data-v-73a080a2></path><path d="M4 12h10" data-v-73a080a2></path><path d="M4 17h14" data-v-73a080a2></path></svg></span>',1)),Wt(o("input",{"onUpdate:modelValue":d[4]||(d[4]=V=>u.value=V),type:"text",placeholder:"Descrição (ex: Almoço de domingo)",class:"w-full appearance-none border-0 bg-transparent text-sm font-semibold text-slate-700 placeholder:text-slate-300 outline-none focus:outline-none focus:ring-0"},null,512),[[un,u.value]])])])),x.value?W("",!0):(g(),_("div",pc,[o("button",{type:"button",class:"rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70",onClick:Kr},[o("div",fc,[o("span",{class:re(["flex h-10 w-10 items-center justify-center rounded-2xl",Ea.value?.customColor?"":Er(Ea.value?.tone)]),style:at(Ea.value?.customColor?{backgroundColor:Ea.value.customColor,color:"white"}:{})},[Be(mn,{icon:Ea.value?.icon??"other",class:"h-5 w-5"},null,8,["icon"])],6),o("div",hc,[d[39]||(d[39]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Categoria",-1)),o("div",yc,Te(T.value),1)]),d[40]||(d[40]=o("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[o("path",{d:"M6 9l6 6 6-6"})],-1))])]),o("button",{type:"button",class:"rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70",onClick:Gr},[o("div",gc,[Mt.value&&!Mn(Mt.value)?(g(),Ae(xa,{key:0,institution:Mt.value.label,"fallback-icon":Vr(Mt.value)?"credit-card":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/70","img-class":"h-8 w-8 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution","fallback-icon"])):Mt.value?(g(),_("span",{key:1,class:re(["flex h-10 w-10 items-center justify-center rounded-2xl",Mt.value.customColor?"":_n(Mt.value.tone)]),style:at(Mt.value.customColor?{backgroundColor:Mt.value.customColor,color:"white"}:{})},[Be(An,{type:Mt.value.type,icon:Mt.value.icon,class:"h-5 w-5"},null,8,["type","icon"])],6)):(g(),Ae(xa,{key:2,institution:m.value,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/70","img-class":"h-8 w-8 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution"])),o("div",bc,[d[41]||(d[41]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Conta",-1)),o("div",wc,Te(Lr.value),1)]),d[42]||(d[42]=o("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[o("path",{d:"M6 9l6 6 6-6"})],-1))])])])),x.value?W("",!0):(g(),_("div",xc,[o("button",{type:"button",class:"rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70",onClick:_t},[o("div",kc,[d[44]||(d[44]=ea('<span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-200 text-slate-500" data-v-73a080a2><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-73a080a2><rect x="3" y="4" width="18" height="18" rx="3" data-v-73a080a2></rect><path d="M8 2v4" data-v-73a080a2></path><path d="M16 2v4" data-v-73a080a2></path><path d="M3 10h18" data-v-73a080a2></path></svg></span>',1)),o("div",_c,[d[43]||(d[43]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Data",-1)),o("div",Mc,Te(M.value==="today"?"Hoje":O.value||"Selecione"),1)])])]),o("div",Tc,[o("div",Dc,[o("div",null,[o("div",Pc,Te(Q.value),1),o("div",Cc,Te(le.value?"Sim":"Não"),1)]),o("button",{type:"button",class:re(["relative inline-flex h-7 w-12 items-center rounded-full transition",le.value?"bg-[#14B8A6]":"bg-slate-300"]),onClick:d[5]||(d[5]=V=>le.value=!le.value),"aria-label":oe.value},[o("span",{class:re(["inline-block h-6 w-6 transform rounded-full bg-white transition",le.value?"translate-x-5":"translate-x-1"])},null,2)],10,Ac)])])])),o("button",{type:"button",class:re(["flex w-full items-center justify-between rounded-2xl bg-white px-4 py-4 text-left text-sm font-bold tracking-wide ring-1 ring-slate-200/60",r.value==="transfer"?"text-blue-600":"text-emerald-600"]),onClick:d[6]||(d[6]=V=>q.value=!q.value)},[d[46]||(d[46]=o("span",null,"OPÇÕES AVANÇADAS",-1)),(g(),_("svg",{class:re(["h-5 w-5 transition-transform",q.value?"rotate-180":""]),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[...d[45]||(d[45]=[o("path",{d:"M6 9l6 6 6-6"},null,-1)])],2))],2),q.value?(g(),_("div",$c,[x.value?W("",!0):(g(),_("div",Oc,[o("div",Sc,[d[47]||(d[47]=o("div",{class:"flex items-center gap-3"},[o("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500","aria-hidden":"true"},"📌"),o("div",{class:"text-sm font-semibold text-slate-900"},"Despesa fixa")],-1)),o("button",{type:"button",class:re(["relative inline-flex h-7 w-12 items-center rounded-full transition disabled:cursor-not-allowed disabled:opacity-60",X.value?"bg-[#14B8A6]":"bg-slate-300"]),disabled:Y.value||H.value,onClick:d[7]||(d[7]=V=>!(Y.value||H.value)&&(X.value=!X.value)),"aria-label":"Despesa fixa"},[o("span",{class:re(["inline-block h-6 w-6 transform rounded-full bg-white transition",X.value?"translate-x-5":"translate-x-1"])},null,2)],10,Rc)]),X.value?(g(),_("div",Yc," Vai aparecer em todos os meses a partir desta data. ")):W("",!0)])),x.value?W("",!0):(g(),_("div",Fc,[o("div",Ic,[d[48]||(d[48]=ea('<div class="flex items-center gap-3" data-v-73a080a2><span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500" data-v-73a080a2><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-73a080a2><path d="M12 2l7 7-7 7-7-7 7-7Z" data-v-73a080a2></path><path d="M12 16l7 7H5l7-7Z" data-v-73a080a2></path></svg></span><div class="text-sm font-semibold text-slate-900" data-v-73a080a2>Parcelamento</div></div>',1)),o("button",{type:"button",class:re(["relative inline-flex h-7 w-12 items-center rounded-full transition disabled:cursor-not-allowed disabled:opacity-60",Y.value?"bg-[#14B8A6]":"bg-slate-300"]),disabled:X.value||H.value,onClick:d[8]||(d[8]=V=>!(X.value||H.value)&&(Y.value=!Y.value)),"aria-label":"Parcelado"},[o("span",{class:re(["inline-block h-6 w-6 transform rounded-full bg-white transition",Y.value?"translate-x-5":"translate-x-1"])},null,2)],10,Bc)]),Y.value?(g(),_("div",Nc,[o("div",null,[d[51]||(d[51]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Qtd.",-1)),o("div",Ec,[o("input",{value:z.value,type:"text",inputmode:"numeric",pattern:"[0-9]*",class:"w-full appearance-none border-0 bg-transparent px-4 text-center text-sm font-bold text-slate-900 outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",onKeydown:d[9]||(d[9]=(...V)=>v(wa)&&v(wa)(...V)),onInput:d[10]||(d[10]=V=>{z.value=Et(V.target.value,1,999)}),"aria-label":"Quantidade de parcelas"},null,40,Vc),o("div",{class:"grid w-12 grid-rows-2 border-l border-slate-200/70"},[o("button",{type:"button",class:"flex items-center justify-center text-slate-500","aria-label":"Aumentar",onClick:Nr},[...d[49]||(d[49]=[o("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M6 15l6-6 6 6"})],-1)])]),o("button",{type:"button",class:"flex items-center justify-center text-slate-500","aria-label":"Diminuir",onClick:Br},[...d[50]||(d[50]=[o("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M6 9l6 6 6-6"})],-1)])])])])]),o("div",null,[d[52]||(d[52]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Valor parcela",-1)),o("div",Lc,Te(ye(ce.value)),1)])])):W("",!0),Y.value?(g(),_("div",Hc,[o("div",zc,[d[53]||(d[53]=o("span",{"aria-hidden":"true"},"📋",-1)),o("span",null,"Serão criadas "+Te(ht.value.count)+" parcelas:",1)]),o("div",jc,[(g(!0),_(Me,null,Ne(ht.value.rows,V=>(g(),_("div",{key:V.date,class:"flex items-center justify-between gap-3 font-semibold"},[o("span",qc,Te(V.date),1),o("span",Wc,Te(V.amount),1)]))),128)),ht.value.hasMore?(g(),_("div",Uc," … +"+Te(ht.value.remainingCount)+" parcelas ",1)):W("",!0),o("div",Xc,[o("div",Qc,[d[54]||(d[54]=o("span",null,"Total",-1)),o("span",Kc,Te(ht.value.total),1)])])])])):W("",!0)])),o("div",Gc,[o("div",Jc,[d[55]||(d[55]=ea('<div class="flex items-center gap-3" data-v-73a080a2><span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500" data-v-73a080a2><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-73a080a2><path d="M21 12a9 9 0 0 1-9 9" data-v-73a080a2></path><path d="M3 12a9 9 0 0 1 9-9" data-v-73a080a2></path><path d="M8 12h8" data-v-73a080a2></path></svg></span><div class="text-sm font-semibold text-slate-900" data-v-73a080a2>Repetir</div></div>',1)),o("button",{type:"button",class:re(["relative inline-flex h-7 w-12 items-center rounded-full transition disabled:cursor-not-allowed disabled:opacity-60",H.value?"bg-[#14B8A6]":"bg-slate-300"]),disabled:Y.value||X.value||x.value,onClick:d[11]||(d[11]=V=>!(Y.value||X.value||x.value)&&(H.value=!H.value)),"aria-label":"Repetir"},[o("span",{class:re(["inline-block h-6 w-6 transform rounded-full bg-white transition",H.value?"translate-x-5":"translate-x-1"])},null,2)],10,Zc)]),H.value?(g(),_("div",ev,[o("div",tv,[o("div",null,[d[56]||(d[56]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Vezes",-1)),o("input",{value:se.value,type:"text",inputmode:"numeric",pattern:"[0-9]*",class:"mt-2 h-10 w-full border-b border-slate-200 bg-transparent text-left text-2xl font-semibold text-slate-900 outline-none focus:border-[#14B8A6]",onKeydown:d[12]||(d[12]=(...V)=>v(wa)&&v(wa)(...V)),onInput:bn,"aria-label":"Repetir vezes"},null,40,av)]),o("div",null,[d[57]||(d[57]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Meses",-1)),Wt(o("select",{"onUpdate:modelValue":d[13]||(d[13]=V=>pe.value=V),class:"mt-2 h-10 w-full border-b border-slate-200 bg-transparent text-left text-lg font-semibold text-slate-900 outline-none focus:border-[#14B8A6]","aria-label":"Intervalo em meses"},[(g(),_(Me,null,Ne(24,V=>o("option",{key:V,value:V},Te(V),9,nv)),64))],512),[[ms,pe.value]])])]),o("div",lv," Vai repetir a cada "+Te(pe.value)+" "+Te(pe.value===1?"mês":"meses")+". ",1)])):W("",!0)]),x.value?W("",!0):(g(),_("div",rv,[o("div",sv,[d[58]||(d[58]=o("div",{class:"flex items-center gap-3"},[o("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500","aria-hidden":"true"},"🏷️"),o("div",{class:"text-sm font-semibold text-slate-900"},"Tags")],-1)),o("button",{type:"button",class:"text-sm font-semibold text-slate-500 hover:text-slate-700 disabled:opacity-50",disabled:b.value,onClick:d[14]||(d[14]=V=>S.value=!S.value)},Te(S.value?"- Tag":"+ Tag"),9,ov)]),o("div",iv,[(g(!0),_(Me,null,Ne(ia.value,V=>(g(),_("button",{key:V.id,type:"button",class:re(["inline-flex items-center gap-2 rounded-full px-3 py-2 text-xs font-semibold ring-1 transition",it.value.has(V.nome.toLowerCase())?"bg-slate-900 text-white ring-slate-900":"bg-slate-50 text-slate-600 ring-slate-200/70 hover:bg-slate-100"]),onClick:xe=>Ia(V.nome)},[o("span",{class:"h-2 w-2 rounded-full",style:at({backgroundColor:V.cor}),"aria-hidden":"true"},null,4),o("span",null,"# "+Te(V.nome),1)],10,uv))),128)),ia.value.length===0?(g(),_("div",dv,"Nenhuma tag ainda.")):W("",!0)]),S.value?(g(),_("div",cv,[d[59]||(d[59]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Nova tag",-1)),o("div",vv,[Wt(o("input",{"onUpdate:modelValue":d[15]||(d[15]=V=>de.value=V),type:"text",maxlength:"50",placeholder:"Ex: Essencial",class:"h-11 w-full rounded-xl bg-white px-4 text-sm font-semibold text-slate-900 ring-1 ring-slate-200/70 focus:outline-none",disabled:b.value,onKeydown:on(St($e,["prevent"]),["enter"])},null,40,mv),[[un,de.value]]),o("button",{type:"button",class:"inline-flex h-11 items-center justify-center rounded-xl bg-slate-900 px-4 text-sm font-semibold text-white disabled:opacity-50",disabled:b.value||!de.value.trim(),onClick:$e}," Criar ",8,pv)])])):W("",!0)])),x.value?W("",!0):(g(),_("div",fv,[o("div",hv,[d[60]||(d[60]=o("div",{class:"flex items-center gap-3"},[o("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500","aria-hidden":"true"},"📎"),o("div",{class:"text-sm font-semibold text-slate-900"},"Comprovante")],-1)),ya.value?(g(),_("button",{key:0,type:"button",class:"text-sm font-semibold text-slate-500 hover:text-slate-700",onClick:Kt}," Trocar ")):W("",!0)]),o("input",{ref_key:"receiptFileInput",ref:Oe,class:"hidden",type:"file",accept:"application/pdf,image/*",onChange:D},null,544),ya.value?(g(),_("div",gv,[o("div",bv,[o("div",wv,[Na.value&&ie.value?(g(),_("div",xv,[o("img",{src:ie.value,alt:"",class:"h-full w-full object-cover"},null,8,kv)])):(g(),_("div",_v,[...d[62]||(d[62]=[o("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[o("rect",{x:"4",y:"5",width:"16",height:"14",rx:"2"}),o("path",{d:"M8 9h8"}),o("path",{d:"M8 13h6"})],-1)])])),o("div",Mv,[o("div",Tv,Te(Ba.value),1),o("div",Dv,Te(h.value&&!C.value&&!K.value?"Salvo":"Será anexado ao salvar"),1)])]),o("div",Pv,[h.value&&!C.value&&!K.value?(g(),_("a",{key:0,href:h.value,target:"_blank",rel:"noopener noreferrer",class:"flex h-10 items-center justify-center rounded-xl bg-white px-4 text-xs font-semibold text-slate-600 ring-1 ring-slate-200/60"}," Ver ",8,Cv)):W("",!0),o("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-xl bg-white text-slate-500 ring-1 ring-slate-200/60","aria-label":"Remover",onClick:we},[...d[63]||(d[63]=[ea('<svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-73a080a2><path d="M3 6h18" data-v-73a080a2></path><path d="M8 6V4h8v2" data-v-73a080a2></path><path d="M19 6l-1 16H6L5 6" data-v-73a080a2></path><path d="M10 11v6" data-v-73a080a2></path><path d="M14 11v6" data-v-73a080a2></path></svg>',1)])])])])])):(g(),_("div",{key:0,class:re(["mt-4 rounded-2xl border-2 border-dashed bg-slate-50 px-4 py-6 text-center transition",Z.value?"border-[#14B8A6] bg-[#E6FFFB]":"border-slate-200"]),role:"button",tabindex:"0",onClick:Kt,onKeydown:[on(St(Kt,["prevent"]),["enter"]),on(St(Kt,["prevent"]),["space"])],onDragenter:d[16]||(d[16]=St(V=>Z.value=!0,["prevent"])),onDragover:d[17]||(d[17]=St(V=>Z.value=!0,["prevent"])),onDragleave:d[18]||(d[18]=St(V=>Z.value=!1,["prevent"])),onDrop:ne,"aria-label":"Adicionar comprovante"},[...d[61]||(d[61]=[ea('<div class="mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-500 ring-1 ring-slate-200/60" data-v-73a080a2><svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-73a080a2><path d="M12 16V4" data-v-73a080a2></path><path d="M8 8l4-4 4 4" data-v-73a080a2></path><path d="M4 20h16" data-v-73a080a2></path></svg></div><div class="mt-3 text-sm font-semibold text-slate-900" data-v-73a080a2>Arraste ou clique para adicionar</div><div class="mt-1 text-xs font-semibold text-slate-400" data-v-73a080a2>PDF ou imagem (até 10MB).</div>',3)])],42,yv))]))])):W("",!0)]),x.value?(g(),_("div",Av,[o("div",$v,[o("div",null,[d[64]||(d[64]=o("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"De (Origem)",-1)),o("button",{type:"button",class:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-4 text-left shadow-sm",onClick:Wr},[o("div",Ov,[Ct.value&&!Mn(Ct.value)?(g(),Ae(xa,{key:0,institution:Ct.value.label,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/70","img-class":"h-8 w-8 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution"])):Ct.value?(g(),_("span",{key:1,class:re(["flex h-10 w-10 items-center justify-center rounded-2xl",Ct.value.customColor?"":_n(Ct.value.tone)]),style:at(Ct.value.customColor?{backgroundColor:Ct.value.customColor,color:"white"}:{})},[Be(An,{type:Ct.value.type,icon:Ct.value.icon,class:"h-5 w-5"},null,8,["type","icon"])],6)):(g(),Ae(xa,{key:2,institution:f.value,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/70","img-class":"h-8 w-8 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution"])),o("div",Sv,[o("div",Rv,Te(Hr.value),1),o("div",Yv,Te(jr.value||"Saldo: -"),1)])])])]),d[66]||(d[66]=o("div",{class:"flex items-center justify-center py-1 text-slate-300"},[o("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[o("path",{d:"M12 5v14"}),o("path",{d:"M5 12l7 7 7-7"})])],-1)),o("div",null,[d[65]||(d[65]=o("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Para (Destino)",-1)),o("button",{type:"button",class:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-4 text-left shadow-sm",onClick:Ur},[o("div",Fv,[At.value&&!Mn(At.value)?(g(),Ae(xa,{key:0,institution:At.value.label,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/70","img-class":"h-8 w-8 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution"])):At.value?(g(),_("span",{key:1,class:re(["flex h-10 w-10 items-center justify-center rounded-2xl",At.value.customColor?"":_n(At.value.tone)]),style:at(At.value.customColor?{backgroundColor:At.value.customColor,color:"white"}:{})},[Be(An,{type:At.value.type,icon:At.value.icon,class:"h-5 w-5"},null,8,["type","icon"])],6)):(g(),Ae(xa,{key:2,institution:w.value,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/70","img-class":"h-8 w-8 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution"])),o("div",Iv,[o("div",Bv,Te(zr.value),1),o("div",Nv,Te(qr.value||"Saldo: -"),1)])])])])]),o("div",null,[d[67]||(d[67]=o("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Descrição (opcional)",-1)),Wt(o("input",{"onUpdate:modelValue":d[19]||(d[19]=V=>P.value=V),type:"text",placeholder:"Ex: Saque...",class:"h-11 w-full rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3 text-base text-[#374151] placeholder:text-[#9CA3AF] focus:border-[#3B82F6] focus:outline-none focus:ring-0"},null,512),[[un,P.value]])])])):W("",!0)]),o("footer",Ev,[o("button",{class:re(["h-[52px] w-full rounded-xl text-base font-bold text-white transition-all",Ce.value?r.value==="transfer"?"bg-[#3B82F6] shadow-[0_2px_8px_rgba(59,130,246,0.25)]":"bg-[#14B8A6] shadow-[0_2px_8px_rgba(20,184,166,0.25)]":"bg-slate-300 shadow-none cursor-not-allowed opacity-60"]),type:"button",disabled:!Ce.value,onClick:as},Te(r.value==="transfer"?"Transferir":"Salvar"),11,Vv)])]),Be(Bd,{open:R.value,"model-value":M.value==="today"?"":O.value,onClose:d[20]||(d[20]=V=>R.value=!1),onSelectToday:d[21]||(d[21]=()=>{jt(),R.value=!1}),"onUpdate:modelValue":d[22]||(d[22]=V=>{Nt(V),R.value=!1})},null,8,["open","model-value"]),Be(Hd,{open:B.value,options:en.value,kind:tn.value,onClose:d[23]||(d[23]=V=>B.value=!1),onSelect:d[24]||(d[24]=V=>{T.value=V,B.value=!1}),onCreate:d[25]||(d[25]=()=>{B.value=!1,Jr()})},null,8,["open","options","kind"]),Be(Zd,{open:L.value,"initial-type":tn.value??"expense",onClose:d[26]||(d[26]=V=>L.value=!1),onSave:Zr},null,8,["open","initial-type"]),Be($n,{open:$.value,options:ga.value,onClose:d[27]||(d[27]=V=>$.value=!1),onSelect:d[28]||(d[28]=V=>{m.value=V,$.value=!1})},null,8,["open","options"]),Be($n,{open:U.value,title:"Transferir de",options:Pt.value,onClose:d[29]||(d[29]=V=>U.value=!1),onSelect:Xr},null,8,["open","options"]),Be($n,{open:J.value,title:"Transferir para",options:Pt.value,onClose:d[30]||(d[30]=V=>J.value=!1),onSelect:Qr},null,8,["open","options"]),be.value?(g(),_("div",Lv,[o("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:d[31]||(d[31]=V=>be.value=!1),"aria-label":"Fechar"}),o("div",Hv,[o("div",zv,[d[68]||(d[68]=o("div",{class:"text-4xl"},"🧩",-1)),d[69]||(d[69]=o("h2",{class:"mt-4 text-lg font-semibold text-slate-900"},"Aplicar alterações",-1)),o("p",jv,Te(k.value),1)]),o("div",qv,[o("button",{type:"button",class:"w-full rounded-xl border border-slate-200 py-3 text-sm font-semibold text-slate-700 hover:bg-slate-50",onClick:d[32]||(d[32]=V=>Tn("este"))}," Só esta movimentação "),o("button",{type:"button",class:"w-full rounded-xl border border-slate-200 py-3 text-sm font-semibold text-slate-700 hover:bg-slate-50",onClick:d[33]||(d[33]=V=>Tn("proximos"))}," Esta e as próximas "),o("button",{type:"button",class:"w-full rounded-xl bg-[#14B8A6] py-3 text-sm font-semibold text-white shadow-lg shadow-teal-600/20",onClick:d[34]||(d[34]=V=>Tn("todos"))}," Todas (antes e depois) ")])])])):W("",!0)])):W("",!0)}}),nm=ql(Wv,[["__scopeId","data-v-73a080a2"]]);export{nm as T,mn as _,Zv as a,tm as b,am as e,em as h,hl as q};

import{d as wt,h as m,c as d,p as ze,g as i,i as k,e as t,t as u,f as _,F as Z,r as tt,x as Q,I as Xt,b as S,k as z,M as dt,m as X,n as P,o as n,s as ae,u as He,z as Je,a as Pt,w as I,l as K,j as W,A as Ke,B as qe,C as Ge}from"./app-BRKBOhMK.js";import{r as V,_ as Ye,a as Qe}from"./DesktopShell.vue_vue_type_script_setup_true_lang-Ds8a60tl.js";import{T as We,e as Ze,h as te,b as Xe,a as ts}from"./TransactionModal-CPPUjcKb.js";import{g as Vt,_ as Rt}from"./InstitutionAvatar.vue_vue_type_script_setup_true_lang-CK3104_Y.js";import{u as es,_ as ss}from"./useIsMobile-GnvanCJS.js";import{_ as os}from"./TransactionDetailModal.vue_vue_type_script_setup_true_lang-BafEu28V.js";import{_ as ls}from"./MobileToast.vue_vue_type_script_setup_true_lang-B7OQL7m_.js";import{a as as,_ as ns}from"./CreditCardModal.vue_vue_type_script_setup_true_lang-Bhy-iemo.js";import{A as is}from"./ApplicationLogo-BOzLhobD.js";import{a as ee,p as se,b as rs,f as ds,m as oe}from"./inputGuards-D5o9Fv27.js";import{_ as us}from"./CreateAccountFlowModal.vue_vue_type_script_setup_true_lang-Cf_gMi4g.js";import{_ as cs}from"./CreateCreditCardFlowModal.vue_vue_type_script_setup_true_lang-CIuVcAaE.js";import{_ as ms}from"./Modal.vue_vue_type_script_setup_true_lang-CPVNthxg.js";import{_ as vs}from"./HomeWidgetsManager.vue_vue_type_script_setup_true_lang-BOO31y8O.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AccountPickerSheet.vue_vue_type_script_setup_true_lang-D2aB78bt.js";const ps={key:0,class:"fixed inset-0 z-[95] bg-white"},xs={class:"flex items-center justify-between px-5 pt-[calc(1rem+env(safe-area-inset-top))]"},fs=["disabled"],bs={key:2,class:"h-10"},gs={class:"flex items-center gap-3"},hs={key:0,class:"text-xs font-bold text-slate-400"},ys=["disabled"],ws={class:"mx-auto flex h-[calc(100vh-5rem)] w-full max-w-md min-h-0 flex-col px-6 pb-[calc(2rem+env(safe-area-inset-bottom))]"},ks={key:0,class:"flex flex-1 min-h-0 flex-col"},_s={class:"mt-6 flex justify-center"},$s={class:"flex h-16 w-16 items-center justify-center rounded-3xl bg-slate-50 ring-1 ring-slate-200/60"},Cs={class:"mt-6 space-y-3"},Ms=["onClick"],Ds={key:0,class:"mt-4 rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},Bs={class:"mt-auto pt-6"},Ss=["disabled"],As={key:1,class:"flex flex-1 min-h-0 flex-col"},Ns={class:"mt-6 space-y-5"},Fs={class:"mt-2 flex h-12 items-center gap-2 rounded-2xl bg-slate-50 px-4 ring-1 ring-slate-200/60"},Ts=["value"],Ls={class:"mt-3 space-y-2"},js={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Is={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Ps={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Vs={key:0,class:"mt-4 rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},Rs={class:"mt-auto pt-6"},Es=["disabled"],Os={key:2,class:"flex flex-1 min-h-0 flex-col"},Us={class:"mt-6 space-y-2"},zs={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Hs={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Js={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Ks={key:0,class:"mt-6 space-y-5"},qs={class:"mt-2 flex h-12 items-center gap-2 rounded-2xl bg-slate-50 px-4 ring-1 ring-slate-200/60"},Gs=["value"],Ys={key:1,class:"mt-4 rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},Qs={class:"mt-auto pt-6"},Ws=["disabled"],Zs={key:3,class:"flex flex-1 min-h-0 flex-col justify-center text-center"},Xs={class:"mt-6 rounded-3xl bg-slate-50 p-4 text-left ring-1 ring-slate-200/60"},to={class:"mt-2 text-sm font-semibold text-slate-900"},eo={key:0,class:"mt-2 text-sm font-semibold text-slate-900"},so={key:0,class:"mt-4 rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},oo=["disabled"],lo=wt({__name:"OnboardingModal",props:{open:{type:Boolean}},emits:["close","done","add-first-expense"],setup(H,{emit:L}){const R=H,j=L,p=m(1),v=m(!1),g=m(""),b=m(null),C=[{key:"debt",label:"T√¥ no vermelho (d√≠vidas)"},{key:"zero",label:"T√¥ zerado todo m√™s"},{key:"save",label:"Quero juntar grana"},{key:"organize",label:"S√≥ organizar melhor"}],D=m(""),J=m(""),A=m("checking"),F=m("no"),E=m(""),y=m(""),w=d(()=>p.value===1?"1/3":p.value===2?"2/3":p.value===3?"3/3":""),h=d(()=>b.value!=null),et=d(()=>D.value.trim().length>0),st=d(()=>F.value!=="no"),q=d(()=>st.value?E.value.trim().length>0&&y.value.trim().length>0:!0),N=()=>j("close"),kt=()=>{g.value="",p.value===3?p.value=2:p.value===2&&(p.value=1)},_t=async()=>{v.value=!0,g.value="";try{await V("/api/user/onboarding",{method:"PATCH",body:JSON.stringify({goal:b.value})}),j("done")}catch{g.value="N√£o foi poss√≠vel pular agora. Tente novamente."}finally{v.value=!1}},ut=()=>{g.value="",p.value===1&&h.value?p.value=2:p.value===2&&et.value&&(p.value=3)},bt=$=>{J.value=rs($)},gt=$=>{y.value=ds($)},T=()=>{const $=D.value.trim(),l=oe(J.value||"0");if(A.value==="wallet")return{name:$,type:"wallet",icon:"wallet",institution:null,bank_account_type:null,initial_balance:l,color:"#14B8A6",incluir_soma:!0,is_primary:!0};const x=A.value==="savings"?"poupanca":"corrente";return{name:$,type:"bank",icon:"bank",institution:$,bank_account_type:x,initial_balance:l,color:"#3B82F6",incluir_soma:!0,is_primary:!0}},ot=()=>{const $=E.value.trim(),l=oe(y.value||"0"),x=A.value==="wallet"?$||null:D.value.trim()||$||null;return{name:$,type:"credit_card",icon:"credit",institution:x,initial_balance:0,credit_limit:Math.max(0,l),incluir_soma:!1,is_primary:!1}},ct=async()=>{v.value=!0,g.value="";try{await V("/api/contas",{method:"POST",body:JSON.stringify(T())}),st.value&&await V("/api/contas",{method:"POST",body:JSON.stringify(ot())}),await V("/api/user/onboarding",{method:"PATCH",body:JSON.stringify({goal:b.value})}),p.value=4}catch{g.value="N√£o foi poss√≠vel salvar suas configura√ß√µes. Tente novamente."}finally{v.value=!1}},mt=()=>{v.value=!0,g.value="",X.reload({only:["bootstrap"],onFinish:()=>{j("add-first-expense"),j("done"),v.value=!1}})},vt=d(()=>{const $=D.value.trim(),l=J.value.trim()||"0,00";return`${$} ¬∑ R$ ${l}`}),$t=d(()=>{const $=E.value.trim(),l=y.value.trim()||"0,00";return`${$} ¬∑ Limite R$ ${l}`});return ze(()=>R.open,$=>{$&&(p.value=1,v.value=!1,g.value="",b.value=null,D.value="",J.value="",A.value="checking",F.value="no",E.value="",y.value="")}),($,l)=>H.open?(n(),i("div",ps,[t("header",xs,[p.value>1&&p.value<4?(n(),i("button",{key:0,type:"button",class:"text-sm font-semibold text-slate-600",onClick:kt},"Voltar")):p.value<4?(n(),i("button",{key:1,type:"button",class:"text-sm font-semibold text-slate-400",disabled:v.value,onClick:_t},"Pular",8,fs)):(n(),i("div",bs)),t("div",gs,[w.value?(n(),i("div",hs,u(w.value),1)):k("",!0),t("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600 disabled:opacity-60",disabled:v.value,onClick:N,"aria-label":"Fechar"},[...l[12]||(l[12]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])],8,ys)])]),t("main",ws,[p.value===1?(n(),i("div",ks,[t("div",_s,[t("div",$s,[_(is,{class:"h-10 w-10 text-slate-900"})])]),l[13]||(l[13]=t("div",{class:"mt-8 text-center text-2xl font-semibold tracking-tight text-slate-900"},"Fala! Vamos come√ßar? ü§ü",-1)),l[14]||(l[14]=t("div",{class:"mt-6 text-center text-sm font-semibold text-slate-600"},"Qual seu maior desafio com dinheiro agora?",-1)),t("div",Cs,[(n(),i(Z,null,tt(C,x=>t("button",{key:x.key,type:"button",class:P(["w-full rounded-2xl border px-4 py-4 text-left text-sm font-semibold transition",b.value===x.key?"border-[#14B8A6] bg-[#E6FFFB] text-[#0F766E]":"border-slate-200 bg-white text-slate-800 hover:bg-slate-50"]),onClick:lt=>b.value=x.key},u(x.label),11,Ms)),64))]),g.value?(n(),i("div",Ds,u(g.value),1)):k("",!0),t("div",Bs,[t("button",{type:"button",class:"w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:v.value||!h.value,onClick:ut}," Continuar ",8,Ss)])])):p.value===2?(n(),i("div",As,[l[23]||(l[23]=t("div",{class:"mt-6 text-xl font-semibold tracking-tight text-slate-900"},"Qual sua conta principal?",-1)),l[24]||(l[24]=t("div",{class:"mt-1 text-sm font-semibold text-slate-500"},"(onde cai seu sal√°rio)",-1)),t("div",Ns,[t("div",null,[l[15]||(l[15]=t("label",{class:"text-xs font-semibold text-slate-500"},"Nome da conta",-1)),Q(t("input",{"onUpdate:modelValue":l[0]||(l[0]=x=>D.value=x),type:"text",class:"mt-2 h-12 w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 text-sm font-semibold text-slate-700 focus:border-emerald-200 focus:outline-none focus:ring-2 focus:ring-emerald-100",placeholder:'Ex: "Nubank", "Ita√∫", "Carteira"',maxlength:"60",autocomplete:"off"},null,512),[[Xt,D.value]])]),t("div",null,[l[17]||(l[17]=t("label",{class:"text-xs font-semibold text-slate-500"},"Quanto tem nela AGORA?",-1)),t("div",Fs,[l[16]||(l[16]=t("span",{class:"text-sm font-semibold text-slate-500"},"R$",-1)),t("input",{value:J.value,type:"text",inputmode:"decimal",placeholder:"0,00",class:"w-full bg-transparent text-right text-base font-semibold text-slate-900 outline-none",onKeydown:l[1]||(l[1]=(...x)=>S(ee)&&S(ee)(...x)),onInput:l[2]||(l[2]=x=>bt(x.target.value))},null,40,Ts)]),l[18]||(l[18]=t("div",{class:"mt-2 text-xs font-semibold text-slate-400"},"(pode ser negativo se t√° no cheque especial)",-1))]),t("div",null,[l[22]||(l[22]=t("div",{class:"text-xs font-semibold text-slate-500"},"Tipo de conta",-1)),t("div",Ls,[t("label",js,[Q(t("input",{"onUpdate:modelValue":l[3]||(l[3]=x=>A.value=x),type:"radio",value:"checking",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[dt,A.value]]),l[19]||(l[19]=z(" Conta corrente ",-1))]),t("label",Is,[Q(t("input",{"onUpdate:modelValue":l[4]||(l[4]=x=>A.value=x),type:"radio",value:"savings",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[dt,A.value]]),l[20]||(l[20]=z(" Poupan√ßa ",-1))]),t("label",Ps,[Q(t("input",{"onUpdate:modelValue":l[5]||(l[5]=x=>A.value=x),type:"radio",value:"wallet",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[dt,A.value]]),l[21]||(l[21]=z(" Carteira (dinheiro f√≠sico) ",-1))])])])]),g.value?(n(),i("div",Vs,u(g.value),1)):k("",!0),t("div",Rs,[t("button",{type:"button",class:"w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:v.value||!et.value,onClick:ut}," Continuar ",8,Es)])])):p.value===3?(n(),i("div",Os,[l[31]||(l[31]=t("div",{class:"mt-6 text-xl font-semibold tracking-tight text-slate-900"},"Voc√™ usa cart√£o de cr√©dito?",-1)),t("div",Us,[t("label",zs,[Q(t("input",{"onUpdate:modelValue":l[6]||(l[6]=x=>F.value=x),type:"radio",value:"problem",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[dt,F.value]]),l[25]||(l[25]=z(" Sim, e √© meu maior problema ",-1))]),t("label",Hs,[Q(t("input",{"onUpdate:modelValue":l[7]||(l[7]=x=>F.value=x),type:"radio",value:"controlled",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[dt,F.value]]),l[26]||(l[26]=z(" Sim, mas t√° controlado ",-1))]),t("label",Js,[Q(t("input",{"onUpdate:modelValue":l[8]||(l[8]=x=>F.value=x),type:"radio",value:"no",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[dt,F.value]]),l[27]||(l[27]=z(" N√£o uso ",-1))])]),st.value?(n(),i("div",Ks,[t("div",null,[l[28]||(l[28]=t("label",{class:"text-xs font-semibold text-slate-500"},"Nome do cart√£o",-1)),Q(t("input",{"onUpdate:modelValue":l[9]||(l[9]=x=>E.value=x),type:"text",class:"mt-2 h-12 w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 text-sm font-semibold text-slate-700 focus:border-emerald-200 focus:outline-none focus:ring-2 focus:ring-emerald-100",placeholder:'Ex: "Nubank Roxo"',maxlength:"60",autocomplete:"off"},null,512),[[Xt,E.value]])]),t("div",null,[l[30]||(l[30]=t("label",{class:"text-xs font-semibold text-slate-500"},"Qual o limite total do cart√£o?",-1)),t("div",qs,[l[29]||(l[29]=t("span",{class:"text-sm font-semibold text-slate-500"},"R$",-1)),t("input",{value:y.value,type:"text",inputmode:"numeric",pattern:"[0-9]*",placeholder:"0,00",class:"w-full bg-transparent text-right text-base font-semibold text-slate-900 outline-none",onKeydown:l[10]||(l[10]=(...x)=>S(se)&&S(se)(...x)),onInput:l[11]||(l[11]=x=>gt(x.target.value))},null,40,Gs)])])])):k("",!0),g.value?(n(),i("div",Ys,u(g.value),1)):k("",!0),t("div",Qs,[t("button",{type:"button",class:"w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:v.value||!q.value,onClick:ct},u(v.value?"Salvando‚Ä¶":"Concluir"),9,Ws)])])):(n(),i("div",Zs,[l[35]||(l[35]=t("div",{class:"mx-auto flex h-14 w-14 items-center justify-center rounded-3xl bg-emerald-50 text-emerald-700 ring-1 ring-emerald-100"}," ‚úÖ ",-1)),l[36]||(l[36]=t("div",{class:"mt-5 text-2xl font-semibold tracking-tight text-slate-900"},"Pronto!",-1)),t("div",Xs,[l[32]||(l[32]=t("div",{class:"text-xs font-bold uppercase tracking-wide text-slate-400"},"Resumo",-1)),t("div",to,u(vt.value),1),st.value?(n(),i("div",eo,u($t.value),1)):k("",!0),l[33]||(l[33]=t("div",{class:"my-4 h-px bg-slate-200/70"},null,-1)),l[34]||(l[34]=t("div",{class:"text-sm font-semibold text-slate-700"}," Agora bora lan√ßar seus gastos pra gente te mostrar se vai dar at√© o fim do m√™s! ",-1))]),g.value?(n(),i("div",so,u(g.value),1)):k("",!0),t("button",{type:"button",class:"mt-6 w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:v.value,onClick:mt},u(v.value?"Carregando‚Ä¶":"Adicionar meu primeiro gasto"),9,oo)]))])])):k("",!0)}}),ao={key:0,class:"rounded-2xl border-l-4 border-amber-500 bg-amber-50 p-4 shadow-sm ring-1 ring-amber-100"},no={class:"flex items-start gap-3"},io={class:"flex-1 min-w-0"},ro={class:"mt-1 text-sm text-amber-800"},uo={class:"mt-3 flex flex-wrap gap-2"},co=wt({__name:"InstitutionMissingAlert",props:{items:{}},emits:["fix-items","dismiss"],setup(H,{emit:L}){const R=H,j=L,p=d(()=>R.items.filter(b=>b.type==="account").length),v=d(()=>R.items.filter(b=>b.type==="card").length),g=d(()=>{const b=[];return p.value>0&&b.push(`${p.value} conta${p.value>1?"s":""}`),v.value>0&&b.push(`${v.value} cart√£o${v.value>1?"es":""}`),b.join(" e ")});return(b,C)=>H.items.length>0?(n(),i("div",ao,[t("div",no,[C[5]||(C[5]=ae('<div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-amber-100"><svg class="h-5 w-5 text-amber-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 9v4"></path><path d="M12 17h.01"></path><path d="M12 3c4.97 0 9 4.03 9 9s-4.03 9-9 9-9-4.03-9-9 4.03-9 9-9Z"></path></svg></div>',1)),t("div",io,[C[3]||(C[3]=t("h3",{class:"text-sm font-bold text-amber-900"}," A√ß√£o necess√°ria ",-1)),t("p",ro," Voc√™ tem "+u(g.value)+" sem institui√ß√£o configurada. Configure agora para ver as logos dos bancos! ",1),t("div",uo,[t("button",{type:"button",class:"rounded-lg bg-amber-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-amber-700",onClick:C[0]||(C[0]=D=>j("fix-items"))}," Configurar agora "),t("button",{type:"button",class:"rounded-lg border border-amber-300 bg-white px-4 py-2 text-sm font-semibold text-amber-900 transition hover:bg-amber-50",onClick:C[1]||(C[1]=D=>j("dismiss"))}," Lembrar depois ")])]),t("button",{type:"button",class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-amber-600 transition hover:bg-amber-100",onClick:C[2]||(C[2]=D=>j("dismiss")),"aria-label":"Fechar"},[...C[4]||(C[4]=[t("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])])])):k("",!0)}}),mo={key:0,class:"fixed inset-0 z-[70]"},vo={class:"absolute inset-0 w-full bg-white md:inset-auto md:left-1/2 md:top-1/2 md:max-h-[90vh] md:w-[600px] md:-translate-x-1/2 md:-translate-y-1/2 md:rounded-3xl md:shadow-2xl"},po={class:"flex h-full flex-col md:max-h-[90vh]"},xo={class:"flex items-center justify-between border-b border-slate-100 px-6 py-4"},fo={class:"mt-1 text-sm text-slate-500"},bo={class:"flex-1 overflow-y-auto px-6 py-4"},go={key:0,class:"flex h-full items-center justify-center py-12"},ho={class:"text-center"},yo={key:1,class:"space-y-3"},wo={class:"flex items-start gap-3"},ko=["innerHTML"],_o={class:"flex-1 min-w-0"},$o={class:"text-sm font-semibold text-slate-900"},Co={class:"mt-1 text-xs text-slate-500"},Mo={class:"mt-3"},Do=["onClick"],Bo={class:"flex min-w-0 items-center gap-3"},So={class:"min-w-0"},Ao={class:"truncate text-sm font-semibold text-slate-900"},No=["disabled","onClick"],Fo=wt({__name:"FixInstitutionModal",props:{open:{type:Boolean},items:{}},emits:["close","updated"],setup(H,{emit:L}){const R=H,j=L,p=m({}),v=m(new Set),g=m(new Set),b=m(null),C=d(()=>R.items.filter(y=>!g.value.has(y.id))),D=async y=>{const w=p.value[y.id];if(w){v.value.add(y.id);try{const h=y.type==="account"?`/api/contas/${y.id}`:`/api/cartoes/${y.id}`;await V(h,{method:"PATCH",body:JSON.stringify({institution:w})}),g.value.add(y.id),j("updated")}catch(h){console.error("Erro ao salvar institui√ß√£o:",h)}finally{v.value.delete(y.id)}}},J=y=>y==="card"?`<svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="5" width="18" height="14" rx="3" />
      <path d="M3 10h18" />
    </svg>`:`<svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M3 10h18" />
    <path d="M5 10V8l7-5 7 5v2" />
    <path d="M6 10v9" />
    <path d="M18 10v9" />
  </svg>`,A=y=>{b.value=y},F=()=>{b.value=null},E=d(()=>b.value?p.value[b.value]??null:null);return(y,w)=>(n(),i(Z,null,[H.open?(n(),i("div",mo,[t("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:w[0]||(w[0]=h=>y.$emit("close")),"aria-label":"Fechar"}),t("div",vo,[t("div",po,[t("header",xo,[t("div",null,[w[4]||(w[4]=t("h2",{class:"text-lg font-bold text-slate-900"},"Configurar Institui√ß√µes",-1)),t("p",fo,u(C.value.length)+" "+u(C.value.length===1?"item pendente":"itens pendentes"),1)]),t("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 text-slate-600 transition hover:bg-slate-100",onClick:w[1]||(w[1]=h=>y.$emit("close")),"aria-label":"Fechar"},[...w[5]||(w[5]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])]),t("div",bo,[C.value.length===0?(n(),i("div",go,[t("div",ho,[w[6]||(w[6]=ae('<div class="mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-emerald-50"><svg class="h-8 w-8 text-emerald-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6 9 17l-5-5"></path></svg></div><h3 class="mt-4 text-lg font-semibold text-slate-900">Tudo configurado!</h3><p class="mt-2 text-sm text-slate-500">Todas as institui√ß√µes foram configuradas.</p>',3)),t("button",{type:"button",class:"mt-6 rounded-xl bg-emerald-600 px-6 py-3 text-sm font-semibold text-white transition hover:bg-emerald-700",onClick:w[2]||(w[2]=h=>y.$emit("close"))}," Fechar ")])])):(n(),i("div",yo,[(n(!0),i(Z,null,tt(C.value,h=>(n(),i("div",{key:h.id,class:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm"},[t("div",wo,[t("div",{class:P(["flex h-10 w-10 shrink-0 items-center justify-center rounded-xl",h.type==="card"?"bg-purple-50 text-purple-600":"bg-blue-50 text-blue-600"]),innerHTML:J(h.type)},null,10,ko),t("div",_o,[t("div",$o,u(h.name),1),t("div",Co,u(h.type==="card"?"Cart√£o de cr√©dito":"Conta banc√°ria"),1),t("div",Mo,[w[8]||(w[8]=t("label",{class:"block text-xs font-semibold uppercase tracking-wide text-slate-500"}," Institui√ß√£o ",-1)),t("button",{type:"button",class:"mt-2 flex w-full items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-3 text-left",onClick:et=>A(h.id)},[t("div",Bo,[_(Rt,{institution:p.value[h.id]??null,"svg-path":S(Vt)(p.value[h.id]??null),"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-500"},null,8,["institution","svg-path"]),t("div",So,[t("div",Ao,u(p.value[h.id]||"Selecione o banco"),1)])]),w[7]||(w[7]=t("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1))],8,Do)]),t("button",{type:"button",class:P(["mt-3 w-full rounded-xl py-2 text-sm font-semibold transition",p.value[h.id]&&!v.value.has(h.id)?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-slate-200 text-slate-400 cursor-not-allowed"]),disabled:!p.value[h.id]||v.value.has(h.id),onClick:et=>D(h)},u(v.value.has(h.id)?"Salvando...":"Salvar"),11,No)])])]))),128))]))])])])])):k("",!0),_(as,{open:!!b.value,title:"Institui√ß√£o financeira",selected:E.value,onClose:F,onSelect:w[3]||(w[3]=h=>{b.value&&(p.value[b.value]=h.nome),F()})},null,8,["open","selected"])],64))}}),To={key:0,class:"flex items-center justify-between pt-2"},Lo={class:"flex h-11 w-11 items-center justify-center overflow-hidden rounded-full bg-slate-200 text-sm font-semibold text-slate-700"},jo=["src"],Io={key:1},Po={class:"leading-tight"},Vo={class:"text-xs font-semibold text-slate-400"},Ro={class:"flex items-center gap-2"},Eo={key:0,class:"absolute -right-0.5 -top-0.5 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-red-500 px-1.5 text-[10px] font-bold text-white"},Oo={class:"mt-6 rounded-3xl bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 p-5 shadow-lg ring-1 ring-slate-900/10"},Uo={class:"flex items-start justify-between gap-4"},zo={class:"mt-2 text-4xl font-semibold tracking-tight text-emerald-400"},Ho={class:"flex items-center gap-2"},Jo=["aria-label"],Ko={key:0,class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},qo={key:1,class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Go={class:"mt-4 grid grid-cols-2 gap-3"},Yo={class:"mt-1 text-base font-semibold text-white"},Qo={class:"mt-1 text-base font-semibold text-white"},Wo={key:1,class:"mt-5"},Zo={key:2,class:"mt-5 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Xo={class:"flex items-center justify-between"},tl={key:0,class:"rounded-full bg-red-50 px-3 py-1 text-xs font-semibold text-red-500"},el={key:1,class:"rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-600"},sl={key:0,class:"mt-4 rounded-lg border-l-4 border-red-500 bg-red-50 p-4 flex items-start gap-3"},ol={class:"flex-1"},ll={class:"mb-1 font-semibold text-red-900"},al={class:"text-sm text-red-700"},nl={key:1,class:"mt-4 rounded-lg border-l-4 border-emerald-500 bg-emerald-50 p-4 flex items-start gap-3"},il={class:"flex-1"},rl={class:"text-sm text-emerald-700"},dl={key:2,class:"mt-4"},ul={class:"relative mx-auto h-24"},cl={class:"grid h-24 grid-cols-6 items-end gap-3"},ml={class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-6 text-[10px] font-semibold text-slate-400"},vl={key:3,class:"mt-4"},pl={class:"grid grid-cols-6 items-end gap-3"},xl={class:"text-[10px] font-semibold text-slate-400"},fl={key:4,class:"mt-4 rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center"},bl={key:3,class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},gl={class:"flex items-center justify-between"},hl={class:"mt-0.5 text-xs font-semibold text-slate-400"},yl={key:0,class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-6 text-center"},wl={key:1,class:"mt-4 space-y-3"},kl={class:"flex items-center gap-3"},_l={class:"text-sm font-semibold text-slate-900"},$l={class:"text-xs text-slate-500"},Cl={class:"text-sm font-semibold text-slate-900"},Ml={key:4,class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Dl={class:"flex items-center justify-between"},Bl={class:"mt-0.5 text-xs font-semibold text-slate-400"},Sl={key:0,class:"mt-4 inline-flex w-full rounded-full bg-slate-50 p-1 ring-1 ring-slate-200/70"},Al={key:1,class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-6 text-center"},Nl={key:2,class:"mt-4"},Fl={key:0,class:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center"},Tl={key:1,class:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide"},Ll={class:"relative z-10 flex h-full flex-col justify-between text-white",style:{"min-height":"180px"}},jl={class:"flex items-start justify-between"},Il={class:"flex items-center gap-3"},Pl={class:"text-sm font-semibold"},Vl={key:0,class:"rounded bg-white/20 px-2 py-0.5 text-[9px] font-bold uppercase tracking-wide"},Rl={class:"mt-4"},El={class:"mt-1 text-3xl font-bold tracking-tight"},Ol={class:"mt-4 h-1.5 overflow-hidden rounded-full bg-white/30"},Ul={class:"mt-2 flex items-center justify-between text-[11px] font-semibold"},zl={class:"opacity-90"},Hl={class:"opacity-90"},Jl={key:0,class:"mt-3 flex items-center gap-1.5 text-[11px] font-semibold opacity-90"},Kl={class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4 text-sm font-semibold text-slate-700"},ql={class:"flex items-center justify-between"},Gl={class:"text-slate-900"},Yl={key:5,class:"mt-6"},Ql={class:"flex items-center justify-between"},Wl={key:0,class:"mt-4 space-y-3"},Zl=["onClick"],Xl={class:"flex h-14 w-14 flex-col items-center justify-center rounded-2xl bg-slate-50 text-slate-600 ring-1 ring-slate-200/70"},ta={class:"text-[10px] font-semibold uppercase text-slate-400"},ea={class:"text-base font-semibold"},sa={class:"min-w-0 flex-1"},oa={class:"truncate text-sm font-semibold text-slate-900"},la={class:"truncate text-xs text-slate-400"},aa={class:"flex flex-col items-end gap-2 text-right"},na=["aria-label","onClick"],ia={key:0,class:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},ra={class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},da={class:"p-5"},ua={class:"flex items-center justify-between"},ca={class:"mt-4"},ma="kitamo:home_widgets",le="kitamo:institution_alert_dismissed:v1",Aa=wt({__name:"Dashboard",setup(H){const L=He(),R=d(()=>L.props.auth?.user?.name??"Gabriel"),j=d(()=>String(R.value).trim().split(/\s+/)[0]??R.value),p=d(()=>L.props?.auth?.user?.avatar_url??L.props?.auth?.user?.profile_photo_url??null),v=d(()=>L.props.bootstrap??{entries:[],goals:[],accounts:[],categories:[],tags:[]}),g=es(),b=m({accounts:!0,creditCards:!0,projection:!0,upcomingBills:!0}),C=()=>{try{const e=localStorage.getItem(ma);if(!e)return;const s=JSON.parse(e);b.value={...b.value,...s}}catch{}},D=m(0),J=async()=>{try{const e=await V(route("api.notifications.count-unread"));D.value=Number(e.count??0)}catch{}},A=d(()=>b.value.accounts),F=d(()=>b.value.creditCards),E=d(()=>b.value.projection),y=d(()=>b.value.upcomingBills),w=d(()=>{const e=String(R.value).trim().split(/\s+/).filter(Boolean),s=e[0]?.[0]??"G",o=e.length>1?e[e.length-1]?.[0]:"F";return`${s}${o}`.toUpperCase()}),h=d(()=>new Intl.DateTimeFormat("pt-BR",{day:"numeric",month:"long",year:"numeric"}).format(new Date)),et=d(()=>g.value?ss:Ye),st=d(()=>g.value?{showNav:!0}:{title:"Vis√£o Geral",subtitle:h.value,searchPlaceholder:"Buscar transa√ß√£o‚Ä¶",newActionLabel:"Nova Transa√ß√£o"}),q=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),N=m(v.value.entries??[]),kt=m(v.value.goals??[]),_t=e=>{let s=0,o=0;for(const a of e)a.kind==="income"?s+=a.amount:o+=a.amount;return{income:s,expense:o,balance:s-o}},ut=m(0),bt=m(0),gt=m(0),T=m(!1),ot=m(!1);m(!1);const ct=m(!(L.props?.auth?.user?.onboarding_completed_at??null)),mt=m(!1),vt=m(!1),$t=()=>(v.value.accounts??[]).filter(e=>e.type!=="credit_card").filter(e=>e.incluir_soma??!0).reduce((e,s)=>e+Number(s.current_balance??0),0),$=()=>{const e=_t(N.value);ut.value=$t(),bt.value=e.income,gt.value=e.expense};$();const l=e=>T.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":q(e),x=e=>{T.value=e;try{localStorage.setItem("kitamo_hide_values",e?"1":"0")}catch{}};try{T.value=localStorage.getItem("kitamo_hide_values")==="1"}catch{}const lt=e=>{if(!e)return null;const s=String(e).split("-").map(c=>Number(c));if(s.length!==3)return null;const[o,a,f]=s;if(!Number.isFinite(o)||!Number.isFinite(a)||!Number.isFinite(f))return null;const r=new Date(o,a-1,f);return Number.isFinite(r.getTime())?r:null},Et=d(()=>{const e=N.value;if(!e.length)return[];const s=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],o=new Date,a=Array.from({length:6},(r,c)=>{const M=new Date(o.getFullYear(),o.getMonth()-(5-c),1);return{key:`${M.getFullYear()}-${M.getMonth()+1}`,label:s[M.getMonth()],total:0,highlight:c===5}});for(const r of e){if(!r.transactionDate)continue;const c=lt(r.transactionDate)??new Date(r.transactionDate),M=`${c.getFullYear()}-${c.getMonth()+1}`,O=a.find(It=>It.key===M);O&&(O.total+=r.kind==="income"?r.amount:-r.amount)}const f=Math.max(...a.map(r=>Math.abs(r.total)),1);return a.map(r=>{const c=Math.abs(r.total)/f,M=Math.round(70+c*90),O=c>.66?"bg-[#14B8A6]":c>.33?"bg-[#34D399]":"bg-[#A7F3D0]";return{label:r.label,height:M,amount:Math.abs(r.total),tone:O,highlight:r.highlight}})}),ne=e=>{const s=new Intl.DateTimeFormat("pt-BR",{month:"short"});return e.filter(o=>o.kind==="expense").filter(o=>!!o.transactionDate).filter(o=>o.status!=="paid").map(o=>{const a=lt(o.transactionDate)??new Date,f=s.format(a).replace(".","").toLowerCase(),r=String(a.getDate()).padStart(2,"0");return{id:o.id,month:f,day:r,title:o.title,subtitle:o.categoryLabel,amountLabel:q(o.amount),paid:o.status==="paid",_date:a}}).sort((o,a)=>o._date.getTime()-a._date.getTime()).slice(0,3)},Ot=d(()=>ne(N.value));d(()=>N.value.filter(e=>!!e.transactionDate).sort((e,s)=>{const o=lt(e.transactionDate)??new Date;return(lt(s.transactionDate)??new Date).getTime()-o.getTime()}).slice(0,5));const Ct=d(()=>(v.value.accounts??[]).filter(e=>e.type!=="credit_card").map(e=>{const s=e.institution??null,o=e.svgPath??null;return{id:e.id,label:e.name,subtitle:"Saldo atual",amount:e.current_balance,color:e.color??(e.type==="wallet"?"#14B8A6":"#3B82F6"),institution:s,svgPath:o??(s?Vt(s):null),type:e.type,icon:e.icon??(e.type==="wallet"?"wallet":"bank")}})),ie=d(()=>{const e=Ct.value.length||0;return`${e}¬†conta${e===1?"":"s"}`}),at=d(()=>(v.value.accounts??[]).filter(e=>e.type==="credit_card").map(e=>{const s=e.institution??null,o=e.svgPath??null,a=s??e.name??null;return{id:e.id,label:e.name,brand:e.card_brand??"visa",color:e.color??"#8B5CF6",limit:Number(e.credit_limit??0),used:Math.max(0,Number(e.current_balance??0)),closingDay:Number(e.closing_day??0)||null,dueDay:Number(e.due_day??0)||null,institution:s,svgPath:o??(a?Vt(a):null),is_primary:!!(e.is_primary??!1)}})),pt=m([]),Mt=async()=>{if(!(at.value.length>0))try{const e=await V("/api/cartoes",{method:"GET"});pt.value=e.cartoes??[]}catch{pt.value=[]}},G=m("all"),re=e=>new Intl.DateTimeFormat("pt-BR",{day:"numeric",month:"long",year:"numeric"}).format(e),de=(e,s)=>{const o=s.getFullYear(),a=s.getMonth(),r=s.getDate()<=e?a:a+1,c=new Date(o,r+1,0).getDate(),M=Math.min(e,c);return new Date(o,r,M)},ue=(e,s)=>e?s.getDate()>e:!1,Dt=d(()=>{const e=new Date;return(at.value.length>0?at.value.map(o=>({id:o.id,label:o.label,brand:o.brand,color:o.color,limit:o.limit,used:o.used,closingDay:o.closingDay,dueDay:o.dueDay,institution:o.institution??null,svgPath:o.svgPath??null,is_primary:o.is_primary??!1})):pt.value.map(o=>({id:o.id,label:o.nome,brand:o.bandeira,color:o.cor,limit:o.limite,used:o.limite_usado??0,closingDay:o.dia_fechamento??null,dueDay:o.dia_vencimento??null,institution:o.banco??null,svgPath:o.svgPath??null,is_primary:o.is_primary??!1}))).map(o=>{const a=o.limit>0?Math.min(100,Math.max(0,o.used/o.limit*100)):0,f=o.limit>0?Math.max(0,o.limit-o.used):0,r=ue(o.closingDay,e),c=o.closingDay?de(o.closingDay,e):null;return{...o,percent:a,available:f,closed:r,closingDateLabel:c?re(c):null,percentLabel:`${a.toFixed(2)}%`,brandLabel:o.brand==="mastercard"?"Mastercard":o.brand==="elo"?"Elo":o.brand==="amex"?"Amex":"Visa"}}).filter(o=>G.value==="all"?!0:G.value==="open"?!o.closed:o.closed)}),Ut=d(()=>{const e=at.value.length>0?at.value.length:0,s=pt.value.length>0?pt.value.length:0;return e>0?e:s}),ce=d(()=>{const e=Ut.value||0;return`${e}¬†cart√£o${e===1?"":"s"}`}),me=d(()=>Dt.value.reduce((e,s)=>e+(s.used||0),0));d(()=>(v.value.accounts??[]).slice(0,3).map(e=>({id:e.id,name:e.name,subtitle:e.type==="credit_card"?"Fatura aberta":"Saldo atual",amount:e.current_balance??0,type:e.type})));const B=d(()=>L.props.projecao??null),ve=d(()=>!!B.value?.projecao_diaria?.length),pe=e=>{const[s,o,a]=e.split("-");return!s||!o||!a?e:`${a}/${o}`},xe=e=>{const[s,o,a]=e.split("-").map(M=>M.trim()),f=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],r=Number(o)-1,c=f[r]??o;return`${a}/${c}`},fe=e=>{const s=String(e??"").trim().match(/^(\d{2})\/(\d{2})$/);if(!s)return"";const[,o,a]=s,f=Number(a)-1;if(!Number.isFinite(f)||f<0||f>11)return"";const r=new Date(new Date().getFullYear(),f,Number(o)||1),c=new Intl.DateTimeFormat("pt-BR",{month:"long"}).format(r);return c?c.charAt(0).toUpperCase()+c.slice(1):""},zt=d(()=>{const e=B.value?.primeiro_dia_negativo;return e?fe(e):""}),ht=d(()=>{if(!B.value)return null;const e=B.value.projecao_diaria??[];if(!e.length)return null;const s=6,a=(e.length<=s?e.map((U,it)=>it):Array.from({length:s},(U,it)=>Math.round(it*(e.length-1)/(s-1)))).map(U=>e[U]).filter(Boolean),f=a.map(U=>U.saldo),r=Math.max(0,...f),c=Math.min(0,...f),M=96,O=Math.round(r===0&&c===0?M/2:r/(r-c)*M),It=r>0?O/r:0,Re=c<0?(M-O)/Math.abs(c):0,Wt=B.value.primeiro_dia_negativo;return{bars:a.map(U=>{const it=pe(U.data),Ee=!!(Wt&&it===Wt),rt=U.saldo,Oe=rt<0?"bg-[#EF4444]":"bg-[#14B8A6]",Zt=rt>=0?Math.round(rt*It):Math.round(Math.abs(rt)*Re),Ue=rt>=0?Math.max(0,O-Zt):O;return{key:U.data,label:it,labelShort:xe(U.data),saldo:rt,tone:Oe,heightPx:Math.max(2,Zt),topPx:Ue,showCriticalBadge:Ee}}),baselinePx:O,chartHeight:M}});d(()=>N.value.length>0),d(()=>kt.value.length>0);const be=d(()=>Et.value.length>0),ge=d(()=>Ot.value.length>0),Bt=m(!1),Ht=m(""),Y=e=>{Ht.value=e,Bt.value=!0},St=m(!1),At=m(!1),Nt=m(!1),he=async e=>{try{await V("/api/cartoes",{method:"POST",body:JSON.stringify({...e,icone:"credit-card"})}),Y("Cart√£o adicionado com sucesso!"),At.value=!1,await Mt(),X.reload()}catch{Y("N√£o foi poss√≠vel adicionar o cart√£o")}},ye=async()=>{await Mt(),X.reload()},Jt=e=>{const s=N.value.findIndex(o=>o.id===e.id);s>=0?N.value[s]=e:N.value.unshift(e),$()},we=e=>{N.value=N.value.filter(s=>s.id!==e),$()},ke=e=>({kind:e.kind,amount:e.amount,description:e.title,category:e.categoryLabel,account:e.accountLabel,dateKind:e.transactionDate?"other":"today",dateOther:e.transactionDate??"",isPaid:e.status==="paid"||e.status==="received",isInstallment:!!e.installment,installmentCount:e.installment?Yt(e.installment):void 0,tags:e.tags??[]}),Ft=m(!1),Tt=m(null),nt=m(!1),xt=m(null),_e=e=>{if(!e)return"";const s=lt(e)??new Date(e);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(s)},$e=e=>{const s=e.toLowerCase();return s.includes("carteira")||s.includes("wallet")?"wallet":s.includes("card")||s.includes("cr√©dito")||s.includes("credito")?"card":"bank"},Ce=e=>{const s=(e.icon??"").toLowerCase();if(["food","home","car","game","heart","briefcase","pill","money","trend","bolt","cart","shirt","gym","sparkles"].includes(s))return s;const o=(e.categoryLabel??"").toLowerCase();return o.includes("alimenta√ß√£o")||o.includes("comida")?"cart":o.includes("moradia")||o.includes("home")?"home":o.includes("transporte")||o.includes("carro")?"car":o.includes("lazer")||o.includes("game")?"sparkles":o.includes("sa√∫de")||o.includes("health")?"heart":o.includes("sal√°rio")||o.includes("renda")?"money":o.includes("trabalho")||o.includes("freelance")?"briefcase":"bolt"},Me=d(()=>{const e=o=>{const a=o.toLowerCase();return a.includes("aliment")?"amber":a.includes("mora")||a.includes("casa")?"blue":a.includes("transp")||a.includes("uber")||a.includes("car")?"slate":a.includes("lazer")?"purple":a.includes("sa√∫d")||a.includes("saude")?"red":a.includes("estud")?"green":"slate"},s=new Map;for(const o of v.value.categories??[]){const a=o.name,f=o.icon??"other",r=o.type==="income"?"income":o.type==="expense"?"expense":void 0,c=s.get(a),M=c?.kind&&r&&c.kind!==r?void 0:c?.kind??r;s.set(a,{label:a,icon:c?.icon&&c.icon!=="other"?c.icon:f,kind:M,customColor:c?.customColor??(o.color||void 0),tone:c?.tone??(!o.icon||/^[a-z]+$/.test(o.icon)?e(a):void 0)})}return s.size?Array.from(s.values()).map(o=>({key:o.label,label:o.label,icon:o.icon,customColor:o.customColor,tone:o.tone,kind:o.kind})):[]}),Kt=d(()=>{const e=[];for(const s of v.value.accounts??[])s.type!=="credit_card"&&e.push({key:s.name,label:s.name,subtitle:s.type==="wallet"?"Dinheiro f√≠sico":s.type==="bank"?"Corrente":"Conta",balance:Number(s.current_balance??0),icon:s.icon??void 0,customColor:s.color,type:s.type});for(const s of v.value.accounts??[]){if(s.type!=="credit_card")continue;const o=Number(s.credit_limit??0),a=Math.max(0,Number(s.current_balance??0));e.push({key:s.name,label:s.name,subtitle:"Cart√£o de Cr√©dito",limit:o,used:a,available:o-a,icon:s.icon??void 0,customColor:s.color,type:"credit_card"})}return e}),De=d(()=>{const e=xt.value;if(!e)return null;const s=new Map((v.value.categories??[]).map(r=>[`${r.type??""}|${String(r.name??"").toLowerCase()}`,r])),o=e.kind==="income"?"income":"expense",a=s.get(`${o}|${String(e.categoryLabel??"").toLowerCase()}`)??null,f=(v.value.accounts??[]).find(r=>r.name===e.accountLabel)??null;return{id:e.id,title:e.title,amount:e.amount,kind:e.kind,status:e.status,categoryLabel:e.categoryLabel,categoryIcon:a?.icon??Ce(e),categoryColor:a?.color??null,accountLabel:e.accountLabel,accountIcon:$e(e.accountLabel),accountType:f?.type??null,accountInstitution:f?.institution??null,accountSvgPath:f?.svgPath??null,accountColor:f?.color??null,accountSystemIcon:f?.icon??null,dateLabel:_e(e.transactionDate)||e.dateLabel,installmentLabel:e.installment??void 0,receiptUrl:e.receiptUrl??null,receiptName:e.receiptName??null}}),ft=m(!1),Lt=m("expense"),yt=m(null),qt=m(!1),Gt=e=>{Lt.value=e,yt.value=null,qt.value=!1,ft.value=!0},Yt=e=>{if(!e)return 3;const s=e.match(/\/\s*(\d+)/);if(!s)return 3;const o=Number(s[1]);return Number.isFinite(o)&&o>0?o:3},Be=e=>{const s=(()=>{const a=Kt.value.filter(c=>c.type!=="credit_card").map(c=>c.key),f=a[0]??e.accountLabel??"",r=a.find(c=>c!==f)??f;return{from:f,to:r}})();Lt.value=e.kind;const o={id:e.id,kind:e.kind,amount:e.amount,description:e.title,category:e.categoryLabel,account:e.accountLabel,dateKind:e.transactionDate?"other":"today",dateOther:e.transactionDate??"",transactionDate:e.transactionDate??"",isInstallment:!!e.installment,installmentCount:Yt(e.installment),isPaid:e.status==="paid"||e.status==="received",tags:e.tags??[],receiptFile:null,receiptUrl:e.receiptUrl??null,receiptName:e.receiptName??null,removeReceipt:!1,transferFrom:s.from,transferTo:s.to,transferDescription:"",despesaFixa:!!e.isFixed,repetir:!!e.isRecurring&&!e.isFixed,recurrenceGroupId:e.recurrenceGroupId??null,isFixed:!!e.isFixed,recurrenceEveryMonths:e.recurrenceEveryMonths??null,recurrenceEndsAt:e.recurrenceEndsAt??null};if(g.value){yt.value=o,ft.value=!0;return}yt.value=o,ft.value=!0},Se=e=>{if(g.value){xt.value=e,nt.value=!0;return}xt.value=e,nt.value=!0,Tt.value=e,Ft.value=!0},Qt=()=>{const e=g.value?xt.value:Tt.value;e&&(Ft.value=!1,nt.value=!1,Be(e))},Ae=async()=>{const e=g.value?xt.value:Tt.value;e&&(await V(route("transactions.destroy",e.id),{method:"DELETE"}),we(e.id),Ft.value=!1,nt.value=!1,Y("Lan√ßamento exclu√≠do"))},Ne=async e=>{if(e.kind==="transfer"){try{await Ze(e),Y("Transfer√™ncia realizada"),X.reload({only:["bootstrap"]})}catch{Y("N√£o foi poss√≠vel realizar a transfer√™ncia")}return}const s=e.id?route("transactions.update",e.id):route("transactions.store"),o=e.id?"PATCH":"POST",a=await(te(e)?Qe:V)(s,{method:o,body:te(e)?Xe(e):JSON.stringify(ts(e))});Jt(a.entry),Y(e.id?"Lan√ßamento atualizado":"Lan√ßamento criado")},Fe=async e=>{const s=N.value.find(r=>r.id===e);if(!s||s.kind!=="expense")return;const o=s.status==="paid"?"pending":"paid",a={...ke({...s,status:o}),isPaid:o==="paid"},f=await V(route("transactions.update",s.id),{method:"PATCH",body:JSON.stringify(a)});Jt(f.entry),o==="paid"&&Y("Conta marcada como paga"),X.reload({only:["bootstrap"]})},Te=e=>{const s=N.value.find(o=>o.id===e);s&&Se(s)},Le=()=>{X.visit(route("settings"))},jt=d(()=>{const e=[];for(const s of v.value.accounts??[])s.type!=="credit_card"&&s.type!=="wallet"&&!s.institution&&e.push({id:s.id,name:s.name,type:"account"});for(const s of v.value.accounts??[])s.type==="credit_card"&&!s.institution&&e.push({id:s.id,name:s.name,type:"card"});return e}),je=d(()=>jt.value.length>0&&!vt.value),Ie=()=>{mt.value=!0},Pe=()=>{vt.value=!0;try{localStorage.setItem(le,"1")}catch{}},Ve=()=>{X.reload()};return Je(()=>{C(),Mt(),J();try{localStorage.removeItem("kitamo:onboarding:v1")}catch{}try{vt.value=localStorage.getItem(le)==="1"}catch{}}),(e,s)=>(n(),Pt(Ge(et.value),qe(st.value,{onAdd:s[19]||(s[19]=o=>Gt("expense"))}),{default:I(()=>[S(g)?(n(),i("header",To,[t("button",{type:"button",onClick:Le,class:"flex items-center gap-3","aria-label":"Abrir perfil"},[t("span",Lo,[p.value?(n(),i("img",{key:0,src:p.value,alt:"",class:"h-full w-full object-cover"},null,8,jo)):(n(),i("span",Io,u(w.value),1))]),t("div",Po,[t("div",Vo,"OL√Å, "+u(j.value.toUpperCase()),1),s[20]||(s[20]=t("div",{class:"text-xl font-semibold tracking-tight text-slate-900"},"Vis√£o Geral",-1))])]),t("div",Ro,[_(S(K),{href:e.route("notifications.index"),class:"relative flex h-11 w-11 items-center justify-center rounded-full bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60 hover:bg-slate-50","aria-label":"Notifica√ß√µes"},{default:I(()=>[D.value>0?(n(),i("span",Eo,u(D.value>9?"9+":D.value),1)):k("",!0),s[21]||(s[21]=t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 7 3 7H3s3 0 3-7"}),t("path",{d:"M10 21a2 2 0 0 0 4 0"})],-1))]),_:1},8,["href"])])])):k("",!0),t("section",Oo,[t("div",Uo,[t("div",null,[s[22]||(s[22]=t("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-slate-300"},"Saldo Total",-1)),t("div",zo,u(l(ut.value)),1)]),t("div",Ho,[t("button",{type:"button",class:"mt-1 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white ring-1 ring-white/10","aria-label":T.value?"Mostrar valores":"Ocultar valores",onClick:s[0]||(s[0]=o=>x(!T.value))},[T.value?(n(),i("svg",Ko,[...s[23]||(s[23]=[t("path",{d:"M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z"},null,-1),t("path",{d:"M12 15a3 3 0 1 0 0-6"},null,-1),t("path",{d:"M4 4l16 16"},null,-1)])])):(n(),i("svg",qo,[...s[24]||(s[24]=[t("path",{d:"M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z"},null,-1),t("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))],8,Jo)])]),t("div",Go,[_(S(K),{href:e.route("accounts.index",{kind:"income"}),class:"rounded-2xl bg-white/5 p-4 ring-1 ring-white/10","aria-label":"Ver receitas"},{default:I(()=>[s[25]||(s[25]=t("div",{class:"flex items-center justify-between text-[10px] font-semibold uppercase tracking-wide text-emerald-300"},[t("span",null,"Entrou"),t("svg",{class:"h-4 w-4 text-white/70",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1)),t("div",Yo,u(l(bt.value)),1)]),_:1},8,["href"]),_(S(K),{href:e.route("accounts.index",{kind:"expense"}),class:"rounded-2xl bg-white/5 p-4 ring-1 ring-white/10","aria-label":"Ver despesas"},{default:I(()=>[s[26]||(s[26]=t("div",{class:"flex items-center justify-between text-[10px] font-semibold uppercase tracking-wide text-red-300"},[t("span",null,"Saiu"),t("svg",{class:"h-4 w-4 text-white/70",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1)),t("div",Qo,u(l(gt.value)),1)]),_:1},8,["href"])])]),je.value?(n(),i("section",Wo,[_(co,{items:jt.value,onFixItems:Ie,onDismiss:Pe},null,8,["items"])])):k("",!0),E.value?(n(),i("section",Zo,[t("div",Xo,[s[27]||(s[27]=t("div",{class:"flex items-center gap-3"},[t("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-emerald-50 text-emerald-600"},[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 19V5"}),t("path",{d:"M10 19V9"}),t("path",{d:"M16 19v-4"}),t("path",{d:"M22 19V7"})])]),t("div",{class:"text-base font-semibold text-slate-900"},"Proje√ß√£o 30 dias")],-1)),B.value?.primeiro_dia_negativo?(n(),i("div",tl," ‚ö†Ô∏è "+u(zt.value||B.value.primeiro_dia_negativo),1)):B.value&&B.value.saldo_dia_30>0?(n(),i("div",el," ‚úÖ "+u(q(Math.abs(B.value.saldo_dia_30))),1)):k("",!0)]),B.value?.primeiro_dia_negativo?(n(),i("div",sl,[s[29]||(s[29]=t("div",{class:"text-xl text-red-500"},"‚ö†Ô∏è",-1)),t("div",ol,[t("h3",ll," Aten√ß√£o: Seu saldo pode ficar negativo em "+u(zt.value||"breve"),1),t("p",al," No ritmo atual, seu saldo pode ficar negativo a partir do dia "+u(B.value.primeiro_dia_negativo)+". ",1),_(S(K),{href:e.route("analysis"),class:"mt-2 inline-flex text-sm font-medium text-red-600 hover:underline"},{default:I(()=>[...s[28]||(s[28]=[z(" Ver an√°lise detalhada ‚Üí ",-1)])]),_:1},8,["href"])])])):B.value&&B.value.saldo_dia_30>0?(n(),i("div",nl,[s[31]||(s[31]=t("div",{class:"text-xl text-emerald-600"},"‚úÖ",-1)),t("div",il,[s[30]||(s[30]=t("h3",{class:"mb-1 font-semibold text-emerald-900"},"T√° tranquilo!",-1)),t("p",rl," Voc√™ pode gastar at√© "+u(q(Math.abs(B.value.saldo_dia_30)))+" at√© o fim do m√™s ",1)])])):k("",!0),ve.value&&ht.value?(n(),i("div",dl,[t("div",ul,[t("div",{class:"pointer-events-none absolute left-0 right-0 border-t-2 border-dashed border-[#EF4444]",style:W({top:`${ht.value.baselinePx}px`})},null,4),t("div",{class:"pointer-events-none absolute right-0 -translate-y-1/2 text-[10px] font-semibold text-[#EF4444]",style:W({top:`${ht.value.baselinePx}px`})}," Saldo zero ",4),t("div",cl,[(n(!0),i(Z,null,tt(ht.value.bars,o=>(n(),i("div",{key:o.key,class:"relative h-24 text-center"},[o.showCriticalBadge?(n(),i("div",{key:0,class:"absolute left-1/2 -translate-x-1/2 rounded-full bg-red-50 px-2 py-1 text-[10px] font-semibold text-red-600",style:W({top:`${Math.max(0,o.topPx-22)}px`})}," ‚ö†Ô∏è "+u(o.labelShort),5)):k("",!0),t("div",{class:P(["mx-auto w-8 rounded-2xl",o.tone]),style:W({height:`${o.heightPx}px`,position:"absolute",left:"50%",transform:"translateX(-50%)",top:`${o.topPx}px`})},null,6),t("div",ml,u(o.labelShort),1)]))),128))])])])):be.value?(n(),i("div",vl,[t("div",pl,[(n(!0),i(Z,null,tt(Et.value,o=>(n(),i("div",{key:o.label,class:"text-center"},[t("div",xl,u(T.value?"‚Ä¢‚Ä¢‚Ä¢‚Ä¢":q(o.amount).replace("R$","").trim()),1),t("div",{class:P(["mx-auto mt-2 w-8 rounded-2xl",o.tone]),style:W({height:`${o.height}px`})},null,6),t("div",{class:P(["mt-2 text-[10px] font-semibold",o.highlight?"text-emerald-600":"text-slate-400"])},u(o.label),3)]))),128))])])):(n(),i("div",fl,[...s[32]||(s[32]=[t("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[t("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 19V5"}),t("path",{d:"M10 19V9"}),t("path",{d:"M16 19v-4"}),t("path",{d:"M22 19V7"})])],-1),t("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Sem proje√ß√µes ainda",-1),t("div",{class:"mt-1 text-xs text-slate-500"},"Adicione seus primeiros lan√ßamentos para ver o fluxo.",-1)])]))])):k("",!0),A.value?(n(),i("section",bl,[t("div",gl,[t("div",null,[s[33]||(s[33]=t("div",{class:"text-lg font-semibold text-slate-900"},"Contas",-1)),t("div",hl,u(ie.value),1)]),_(S(K),{href:e.route("accounts.overview"),class:"rounded-2xl px-3 py-2 text-sm font-semibold text-emerald-600 hover:bg-slate-50"},{default:I(()=>[...s[34]||(s[34]=[z(" Ver todas ",-1)])]),_:1},8,["href"])]),Ct.value.length===0?(n(),i("div",yl,[s[35]||(s[35]=t("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[t("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 10h18"}),t("path",{d:"M5 10V8l7-5 7 5v2"}),t("path",{d:"M6 10v9"}),t("path",{d:"M18 10v9"})])],-1)),s[36]||(s[36]=t("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Voc√™ ainda n√£o possui contas cadastradas.",-1)),s[37]||(s[37]=t("div",{class:"mt-1 text-xs text-slate-500"},"Adicione uma conta para come√ßar a planejar seu m√™s.",-1)),t("button",{type:"button",class:"mt-4 rounded-full bg-emerald-500 px-4 py-2 text-xs font-semibold text-white",onClick:s[1]||(s[1]=o=>St.value=!0)}," Adicionar contas ")])):(n(),i("div",wl,[(n(!0),i(Z,null,tt(Ct.value,o=>(n(),Pt(S(K),{key:o.id,href:e.route("accounts.show",{accountKey:o.id}),class:"flex items-center justify-between rounded-2xl border border-slate-100 bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60"},{default:I(()=>[t("div",kl,[_(Rt,{institution:o.institution??o.label,"svg-path":o.svgPath,"is-wallet":o.type==="wallet"||o.icon==="wallet","fallback-icon":o.type==="wallet"||o.icon==="wallet"?"wallet":"account","container-class":"flex h-11 w-11 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-8 w-8 object-contain","fallback-icon-class":"h-5 w-5 text-white",style:W(o.svgPath?void 0:{backgroundColor:o.color})},null,8,["institution","svg-path","is-wallet","fallback-icon","style"]),t("div",null,[t("div",_l,u(o.label),1),t("div",$l,u(o.subtitle),1)])]),t("div",Cl,u(T.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":`R$ ${o.amount.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`),1)]),_:2},1032,["href"]))),128))]))])):k("",!0),F.value?(n(),i("section",Ml,[t("div",Dl,[t("div",null,[s[38]||(s[38]=t("div",{class:"text-lg font-semibold text-slate-900"},"Cart√µes de cr√©dito",-1)),t("div",Bl,u(ce.value),1)]),_(S(K),{href:e.route("credit-cards.my-cards"),class:"text-sm font-semibold text-emerald-600"},{default:I(()=>[...s[39]||(s[39]=[z("Ver todas",-1)])]),_:1},8,["href"])]),Ut.value>0?(n(),i("div",Sl,[t("button",{type:"button",class:P(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",G.value==="all"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[2]||(s[2]=o=>G.value="all")}," Todas ",2),t("button",{type:"button",class:P(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",G.value==="open"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[3]||(s[3]=o=>G.value="open")}," Faturas abertas ",2),t("button",{type:"button",class:P(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",G.value==="closed"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[4]||(s[4]=o=>G.value="closed")}," Faturas fechadas ",2)])):k("",!0),at.value.length===0?(n(),i("div",Al,[s[40]||(s[40]=t("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[t("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"5",width:"18",height:"14",rx:"3"}),t("path",{d:"M3 10h18"})])],-1)),s[41]||(s[41]=t("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Voc√™ ainda n√£o possui cart√µes cadastrados.",-1)),s[42]||(s[42]=t("div",{class:"mt-1 text-xs text-slate-500"},"Melhore seu controle financeiro agora!",-1)),t("button",{type:"button",class:"mt-4 rounded-full bg-emerald-500 px-4 py-2 text-xs font-semibold text-white",onClick:s[5]||(s[5]=o=>Nt.value=!0)}," Adicionar cart√µes ")])):(n(),i("div",Nl,[Dt.value.length===0?(n(),i("div",Fl,[...s[43]||(s[43]=[t("div",{class:"text-sm font-semibold text-slate-900"},"Nada por aqui.",-1),t("div",{class:"mt-1 text-xs text-slate-500"},"Quando houver cart√µes com esse status, eles aparecem aqui.",-1)])])):(n(),i("div",Tl,[(n(!0),i(Z,null,tt(Dt.value,o=>(n(),Pt(S(K),{key:o.id,href:e.route("credit-cards.show",{account:o.id}),class:"relative shrink-0 overflow-hidden rounded-3xl p-5 shadow-lg transition hover:shadow-xl",style:W({backgroundColor:o.color,width:"320px"})},{default:I(()=>[t("div",Ll,[t("div",jl,[t("div",Il,[_(Rt,{institution:o.institution??o.label,"svg-path":o.svgPath,"fallback-icon":"credit-card","container-class":"flex h-11 w-11 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution","svg-path"]),t("span",Pl,u(o.label),1)]),o.is_primary?(n(),i("span",Vl," PRINCIPAL ")):k("",!0)]),t("div",Rl,[s[45]||(s[45]=t("div",{class:"text-[10px] font-semibold uppercase tracking-wide opacity-90"},"FATURA ATUAL",-1)),t("div",El,u(T.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":q(o.used).replace("R$","R$")),1),t("div",Ol,[t("div",{class:"h-full rounded-full bg-white",style:W({width:`${o.percent}%`})},null,4)]),t("div",Ul,[t("span",zl," Limite: "+u(T.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":`R$ ${o.limit.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})}`),1),t("span",Hl,u(Math.round(o.percent))+"%",1)]),o.dueDay?(n(),i("div",Jl,[s[44]||(s[44]=t("svg",{class:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),t("path",{d:"M16 2v4"}),t("path",{d:"M8 2v4"}),t("path",{d:"M3 10h18"})],-1)),t("span",null,"Vence dia "+u(o.dueDay),1)])):k("",!0)])])]),_:2},1032,["href","style"]))),128))])),t("div",Kl,[t("div",ql,[s[46]||(s[46]=t("span",null,"Total (todos cart√µes)",-1)),t("span",Gl,u(T.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":`R$ ${me.value.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`),1)])])]))])):k("",!0),y.value?(n(),i("section",Yl,[t("div",Ql,[s[48]||(s[48]=t("div",{class:"text-lg font-semibold text-slate-900"},"A Vencer",-1)),_(S(K),{href:e.route("accounts.index"),class:"text-sm font-semibold text-emerald-600"},{default:I(()=>[...s[47]||(s[47]=[z("Ver todas",-1)])]),_:1},8,["href"])]),ge.value?(n(),i("div",Wl,[(n(!0),i(Z,null,tt(Ot.value,o=>(n(),i("div",{key:o.id,class:"flex items-center gap-4 rounded-3xl bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60 cursor-pointer hover:bg-slate-50 active:bg-slate-100 transition-colors",onClick:a=>Te(o.id)},[t("div",Xl,[t("div",ta,u(o.month),1),t("div",ea,u(o.day),1)]),t("div",sa,[t("div",oa,u(o.title),1),t("div",la,u(o.subtitle),1)]),t("div",aa,[t("div",{class:P(["text-sm font-semibold",o.paid?"text-emerald-600 line-through":"text-red-500"])}," - "+u(o.amountLabel),3),t("button",{type:"button",class:P(["flex h-6 w-6 items-center justify-center rounded-full border-2",o.paid?"border-emerald-500 bg-emerald-500":"border-slate-200 bg-white"]),"aria-label":o.paid?"Marcar como n√£o paga":"Marcar como paga",onClick:Ke(a=>Fe(o.id),["stop"])},[o.paid?(n(),i("svg",ia,[...s[49]||(s[49]=[t("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):k("",!0)],10,na)])],8,Zl))),128))])):k("",!0)])):k("",!0),t("section",ra,[t("button",{type:"button",class:"flex w-full items-center justify-between rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/60",onClick:s[6]||(s[6]=o=>ot.value=!0)},[...s[50]||(s[50]=[t("div",{class:"flex items-center gap-4"},[t("span",{class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-white text-slate-500 ring-1 ring-slate-200/60"},[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"8",height:"8",rx:"2"}),t("rect",{x:"13",y:"3",width:"8",height:"5",rx:"2"}),t("rect",{x:"13",y:"10",width:"8",height:"11",rx:"2"}),t("rect",{x:"3",y:"13",width:"8",height:"8",rx:"2"})])]),t("div",null,[t("div",{class:"text-sm font-semibold text-slate-900"},"Gerencie sua tela inicial aqui"),t("div",{class:"mt-1 text-xs font-semibold text-slate-400"},"Escolha o que aparece na Home.")])],-1),t("svg",{class:"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1)])])]),_(We,{open:ft.value,kind:Lt.value,initial:yt.value,categories:Me.value,accounts:Kt.value,tags:v.value.tags,"lock-kind":qt.value,onClose:s[7]||(s[7]=o=>ft.value=!1),onSave:Ne},null,8,["open","kind","initial","categories","accounts","tags","lock-kind"]),_(ns,{open:At.value,onClose:s[8]||(s[8]=o=>At.value=!1),onSave:he},null,8,["open"]),_(us,{open:St.value,onClose:s[9]||(s[9]=o=>St.value=!1),onToast:Y},null,8,["open"]),_(cs,{open:Nt.value,onClose:s[10]||(s[10]=o=>Nt.value=!1),onSave:ye},null,8,["open"]),_(os,{open:nt.value,transaction:De.value,onClose:s[11]||(s[11]=o=>nt.value=!1),onEdit:Qt,onDelete:Ae,onDuplicate:Qt},null,8,["open","transaction"]),_(ms,{show:ot.value,maxWidth:"md",onClose:s[13]||(s[13]=o=>ot.value=!1)},{default:I(()=>[t("div",da,[t("div",ua,[s[52]||(s[52]=t("div",{class:"text-lg font-semibold text-slate-900"},"Tela inicial",-1)),t("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-50 text-slate-600 ring-1 ring-slate-200/60","aria-label":"Fechar",onClick:s[12]||(s[12]=o=>ot.value=!1)},[...s[51]||(s[51]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])]),t("div",ca,[_(vs)])])]),_:1},8,["show"]),_(ls,{show:Bt.value,message:Ht.value,onDismiss:s[14]||(s[14]=o=>Bt.value=!1)},null,8,["show","message"]),_(lo,{open:ct.value,onClose:s[15]||(s[15]=o=>ct.value=!1),onDone:s[16]||(s[16]=o=>ct.value=!1),onAddFirstExpense:s[17]||(s[17]=o=>Gt("expense"))},null,8,["open"]),_(Fo,{open:mt.value,items:jt.value,onClose:s[18]||(s[18]=o=>mt.value=!1),onUpdated:Ve},null,8,["open","items"])]),_:1},16))}});export{Aa as default};
